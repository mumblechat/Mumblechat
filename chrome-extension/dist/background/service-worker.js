var gp=Object.create;var za=Object.defineProperty;var bp=Object.getOwnPropertyDescriptor;var yp=Object.getOwnPropertyNames;var wp=Object.getPrototypeOf,Ap=Object.prototype.hasOwnProperty;var ue=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Au=(r,e)=>{for(var t in e)za(r,t,{get:e[t],enumerable:!0})},Ep=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of yp(e))!Ap.call(r,s)&&s!==t&&za(r,s,{get:()=>e[s],enumerable:!(n=bp(e,s))||n.enumerable});return r};var kp=(r,e,t)=>(t=r!=null?gp(wp(r)):{},Ep(e||!r||!r.__esModule?za(t,"default",{value:r,enumerable:!0}):t,r));var sh=ue((Mk,nh)=>{nh.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var sn=ue(rs=>{var zl,h1=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];rs.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};rs.getSymbolTotalCodewords=function(e){return h1[e]};rs.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};rs.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');zl=e};rs.isKanjiModeEnabled=function(){return typeof zl<"u"};rs.toSJIS=function(e){return zl(e)}});var Ba=ue(It=>{It.L={bit:1};It.M={bit:0};It.Q={bit:3};It.H={bit:2};function p1(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return It.L;case"m":case"medium":return It.M;case"q":case"quartile":return It.Q;case"h":case"high":return It.H;default:throw new Error("Unknown EC Level: "+r)}}It.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};It.from=function(e,t){if(It.isValid(e))return e;try{return p1(e)}catch{return t}}});var ah=ue((Hk,ih)=>{function oh(){this.buffer=[],this.length=0}oh.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};ih.exports=oh});var lh=ue((Gk,ch)=>{function jo(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}jo.prototype.set=function(r,e,t,n){let s=r*this.size+e;this.data[s]=t,n&&(this.reservedBit[s]=!0)};jo.prototype.get=function(r,e){return this.data[r*this.size+e]};jo.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};jo.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};ch.exports=jo});var uh=ue(Ra=>{var x1=sn().getSymbolSize;Ra.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,n=x1(e),s=n===145?26:Math.ceil((n-13)/(2*t-2))*2,o=[n-7];for(let i=1;i<t-1;i++)o[i]=o[i-1]-s;return o.push(6),o.reverse()};Ra.getPositions=function(e){let t=[],n=Ra.getRowColCoords(e),s=n.length;for(let o=0;o<s;o++)for(let i=0;i<s;i++)o===0&&i===0||o===0&&i===s-1||o===s-1&&i===0||t.push([n[o],n[i]]);return t}});var hh=ue(dh=>{var m1=sn().getSymbolSize,fh=7;dh.getPositions=function(e){let t=m1(e);return[[0,0],[t-fh,0],[0,t-fh]]}});var ph=ue(ye=>{ye.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ns={N1:3,N2:3,N3:40,N4:10};ye.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};ye.from=function(e){return ye.isValid(e)?parseInt(e,10):void 0};ye.getPenaltyN1=function(e){let t=e.size,n=0,s=0,o=0,i=null,a=null;for(let c=0;c<t;c++){s=o=0,i=a=null;for(let l=0;l<t;l++){let u=e.get(c,l);u===i?s++:(s>=5&&(n+=ns.N1+(s-5)),i=u,s=1),u=e.get(l,c),u===a?o++:(o>=5&&(n+=ns.N1+(o-5)),a=u,o=1)}s>=5&&(n+=ns.N1+(s-5)),o>=5&&(n+=ns.N1+(o-5))}return n};ye.getPenaltyN2=function(e){let t=e.size,n=0;for(let s=0;s<t-1;s++)for(let o=0;o<t-1;o++){let i=e.get(s,o)+e.get(s,o+1)+e.get(s+1,o)+e.get(s+1,o+1);(i===4||i===0)&&n++}return n*ns.N2};ye.getPenaltyN3=function(e){let t=e.size,n=0,s=0,o=0;for(let i=0;i<t;i++){s=o=0;for(let a=0;a<t;a++)s=s<<1&2047|e.get(i,a),a>=10&&(s===1488||s===93)&&n++,o=o<<1&2047|e.get(a,i),a>=10&&(o===1488||o===93)&&n++}return n*ns.N3};ye.getPenaltyN4=function(e){let t=0,n=e.data.length;for(let o=0;o<n;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/n/5)-10)*ns.N4};function g1(r,e,t){switch(r){case ye.Patterns.PATTERN000:return(e+t)%2===0;case ye.Patterns.PATTERN001:return e%2===0;case ye.Patterns.PATTERN010:return t%3===0;case ye.Patterns.PATTERN011:return(e+t)%3===0;case ye.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case ye.Patterns.PATTERN101:return e*t%2+e*t%3===0;case ye.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case ye.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}ye.applyMask=function(e,t){let n=t.size;for(let s=0;s<n;s++)for(let o=0;o<n;o++)t.isReserved(o,s)||t.xor(o,s,g1(e,o,s))};ye.getBestMask=function(e,t){let n=Object.keys(ye.Patterns).length,s=0,o=1/0;for(let i=0;i<n;i++){t(i),ye.applyMask(i,e);let a=ye.getPenaltyN1(e)+ye.getPenaltyN2(e)+ye.getPenaltyN3(e)+ye.getPenaltyN4(e);ye.applyMask(i,e),a<o&&(o=a,s=i)}return s}});var Jl=ue(Ql=>{var on=Ba(),Sa=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Oa=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ql.getBlocksCount=function(e,t){switch(t){case on.L:return Sa[(e-1)*4+0];case on.M:return Sa[(e-1)*4+1];case on.Q:return Sa[(e-1)*4+2];case on.H:return Sa[(e-1)*4+3];default:return}};Ql.getTotalCodewordsCount=function(e,t){switch(t){case on.L:return Oa[(e-1)*4+0];case on.M:return Oa[(e-1)*4+1];case on.Q:return Oa[(e-1)*4+2];case on.H:return Oa[(e-1)*4+3];default:return}}});var xh=ue(La=>{var qo=new Uint8Array(512),Ua=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)qo[t]=e,Ua[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)qo[t]=qo[t-255]})();La.log=function(e){if(e<1)throw new Error("log("+e+")");return Ua[e]};La.exp=function(e){return qo[e]};La.mul=function(e,t){return e===0||t===0?0:qo[Ua[e]+Ua[t]]}});var mh=ue(Yo=>{var jl=xh();Yo.mul=function(e,t){let n=new Uint8Array(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let o=0;o<t.length;o++)n[s+o]^=jl.mul(e[s],t[o]);return n};Yo.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){let s=n[0];for(let i=0;i<t.length;i++)n[i]^=jl.mul(t[i],s);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};Yo.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let n=0;n<e;n++)t=Yo.mul(t,new Uint8Array([1,jl.exp(n)]));return t}});var yh=ue((jk,bh)=>{var gh=mh();function ql(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}ql.prototype.initialize=function(e){this.degree=e,this.genPoly=gh.generateECPolynomial(this.degree)};ql.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let n=gh.mod(t,this.genPoly),s=this.degree-n.length;if(s>0){let o=new Uint8Array(this.degree);return o.set(n,s),o}return n};bh.exports=ql});var Yl=ue(wh=>{wh.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Zl=ue(Pr=>{var Ah="[0-9]+",b1="[A-Z $%*+\\-./:]+",Zo="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Zo=Zo.replace(/u/g,"\\u");var y1="(?:(?![A-Z0-9 $%*+\\-./:]|"+Zo+`)(?:.|[\r
]))+`;Pr.KANJI=new RegExp(Zo,"g");Pr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Pr.BYTE=new RegExp(y1,"g");Pr.NUMERIC=new RegExp(Ah,"g");Pr.ALPHANUMERIC=new RegExp(b1,"g");var w1=new RegExp("^"+Zo+"$"),A1=new RegExp("^"+Ah+"$"),E1=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Pr.testKanji=function(e){return w1.test(e)};Pr.testNumeric=function(e){return A1.test(e)};Pr.testAlphanumeric=function(e){return E1.test(e)}});var an=ue(Se=>{var k1=Yl(),$l=Zl();Se.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Se.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Se.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Se.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Se.MIXED={bit:-1};Se.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!k1.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Se.getBestModeForData=function(e){return $l.testNumeric(e)?Se.NUMERIC:$l.testAlphanumeric(e)?Se.ALPHANUMERIC:$l.testKanji(e)?Se.KANJI:Se.BYTE};Se.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Se.isValid=function(e){return e&&e.bit&&e.ccBits};function N1(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return Se.NUMERIC;case"alphanumeric":return Se.ALPHANUMERIC;case"kanji":return Se.KANJI;case"byte":return Se.BYTE;default:throw new Error("Unknown mode: "+r)}}Se.from=function(e,t){if(Se.isValid(e))return e;try{return N1(e)}catch{return t}}});var Ph=ue(ss=>{var Da=sn(),I1=Jl(),Eh=Ba(),cn=an(),Xl=Yl(),Nh=7973,kh=Da.getBCHDigit(Nh);function P1(r,e,t){for(let n=1;n<=40;n++)if(e<=ss.getCapacity(n,t,r))return n}function Ih(r,e){return cn.getCharCountIndicator(r,e)+4}function v1(r,e){let t=0;return r.forEach(function(n){let s=Ih(n.mode,e);t+=s+n.getBitsLength()}),t}function T1(r,e){for(let t=1;t<=40;t++)if(v1(r,t)<=ss.getCapacity(t,e,cn.MIXED))return t}ss.from=function(e,t){return Xl.isValid(e)?parseInt(e,10):t};ss.getCapacity=function(e,t,n){if(!Xl.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=cn.BYTE);let s=Da.getSymbolTotalCodewords(e),o=I1.getTotalCodewordsCount(e,t),i=(s-o)*8;if(n===cn.MIXED)return i;let a=i-Ih(n,e);switch(n){case cn.NUMERIC:return Math.floor(a/10*3);case cn.ALPHANUMERIC:return Math.floor(a/11*2);case cn.KANJI:return Math.floor(a/13);case cn.BYTE:default:return Math.floor(a/8)}};ss.getBestVersionForData=function(e,t){let n,s=Eh.from(t,Eh.M);if(Array.isArray(e)){if(e.length>1)return T1(e,s);if(e.length===0)return 1;n=e[0]}else n=e;return P1(n.mode,n.getLength(),s)};ss.getEncodedBits=function(e){if(!Xl.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Da.getBCHDigit(t)-kh>=0;)t^=Nh<<Da.getBCHDigit(t)-kh;return e<<12|t}});var Bh=ue(Ch=>{var eu=sn(),Th=1335,C1=21522,vh=eu.getBCHDigit(Th);Ch.getEncodedBits=function(e,t){let n=e.bit<<3|t,s=n<<10;for(;eu.getBCHDigit(s)-vh>=0;)s^=Th<<eu.getBCHDigit(s)-vh;return(n<<10|s)^C1}});var Sh=ue((eN,Rh)=>{var B1=an();function qs(r){this.mode=B1.NUMERIC,this.data=r.toString()}qs.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};qs.prototype.getLength=function(){return this.data.length};qs.prototype.getBitsLength=function(){return qs.getBitsLength(this.data.length)};qs.prototype.write=function(e){let t,n,s;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),s=parseInt(n,10),e.put(s,10);let o=this.data.length-t;o>0&&(n=this.data.substr(t),s=parseInt(n,10),e.put(s,o*3+1))};Rh.exports=qs});var Uh=ue((tN,Oh)=>{var R1=an(),tu=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ys(r){this.mode=R1.ALPHANUMERIC,this.data=r}Ys.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ys.prototype.getLength=function(){return this.data.length};Ys.prototype.getBitsLength=function(){return Ys.getBitsLength(this.data.length)};Ys.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=tu.indexOf(this.data[t])*45;n+=tu.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(tu.indexOf(this.data[t]),6)};Oh.exports=Ys});var Dh=ue((rN,Lh)=>{var S1=an();function Zs(r){this.mode=S1.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}Zs.getBitsLength=function(e){return e*8};Zs.prototype.getLength=function(){return this.data.length};Zs.prototype.getBitsLength=function(){return Zs.getBitsLength(this.data.length)};Zs.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};Lh.exports=Zs});var Fh=ue((nN,Mh)=>{var O1=an(),U1=sn();function $s(r){this.mode=O1.KANJI,this.data=r}$s.getBitsLength=function(e){return e*13};$s.prototype.getLength=function(){return this.data.length};$s.prototype.getBitsLength=function(){return $s.getBitsLength(this.data.length)};$s.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=U1.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};Mh.exports=$s});var _h=ue((sN,ru)=>{"use strict";var $o={single_source_shortest_paths:function(r,e,t){var n={},s={};s[e]=0;var o=$o.PriorityQueue.make();o.push(e,0);for(var i,a,c,l,u,f,h,p,b;!o.empty();){i=o.pop(),a=i.value,l=i.cost,u=r[a]||{};for(c in u)u.hasOwnProperty(c)&&(f=u[c],h=l+f,p=s[c],b=typeof s[c]>"u",(b||p>h)&&(s[c]=h,o.push(c,h),n[c]=a))}if(typeof t<"u"&&typeof s[t]>"u"){var m=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(m)}return n},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],n=e,s;n;)t.push(n),s=r[n],n=r[n];return t.reverse(),t},find_path:function(r,e,t){var n=$o.single_source_shortest_paths(r,e,t);return $o.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(r){var e=$o.PriorityQueue,t={},n;r=r||{};for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof ru<"u"&&(ru.exports=$o)});var Jh=ue(Xs=>{var ce=an(),Kh=Sh(),Wh=Uh(),Vh=Dh(),zh=Fh(),Xo=Zl(),Ma=sn(),L1=_h();function Hh(r){return unescape(encodeURIComponent(r)).length}function ei(r,e,t){let n=[],s;for(;(s=r.exec(t))!==null;)n.push({data:s[0],index:s.index,mode:e,length:s[0].length});return n}function Qh(r){let e=ei(Xo.NUMERIC,ce.NUMERIC,r),t=ei(Xo.ALPHANUMERIC,ce.ALPHANUMERIC,r),n,s;return Ma.isKanjiModeEnabled()?(n=ei(Xo.BYTE,ce.BYTE,r),s=ei(Xo.KANJI,ce.KANJI,r)):(n=ei(Xo.BYTE_KANJI,ce.BYTE,r),s=[]),e.concat(t,n,s).sort(function(i,a){return i.index-a.index}).map(function(i){return{data:i.data,mode:i.mode,length:i.length}})}function nu(r,e){switch(e){case ce.NUMERIC:return Kh.getBitsLength(r);case ce.ALPHANUMERIC:return Wh.getBitsLength(r);case ce.KANJI:return zh.getBitsLength(r);case ce.BYTE:return Vh.getBitsLength(r)}}function D1(r){return r.reduce(function(e,t){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function M1(r){let e=[];for(let t=0;t<r.length;t++){let n=r[t];switch(n.mode){case ce.NUMERIC:e.push([n,{data:n.data,mode:ce.ALPHANUMERIC,length:n.length},{data:n.data,mode:ce.BYTE,length:n.length}]);break;case ce.ALPHANUMERIC:e.push([n,{data:n.data,mode:ce.BYTE,length:n.length}]);break;case ce.KANJI:e.push([n,{data:n.data,mode:ce.BYTE,length:Hh(n.data)}]);break;case ce.BYTE:e.push([{data:n.data,mode:ce.BYTE,length:Hh(n.data)}])}}return e}function F1(r,e){let t={},n={start:{}},s=["start"];for(let o=0;o<r.length;o++){let i=r[o],a=[];for(let c=0;c<i.length;c++){let l=i[c],u=""+o+c;a.push(u),t[u]={node:l,lastCount:0},n[u]={};for(let f=0;f<s.length;f++){let h=s[f];t[h]&&t[h].node.mode===l.mode?(n[h][u]=nu(t[h].lastCount+l.length,l.mode)-nu(t[h].lastCount,l.mode),t[h].lastCount+=l.length):(t[h]&&(t[h].lastCount=l.length),n[h][u]=nu(l.length,l.mode)+4+ce.getCharCountIndicator(l.mode,e))}}s=a}for(let o=0;o<s.length;o++)n[s[o]].end=0;return{map:n,table:t}}function Gh(r,e){let t,n=ce.getBestModeForData(r);if(t=ce.from(e,n),t!==ce.BYTE&&t.bit<n.bit)throw new Error('"'+r+'" cannot be encoded with mode '+ce.toString(t)+`.
 Suggested mode is: `+ce.toString(n));switch(t===ce.KANJI&&!Ma.isKanjiModeEnabled()&&(t=ce.BYTE),t){case ce.NUMERIC:return new Kh(r);case ce.ALPHANUMERIC:return new Wh(r);case ce.KANJI:return new zh(r);case ce.BYTE:return new Vh(r)}}Xs.fromArray=function(e){return e.reduce(function(t,n){return typeof n=="string"?t.push(Gh(n,null)):n.data&&t.push(Gh(n.data,n.mode)),t},[])};Xs.fromString=function(e,t){let n=Qh(e,Ma.isKanjiModeEnabled()),s=M1(n),o=F1(s,t),i=L1.find_path(o.map,"start","end"),a=[];for(let c=1;c<i.length-1;c++)a.push(o.table[i[c]].node);return Xs.fromArray(D1(a))};Xs.rawSplit=function(e){return Xs.fromArray(Qh(e,Ma.isKanjiModeEnabled()))}});var qh=ue(jh=>{var _a=sn(),su=Ba(),_1=ah(),H1=lh(),G1=uh(),K1=hh(),au=ph(),cu=Jl(),W1=yh(),Fa=Ph(),V1=Bh(),z1=an(),ou=Jh();function Q1(r,e){let t=r.size,n=K1.getPositions(e);for(let s=0;s<n.length;s++){let o=n[s][0],i=n[s][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||t<=o+a))for(let c=-1;c<=7;c++)i+c<=-1||t<=i+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?r.set(o+a,i+c,!0,!0):r.set(o+a,i+c,!1,!0))}}function J1(r){let e=r.size;for(let t=8;t<e-8;t++){let n=t%2===0;r.set(t,6,n,!0),r.set(6,t,n,!0)}}function j1(r,e){let t=G1.getPositions(e);for(let n=0;n<t.length;n++){let s=t[n][0],o=t[n][1];for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i===-2||i===2||a===-2||a===2||i===0&&a===0?r.set(s+i,o+a,!0,!0):r.set(s+i,o+a,!1,!0)}}function q1(r,e){let t=r.size,n=Fa.getEncodedBits(e),s,o,i;for(let a=0;a<18;a++)s=Math.floor(a/3),o=a%3+t-8-3,i=(n>>a&1)===1,r.set(s,o,i,!0),r.set(o,s,i,!0)}function iu(r,e,t){let n=r.size,s=V1.getEncodedBits(e,t),o,i;for(o=0;o<15;o++)i=(s>>o&1)===1,o<6?r.set(o,8,i,!0):o<8?r.set(o+1,8,i,!0):r.set(n-15+o,8,i,!0),o<8?r.set(8,n-o-1,i,!0):o<9?r.set(8,15-o-1+1,i,!0):r.set(8,15-o-1,i,!0);r.set(n-8,8,1,!0)}function Y1(r,e){let t=r.size,n=-1,s=t-1,o=7,i=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!r.isReserved(s,a-c)){let l=!1;i<e.length&&(l=(e[i]>>>o&1)===1),r.set(s,a-c,l),o--,o===-1&&(i++,o=7)}if(s+=n,s<0||t<=s){s-=n,n=-n;break}}}function Z1(r,e,t){let n=new _1;t.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),z1.getCharCountIndicator(c.mode,r)),c.write(n)});let s=_a.getSymbolTotalCodewords(r),o=cu.getTotalCodewordsCount(r,e),i=(s-o)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(i-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return $1(n,r,e)}function $1(r,e,t){let n=_a.getSymbolTotalCodewords(e),s=cu.getTotalCodewordsCount(e,t),o=n-s,i=cu.getBlocksCount(e,t),a=n%i,c=i-a,l=Math.floor(n/i),u=Math.floor(o/i),f=u+1,h=l-u,p=new W1(h),b=0,m=new Array(i),y=new Array(i),w=0,P=new Uint8Array(r.buffer);for(let S=0;S<i;S++){let R=S<c?u:f;m[S]=P.slice(b,b+R),y[S]=p.encode(m[S]),b+=R,w=Math.max(w,R)}let N=new Uint8Array(n),D=0,v,C;for(v=0;v<w;v++)for(C=0;C<i;C++)v<m[C].length&&(N[D++]=m[C][v]);for(v=0;v<h;v++)for(C=0;C<i;C++)N[D++]=y[C][v];return N}function X1(r,e,t,n){let s;if(Array.isArray(r))s=ou.fromArray(r);else if(typeof r=="string"){let l=e;if(!l){let u=ou.rawSplit(r);l=Fa.getBestVersionForData(u,t)}s=ou.fromString(r,l||40)}else throw new Error("Invalid data");let o=Fa.getBestVersionForData(s,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let i=Z1(e,t,s),a=_a.getSymbolSize(e),c=new H1(a);return Q1(c,e),J1(c),j1(c,e),iu(c,t,0),e>=7&&q1(c,e),Y1(c,i),isNaN(n)&&(n=au.getBestMask(c,iu.bind(null,c,t))),au.applyMask(n,c),iu(c,t,n),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:n,segments:s}}jh.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let n=su.M,s,o;return typeof t<"u"&&(n=su.from(t.errorCorrectionLevel,su.M),s=Fa.from(t.version),o=au.from(t.maskPattern),t.toSJISFunc&&_a.setToSJISFunction(t.toSJISFunc)),X1(e,s,n,o)}});var lu=ue(os=>{function Yh(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}os.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:n,scale:n?4:s,margin:t,color:{dark:Yh(e.color.dark||"#000000ff"),light:Yh(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};os.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};os.getImageWidth=function(e,t){let n=os.getScale(e,t);return Math.floor((e+t.margin*2)*n)};os.qrToImageData=function(e,t,n){let s=t.modules.size,o=t.modules.data,i=os.getScale(s,n),a=Math.floor((s+n.margin*2)*i),c=n.margin*i,l=[n.color.light,n.color.dark];for(let u=0;u<a;u++)for(let f=0;f<a;f++){let h=(u*a+f)*4,p=n.color.light;if(u>=c&&f>=c&&u<a-c&&f<a-c){let b=Math.floor((u-c)/i),m=Math.floor((f-c)/i);p=l[o[b*s+m]?1:0]}e[h++]=p.r,e[h++]=p.g,e[h++]=p.b,e[h]=p.a}}});var Zh=ue(Ha=>{var uu=lu();function ey(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function ty(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ha.render=function(e,t,n){let s=n,o=t;typeof s>"u"&&(!t||!t.getContext)&&(s=t,t=void 0),t||(o=ty()),s=uu.getOptions(s);let i=uu.getImageWidth(e.modules.size,s),a=o.getContext("2d"),c=a.createImageData(i,i);return uu.qrToImageData(c.data,e,s),ey(a,o,i),a.putImageData(c,0,0),o};Ha.renderToDataURL=function(e,t,n){let s=n;typeof s>"u"&&(!t||!t.getContext)&&(s=t,t=void 0),s||(s={});let o=Ha.render(e,t,s),i=s.type||"image/png",a=s.rendererOpts||{};return o.toDataURL(i,a.quality)}});var ep=ue(Xh=>{var ry=lu();function $h(r,e){let t=r.a/255,n=e+'="'+r.hex+'"';return t<1?n+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':n}function fu(r,e,t){let n=r+e;return typeof t<"u"&&(n+=" "+t),n}function ny(r,e,t){let n="",s=0,o=!1,i=0;for(let a=0;a<r.length;a++){let c=Math.floor(a%e),l=Math.floor(a/e);!c&&!o&&(o=!0),r[a]?(i++,a>0&&c>0&&r[a-1]||(n+=o?fu("M",c+t,.5+l+t):fu("m",s,0),s=0,o=!1),c+1<e&&r[a+1]||(n+=fu("h",i),i=0)):s++}return n}Xh.render=function(e,t,n){let s=ry.getOptions(t),o=e.modules.size,i=e.modules.data,a=o+s.margin*2,c=s.color.light.a?"<path "+$h(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+$h(s.color.dark,"stroke")+' d="'+ny(i,o,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,h),h}});var rp=ue(ti=>{var sy=sh(),du=qh(),tp=Zh(),oy=ep();function hu(r,e,t,n,s){let o=[].slice.call(arguments,1),i=o.length,a=typeof o[i-1]=="function";if(!a&&!sy())throw new Error("Callback required as last argument");if(a){if(i<2)throw new Error("Too few arguments provided");i===2?(s=t,t=e,e=n=void 0):i===3&&(e.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=t,t=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(t=e,e=n=void 0):i===2&&!e.getContext&&(n=t,t=e,e=void 0),new Promise(function(c,l){try{let u=du.create(t,n);c(r(u,e,n))}catch(u){l(u)}})}try{let c=du.create(t,n);s(null,r(c,e,n))}catch(c){s(c)}}ti.create=du.create;ti.toCanvas=hu.bind(null,tp.render);ti.toDataURL=hu.bind(null,tp.renderToDataURL);ti.toString=hu.bind(null,function(r,e,t){return oy.render(r,t)})});var re={};Au(re,{AbiCoder:()=>gt,AbstractProvider:()=>yt,AbstractSigner:()=>wt,AlchemyProvider:()=>Wn,AnkrProvider:()=>Kn,BaseContract:()=>wr,BaseWallet:()=>Er,Block:()=>Ln,BlockscoutProvider:()=>Fo,BrowserProvider:()=>Mo,ChainstackProvider:()=>Vn,CloudflareProvider:()=>zn,ConstructorFragment:()=>Jt,Contract:()=>ot,ContractEventPayload:()=>Dn,ContractFactory:()=>To,ContractTransactionReceipt:()=>Os,ContractTransactionResponse:()=>yr,ContractUnknownEventPayload:()=>jr,EnsPlugin:()=>Zr,EnsResolver:()=>qr,ErrorDescription:()=>Rs,ErrorFragment:()=>tt,EtherSymbol:()=>Bc,EtherscanPlugin:()=>Uo,EtherscanProvider:()=>Qn,EventFragment:()=>Qt,EventLog:()=>br,EventPayload:()=>ir,FallbackFragment:()=>On,FallbackProvider:()=>qn,FeeData:()=>Qr,FeeDataNetworkPlugin:()=>Ro,FetchCancelSignal:()=>ds,FetchRequest:()=>ae,FetchResponse:()=>Tt,FetchUrlFeeDataNetworkPlugin:()=>_n,FixedNumber:()=>Sr,Fragment:()=>qt,FunctionFragment:()=>jt,GasCostPlugin:()=>Yr,HDNodeVoidWallet:()=>ts,HDNodeWallet:()=>Ir,Indexed:()=>Un,InfuraProvider:()=>rn,InfuraWebSocketProvider:()=>Hs,Interface:()=>mr,IpcSocketProvider:()=>Rl,JsonRpcApiProvider:()=>en,JsonRpcProvider:()=>Ae,JsonRpcSigner:()=>Xr,LangEn:()=>it,Log:()=>dt,LogDescription:()=>Cs,MaxInt256:()=>Cc,MaxUint256:()=>vc,MessagePrefix:()=>mo,MinInt256:()=>Tc,Mnemonic:()=>Zt,MulticoinProviderPlugin:()=>Us,N:()=>Ic,NamedFragment:()=>xr,Network:()=>J,NetworkPlugin:()=>Wt,NonceManager:()=>Do,ParamType:()=>Ie,PocketProvider:()=>_o,QuickNodeProvider:()=>jn,Result:()=>Bt,Signature:()=>Ce,SigningKey:()=>He,SocketBlockSubscriber:()=>Ms,SocketEventSubscriber:()=>_s,SocketPendingSubscriber:()=>Fs,SocketProvider:()=>Jn,SocketSubscriber:()=>tn,StructFragment:()=>Vr,Transaction:()=>ft,TransactionDescription:()=>Bs,TransactionReceipt:()=>gr,TransactionResponse:()=>Yt,Typed:()=>fe,TypedDataEncoder:()=>mt,UndecodedEventLog:()=>Jr,UnmanagedSubscriber:()=>Vt,Utf8ErrorFuncs:()=>ai,VoidSigner:()=>Gn,Wallet:()=>Qo,WebSocketProvider:()=>Ar,WeiPerEther:()=>Pc,Wordlist:()=>Yn,WordlistOwl:()=>kr,WordlistOwlA:()=>Jo,ZeroAddress:()=>Mt,ZeroHash:()=>ws,accessListify:()=>Ge,assert:()=>g,assertArgument:()=>d,assertArgumentCount:()=>dn,assertNormalize:()=>hn,assertPrivate:()=>Fe,authorizationify:()=>Tn,checkResultErrors:()=>xi,computeAddress:()=>_t,computeHmac:()=>Ot,concat:()=>M,copyRequest:()=>bt,dataLength:()=>nt,dataSlice:()=>te,decodeBase58:()=>oo,decodeBase64:()=>io,decodeBytes32String:()=>ll,decodeRlp:()=>ar,decryptCrowdsaleJson:()=>js,decryptKeystoreJson:()=>zo,decryptKeystoreJsonSync:()=>Vo,defaultPath:()=>Qs,defineProperties:()=>k,dnsEncode:()=>No,encodeBase58:()=>xn,encodeBase64:()=>ao,encodeBytes32String:()=>cl,encodeRlp:()=>je,encryptKeystoreJson:()=>es,encryptKeystoreJsonSync:()=>Xn,ensNormalize:()=>Xi,formatEther:()=>Za,formatUnits:()=>fi,fromTwos:()=>sr,getAccountPath:()=>Kl,getAddress:()=>L,getBigInt:()=>I,getBytes:()=>E,getBytesCopy:()=>ge,getCreate2Address:()=>Lc,getCreateAddress:()=>Pn,getDefaultProvider:()=>Bl,getIcapAddress:()=>Uc,getIndexedAccountPath:()=>Wl,getNumber:()=>O,getUint:()=>pn,hashAuthorization:()=>ks,hashMessage:()=>Ts,hexlify:()=>A,id:()=>Ke,isAddress:()=>Mc,isAddressable:()=>As,isBytesLike:()=>Pt,isCallException:()=>Rr,isCrowdsaleJson:()=>Js,isError:()=>ne,isHexString:()=>W,isKeystoreJson:()=>zs,isValidName:()=>el,keccak256:()=>H,lock:()=>l0,makeError:()=>Q,mask:()=>ct,namehash:()=>Wr,parseEther:()=>$a,parseUnits:()=>di,pbkdf2:()=>Xe,randomBytes:()=>Ye,recoverAddress:()=>Ht,resolveAddress:()=>be,resolveProperties:()=>he,ripemd160:()=>Ut,scrypt:()=>Lt,scryptSync:()=>Dt,sha256:()=>Te,sha512:()=>wn,showThrottleMessage:()=>Ve,solidityPacked:()=>Io,solidityPackedKeccak256:()=>rl,solidityPackedSha256:()=>nl,stripZerosLeft:()=>Qa,toBeArray:()=>Z,toBeHex:()=>De,toBigInt:()=>pt,toNumber:()=>so,toQuantity:()=>Oe,toTwos:()=>or,toUtf8Bytes:()=>ie,toUtf8CodePoints:()=>ja,toUtf8String:()=>$e,uuidV4:()=>lo,verifyAuthorization:()=>Kc,verifyMessage:()=>tl,verifyTypedData:()=>il,version:()=>ls,wordlists:()=>Vl,zeroPadBytes:()=>nr,zeroPadValue:()=>ve});var ls="6.16.0";function Np(r,e,t){let n=e.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}let s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function he(r){let e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,o)=>(n[e[o]]=s,n),{})}function k(r,e,t){for(let n in e){let s=e[n],o=t?t[n]:null;o&&Np(s,o,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}function us(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>us(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){let t="0123456789abcdef",n="0x";for(let s=0;s<r.length;s++)n+=t[r[s]>>4],n+=t[r[s]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return us(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let t=Object.keys(r);return t.sort(),"{ "+t.map(n=>`${us(n,e)}: ${us(r[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ne(r,e){return r&&r.code===e}function Rr(r){return ne(r,"CALL_EXCEPTION")}function Q(r,e,t){let n=r;{let o=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${us(t)}`);for(let i in t){if(i==="shortMessage")continue;let a=t[i];o.push(i+"="+us(a))}}o.push(`code=${e}`),o.push(`version=${ls}`),o.length&&(r+=" ("+o.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(r);break;default:s=new Error(r)}return k(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&k(s,{shortMessage:n}),s}function g(r,e,t,n){if(!r)throw Q(e,t,n)}function d(r,e,t,n){g(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}function dn(r,e,t){t==null&&(t=""),t&&(t=": "+t),g(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),g(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}var Ip=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");r.push(e)}catch{}return r},[]);function hn(r){g(Ip.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function Fe(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),g(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function ku(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.length%2===0&&r.match(/^0x[0-9a-f]*$/i)){let n=new Uint8Array((r.length-2)/2),s=2;for(let o=0;o<n.length;o++)n[o]=parseInt(r.substring(s,s+2),16),s+=2;return n}d(!1,"invalid BytesLike value",e||"value",r)}function E(r,e){return ku(r,e,!1)}function ge(r,e){return ku(r,e,!0)}function W(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function Pt(r){return W(r,!0)||r instanceof Uint8Array}var Eu="0123456789abcdef";function A(r){let e=E(r),t="0x";for(let n=0;n<e.length;n++){let s=e[n];t+=Eu[(s&240)>>4]+Eu[s&15]}return t}function M(r){return"0x"+r.map(e=>A(e).substring(2)).join("")}function nt(r){return W(r,!0)?(r.length-2)/2:E(r).length}function te(r,e,t){let n=E(r);return t!=null&&t>n.length&&g(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),A(n.slice(e??0,t??n.length))}function Qa(r){let e=A(r).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function Nu(r,e,t){let n=E(r);g(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});let s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),A(s)}function ve(r,e){return Nu(r,e,!0)}function nr(r,e){return Nu(r,e,!1)}var no=BigInt(0),vt=BigInt(1),fs=9007199254740991;function sr(r,e){let t=pn(r,"value"),n=BigInt(O(e,"width"));if(g(t>>n===no,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-vt){let s=(vt<<n)-vt;return-((~t&s)+vt)}return t}function or(r,e){let t=I(r,"value"),n=BigInt(O(e,"width")),s=vt<<n-vt;if(t<no){t=-t,g(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});let o=(vt<<n)-vt;return(~t&o)+vt}else g(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function ct(r,e){let t=pn(r,"value"),n=BigInt(O(e,"bits"));return t&(vt<<n)-vt}function I(r,e){switch(typeof r){case"bigint":return r;case"number":return d(Number.isInteger(r),"underflow",e||"value",r),d(r>=-fs&&r<=fs,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){d(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}d(!1,"invalid BigNumberish value",e||"value",r)}function pn(r,e){let t=I(r,e);return g(t>=no,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}var Iu="0123456789abcdef";function pt(r){if(r instanceof Uint8Array){let e="0x0";for(let t of r)e+=Iu[t>>4],e+=Iu[t&15];return BigInt(e)}return I(r)}function O(r,e){switch(typeof r){case"bigint":return d(r>=-fs&&r<=fs,"overflow",e||"value",r),Number(r);case"number":return d(Number.isInteger(r),"underflow",e||"value",r),d(r>=-fs&&r<=fs,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return O(BigInt(r),e)}catch(t){d(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}d(!1,"invalid numeric value",e||"value",r)}function so(r){return O(pt(r))}function De(r,e){let t=pn(r,"value"),n=t.toString(16);if(e==null)n.length%2&&(n="0"+n);else{let s=O(e,"width");if(s===0&&t===no)return"0x";for(g(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}function Z(r,e){let t=pn(r,"value");if(t===no){let o=e!=null?O(e,"width"):0;return new Uint8Array(o)}let n=t.toString(16);if(n.length%2&&(n="0"+n),e!=null){let o=O(e,"width");for(;n.length<o*2;)n="00"+n;g(o*2===n.length,`value exceeds width (${o} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:r})}let s=new Uint8Array(n.length/2);for(let o=0;o<s.length;o++){let i=o*2;s[o]=parseInt(n.substring(i,i+2),16)}return s}function Oe(r){let e=A(Pt(r)?r:Z(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var ii="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oi=null;function Pp(r){if(oi==null){oi={};for(let t=0;t<ii.length;t++)oi[ii[t]]=BigInt(t)}let e=oi[r];return d(e!=null,"invalid base58 value","letter",r),e}var vp=BigInt(0),Ja=BigInt(58);function xn(r){let e=E(r),t=pt(e),n="";for(;t;)n=ii[Number(t%Ja)]+n,t/=Ja;for(let s=0;s<e.length&&!e[s];s++)n=ii[0]+n;return n}function oo(r){let e=vp;for(let t=0;t<r.length;t++)e*=Ja,e+=Pp(r[t]);return e}function io(r){r=atob(r);let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return E(e)}function ao(r){let e=E(r),t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}var ir=class{filter;emitter;#e;constructor(e,t,n){this.#e=t,k(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}};function Tp(r,e,t,n,s){d(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Pu(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let o=0;for(let i=e+1;i<t.length&&t[i]>>6===2;i++)o++;return o}return r==="OVERRUN"?t.length-e-1:0}function Cp(r,e,t,n,s){return r==="OVERLONG"?(d(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Pu(r,e,t,n,s))}var ai=Object.freeze({error:Tp,ignore:Pu,replace:Cp});function vu(r,e){e==null&&(e=ai.error);let t=E(r,"bytes"),n=[],s=0;for(;s<t.length;){let o=t[s++];if(!(o>>7)){n.push(o);continue}let i=null,a=null;if((o&224)===192)i=1,a=127;else if((o&240)===224)i=2,a=2047;else if((o&248)===240)i=3,a=65535;else{(o&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+i>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let c=o&(1<<8-i-1)-1;for(let l=0;l<i;l++){let u=t[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-i,t,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-i,t,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-i,t,n,c);continue}n.push(c)}}return n}function ie(r,e){d(typeof r=="string","invalid string value","str",r),e!=null&&(hn(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;let o=r.charCodeAt(n);d(n<r.length&&(o&64512)===56320,"invalid surrogate pair","str",r);let i=65536+((s&1023)<<10)+(o&1023);t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(i&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function Bp(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function $e(r,e){return Bp(vu(r,e))}function ja(r,e){return vu(ie(r,e))}function ci(r){async function e(t,n){g(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");let s=t.url.split(":")[0].toLowerCase();g(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),g(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null,i=new AbortController,a=setTimeout(()=>{o=Q("request timeout","TIMEOUT"),i.abort()},t.timeout);n&&n.addListener(()=>{o=Q("request cancelled","CANCELLED"),i.abort()});let c=Object.assign({},r,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:i.signal}),l;try{l=await fetch(t.url,c)}catch(p){throw clearTimeout(a),o||p}clearTimeout(a);let u={};l.headers.forEach((p,b)=>{u[b.toLowerCase()]=p});let f=await l.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:h}}return e}var Rw=ci({});var Rp=12,Sp=250,Tu=ci(),Op=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Up=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),qa=!1;async function Bu(r,e){try{let t=r.match(Op);if(!t)throw new Error("invalid data");return new Tt(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?io(t[3]):Lp(t[3]))}catch{return new Tt(599,"BAD REQUEST (invalid data: URI)",{},null,new ae(r))}}function Ru(r){async function e(t,n){try{let s=t.match(Up);if(!s)throw new Error("invalid link");return new ae(`${r}${s[2]}`)}catch{return new Tt(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ae(t))}}return e}var li={data:Bu,ipfs:Ru("https://gateway.ipfs.io/ipfs/")},Su=new WeakMap,ds=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,Su.set(e,()=>{if(!this.#t){this.#t=!0;for(let t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){g(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){g(!this.cancelled,"cancelled","CANCELLED",{})}};function ui(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}var ae=class r{#e;#t;#r;#n;#s;#i;#o;#a;#f;#l;#p;#x;#c;#u;#d;get url(){return this.#i}set url(e){this.#i=String(e)}get body(){return this.#o==null?null:new Uint8Array(this.#o)}set body(e){if(e==null)this.#o=void 0,this.#a=void 0;else if(typeof e=="string")this.#o=ie(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#o=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#o=ie(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#o!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#r);return this.#f&&(e.authorization=`Basic ${ao(ie(this.#f))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#r[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#r={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(e,t){d(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#s}set timeout(e){d(e>=0,"timeout must be non-zero","timeout",e),this.#s=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#x||null}set retryFunc(e){this.#x=e}get getUrlFunc(){return this.#d||Tu}set getUrlFunc(e){this.#d=e}constructor(e){this.#i=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#s=3e5,this.#u={slotInterval:Sp,maxAttempts:Rp},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#o?A(this.#o):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#h(e,t,n,s,o){if(e>=this.#u.maxAttempts)return o.makeServerError("exceeded maximum retry limit");g(Cu()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await Dp(n);let i=this.clone(),a=(i.url.split(":")[0]||"").toLowerCase();if(a in li){let u=await li[a](i.url,ui(s.#c));if(u instanceof Tt){let f=u;if(this.processFunc){ui(s.#c);try{f=await this.processFunc(i,f)}catch(h){(h.throttle==null||typeof h.stall!="number")&&f.makeServerError("error in post-processing function",h).assertOk()}}return f}i=u}this.preflightFunc&&(i=await this.preflightFunc(i));let c=await this.getUrlFunc(i,ui(s.#c)),l=new Tt(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{let u=l.headers.location||"";return i.redirect(u).#h(e+1,t,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(i,l,e))){let u=l.headers["retry-after"],f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(f=parseInt(u)),i.clone().#h(e+1,t,f,s,l)}if(this.processFunc){ui(s.#c);try{l=await this.processFunc(i,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(f=u.stall),i.clone().#h(e+1,t,f,s,l)}}return l}send(){return g(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new ds(this),this.#h(0,Cu()+this.timeout,0,this,new Tt(0,"",{},null,this))}cancel(){g(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=Su.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();g(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let s=new r(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#r=Object.assign({},this.#r),this.#o&&(s.#o=new Uint8Array(this.#o)),s.#a=this.#a,s}clone(){let e=new r(this.url);return e.#n=this.#n,this.#o&&(e.#o=this.#o),e.#a=this.#a,e.#r=Object.assign({},this.#r),e.#f=this.#f,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#p=this.#p,e.#x=this.#x,e.#u=Object.assign({},this.#u),e.#d=this.#d,e}static lockConfig(){qa=!0}static getGateway(e){return li[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(qa)throw new Error("gateways locked");li[e]=t}static registerGetUrl(e){if(qa)throw new Error("gateways locked");Tu=e}static createGetUrlFunc(e){return ci(e)}static createDataGateway(){return Bu}static createIpfsGatewayFunc(e){return Ru(e)}},Tt=class r{#e;#t;#r;#n;#s;#i;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?A(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":$e(this.#n)}catch{g(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{g(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),n=0;return{next:()=>{if(n<t.length){let s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,s,o){this.#e=e,this.#t=t,this.#r=Object.keys(n).reduce((i,a)=>(i[a.toLowerCase()]=String(n[a]),i),{}),this.#n=s==null?null:new Uint8Array(s),this.#s=o||null,this.#i={message:""}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);let s=new r(599,n,this.headers,this.body,this.#s||void 0);return s.#i={message:e,error:t},s}throwThrottleError(e,t){t==null?t=-1:d(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let n=new Error(e||"throttling requests");throw k(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#s}ok(){return this.#i.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#i;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{this.#n&&(s=$e(this.#n))}catch{}g(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function Cu(){return new Date().getTime()}function Lp(r){return ie(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Dp(r){return new Promise(e=>setTimeout(e,r))}var Mp=BigInt(-1),Ct=BigInt(0),ps=BigInt(1),Fp=BigInt(5),hs={},xs="0000";for(;xs.length<80;)xs+=xs;function mn(r){let e=xs;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function co(r,e,t){let n=BigInt(e.width);if(e.signed){let s=ps<<n-ps;g(t==null||r>=-s&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>Ct?r=sr(ct(r,n),n):r=-sr(ct(-r,n),n)}else{let s=ps<<n;g(t==null||r>=0&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%s+s)%s&s-ps}return r}function Ya(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{let o=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);d(o,"invalid fixed format","format",r),e=o[1]!=="u",t=parseInt(o[2]),n=parseInt(o[3])}}else if(r){let o=r,i=(a,c,l)=>o[a]==null?l:(d(typeof o[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,o[a]),o[a]);e=i("signed","boolean",e),t=i("width","number",t),n=i("decimals","number",n)}d(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),d(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let s=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:s}}function _p(r,e){let t="";r<Ct&&(t="-",r*=Mp);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=xs+n;let s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}var Sr=class r{format;#e;#t;#r;_value;constructor(e,t,n){Fe(e,hs,"FixedNumber"),this.#t=t,this.#e=n;let s=_p(t,n.decimals);k(this,{format:n.name,_value:s}),this.#r=mn(n.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(e){d(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#s(e,t){return e=co(e,this.#e,t),new r(hs,e,this.#e)}#i(e,t){return this.#n(e),this.#s(this.#t+e.#t,t)}addUnsafe(e){return this.#i(e)}add(e){return this.#i(e,"add")}#o(e,t){return this.#n(e),this.#s(this.#t-e.#t,t)}subUnsafe(e){return this.#o(e)}sub(e){return this.#o(e,"sub")}#a(e,t){return this.#n(e),this.#s(this.#t*e.#t/this.#r,t)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#n(e);let t=this.#t*e.#t;return g(t%this.#r===Ct,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#s(t/this.#r,"mulSignal")}#f(e,t){return g(e.#t!==Ct,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e),this.#s(this.#t*this.#r/e.#t,t)}divUnsafe(e){return this.#f(e)}div(e){return this.#f(e,"div")}divSignal(e){g(e.#t!==Ct,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e);let t=this.#t*this.#r;return g(t%e.#t===Ct,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#s(t/e.#t,"divSignal")}cmp(e){let t=this.value,n=e.value,s=this.decimals-e.decimals;return s>0?n*=mn(s):s<0&&(t*=mn(-s)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<Ct&&(e-=this.#r-ps),e=this.#t/this.#r*this.#r,this.#s(e,"floor")}ceiling(){let e=this.#t;return this.#t>Ct&&(e+=this.#r-ps),e=this.#t/this.#r*this.#r,this.#s(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,n=Fp*mn(t-1),s=this.value+n,o=mn(t);return s=s/o*o,co(s,this.#e,"round"),new r(hs,s,this.#e)}isZero(){return this.#t===Ct}isNegative(){return this.#t<Ct}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return r.fromString(this.toString(),e)}static fromValue(e,t,n){let s=t==null?0:O(t),o=Ya(n),i=I(e,"value"),a=s-o.decimals;if(a>0){let c=mn(a);g(i%c===Ct,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),i/=c}else a<0&&(i*=mn(-a));return co(i,o,"fromValue"),new r(hs,i,o)}static fromString(e,t){let n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);d(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);let s=Ya(t),o=n[2]||"0",i=n[3]||"";for(;i.length<s.decimals;)i+=xs;g(i.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),i=i.substring(0,s.decimals);let a=BigInt(n[1]+o+i);return co(a,s,"fromString"),new r(hs,a,s)}static fromBytes(e,t){let n=pt(E(e,"value")),s=Ya(t);return s.signed&&(n=sr(n,s.width)),co(n,s,"fromBytes"),new r(hs,n,s)}};function Hp(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Ou(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function Uu(r,e,t,n){let s=[];for(;t<e+1+n;){let o=Lu(r,t);s.push(o.result),t+=o.consumed,g(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function Lu(r,e){g(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});let t=n=>{g(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){let n=r[e]-247;t(e+1+n);let s=Ou(r,e+1,n);return t(e+1+n+s),Uu(r,e,e+1+n,n+s)}else if(r[e]>=192){let n=r[e]-192;return t(e+1+n),Uu(r,e,e+1,n)}else if(r[e]>=184){let n=r[e]-183;t(e+1+n);let s=Ou(r,e+1,n);t(e+1+n+s);let o=A(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:o}}else if(r[e]>=128){let n=r[e]-128;t(e+1+n);let s=A(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:Hp(r[e])}}function ar(r){let e=E(r,"data"),t=Lu(e,0);return d(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function Du(r){let e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Fu(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(o){n=n.concat(Fu(o))}),n.length<=55)return n.unshift(192+n.length),n;let s=Du(n.length);return s.unshift(247+s.length),s.concat(n)}let e=Array.prototype.slice.call(E(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=Du(e.length);return t.unshift(183+t.length),t.concat(e)}var Mu="0123456789abcdef";function je(r){let e="0x";for(let t of Fu(r))e+=Mu[t>>4],e+=Mu[t&15];return e}var _u=["wei","kwei","mwei","gwei","szabo","finney","ether"];function fi(r,e){let t=18;if(typeof e=="string"){let n=_u.indexOf(e);d(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=O(e,"unit"));return Sr.fromValue(r,t,{decimals:t,width:512}).toString()}function di(r,e){d(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){let n=_u.indexOf(e);d(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=O(e,"unit"));return Sr.fromString(r,{decimals:t,width:512}).value}function Za(r){return fi(r,18)}function $a(r){return di(r,18)}function lo(r){let e=E(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=A(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}var _e=32,Xa=new Uint8Array(_e),Gp=["then"],hi={},Ku=new WeakMap;function gn(r){return Ku.get(r)}function Hu(r,e){Ku.set(r,e)}function uo(r,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function ec(r,e,t){return r.indexOf(null)>=0?e.map((n,s)=>n instanceof Bt?ec(gn(n),n,t):n):r.reduce((n,s,o)=>{let i=e.getValue(s);return s in n||(t&&i instanceof Bt&&(i=ec(gn(i),i,t)),n[s]=i),n},{})}var Bt=class r extends Array{#e;constructor(...e){let t=e[0],n=e[1],s=(e[2]||[]).slice(),o=!0;t!==hi&&(n=e,s=[],o=!1),super(n.length),n.forEach((c,l)=>{this[l]=c});let i=s.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(Hu(this,Object.freeze(n.map((c,l)=>{let u=s[l];return u!=null&&i.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!o)return;Object.freeze(this);let a=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let h=O(l,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");let p=c[h];return p instanceof Error&&uo(`index ${h}`,p),p}if(Gp.indexOf(l)>=0)return Reflect.get(c,l,u);let f=c[l];if(f instanceof Function)return function(...h){return f.apply(this===u?c:this,h)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return Hu(a,gn(this)),a}toArray(e){let t=[];return this.forEach((n,s)=>{n instanceof Error&&uo(`index ${s}`,n),e&&n instanceof r&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){let t=gn(this);return t.reduce((n,s,o)=>(g(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),ec(t,this,e)),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);let n=gn(this),s=[],o=[];for(let i=e;i<t;i++)s.push(this[i]),o.push(n[i]);return new r(hi,s,o)}filter(e,t){let n=gn(this),s=[],o=[];for(let i=0;i<this.length;i++){let a=this[i];a instanceof Error&&uo(`index ${i}`,a),e.call(t,a,i,this)&&(s.push(a),o.push(n[i]))}return new r(hi,s,o)}map(e,t){let n=[];for(let s=0;s<this.length;s++){let o=this[s];o instanceof Error&&uo(`index ${s}`,o),n.push(e.call(t,o,s,this))}return n}getValue(e){let t=gn(this).indexOf(e);if(t===-1)return;let n=this[t];return n instanceof Error&&uo(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new r(hi,e,t)}};function xi(r){let e=[],t=function(n,s){if(Array.isArray(s))for(let o in s){let i=n.slice();i.push(o);try{t(i,s[o])}catch(a){e.push({path:i,error:a})}}};return t([],r),e}function Gu(r){let e=Z(r);return g(e.length<=_e,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:_e,offset:e.length}),e.length!==_e&&(e=ge(M([Xa.slice(e.length%_e),e]))),e}var Re=class{name;type;localName;dynamic;constructor(e,t,n,s){k(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){d(!1,e,this.localName,t)}},bn=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return M(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(ge(e.data))}writeBytes(e){let t=ge(e),n=t.length%_e;return n&&(t=ge(M([t,Xa.slice(n)]))),this.#r(t)}writeValue(e){return this.#r(Gu(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(Xa),this.#t+=_e,t=>{this.#e[e]=Gu(t)}}},pi=class r{allowLoose;#e;#t;#r;#n;#s;constructor(e,t,n){k(this,{allowLoose:!!t}),this.#e=ge(e),this.#r=0,this.#n=null,this.#s=n??1024,this.#t=0}get data(){return A(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#i(e){if(this.#n)return this.#n.#i(e);this.#r+=e,g(this.#s<1||this.#r<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:ge(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#o(e,t,n){let s=Math.ceil(t/_e)*_e;return this.#t+s>this.#e.length&&(this.allowLoose&&n&&this.#t+t<=this.#e.length?s=t:g(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:ge(this.#e),length:this.#e.length,offset:this.#t+s})),this.#e.slice(this.#t,this.#t+s)}subReader(e){let t=new r(this.#e.slice(this.#t+e),this.allowLoose,this.#s);return t.#n=this,t}readBytes(e,t){let n=this.#o(0,e,!!t);return this.#i(e),this.#t+=n.length,n.slice(0,e)}readValue(){return pt(this.readBytes(_e))}readIndex(){return so(this.readBytes(_e))}};function qe(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function fo(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function mi(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qe(r.outputLen),qe(r.blockLen)}function cr(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function gi(r,e){fo(r);let t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var bi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Wu=r=>r instanceof Uint8Array;var ms=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),gs=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Rt=(r,e)=>r<<32-e|r>>>e,Kp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Kp)throw new Error("Non little-endian hardware is not supported");var Wp=async()=>{};async function yi(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);let o=Date.now()-n;o>=0&&o<e||(await Wp(),n+=o)}}function Vp(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function St(r){if(typeof r=="string"&&(r=Vp(r)),!Wu(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Vu(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!Wu(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}var Or=class{clone(){return this._cloneInto()}},zp={}.toString;function wi(r,e){if(e!==void 0&&zp.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}function Ur(r){let e=n=>r().update(St(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function zu(r){let e=(n,s)=>r(s).update(St(n)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=n=>r(n),e}function Qu(r=32){if(bi&&typeof bi.getRandomValues=="function")return bi.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}var Ai=class extends Or{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,mi(e);let n=St(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(n.length>s?e.create().update(n).digest():n);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=e.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(e){return cr(this),this.iHash.update(e),this}digestInto(e){cr(this),fo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:n,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=o,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},yn=(r,e,t)=>new Ai(r,e).update(t).digest();yn.create=(r,e)=>new Ai(r,e);function Qp(r,e,t,n){mi(r);let s=wi({dkLen:32,asyncTick:10},n),{c:o,dkLen:i,asyncTick:a}=s;if(qe(o),qe(i),qe(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=St(e),l=St(t),u=new Uint8Array(i),f=yn.create(r,c),h=f._cloneInto().update(l);return{c:o,dkLen:i,asyncTick:a,DK:u,PRF:f,PRFSalt:h}}function Jp(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function ho(r,e,t,n){let{c:s,dkLen:o,DK:i,PRF:a,PRFSalt:c}=Qp(r,e,t,n),l,u=new Uint8Array(4),f=gs(u),h=new Uint8Array(a.outputLen);for(let p=1,b=0;b<o;p++,b+=a.outputLen){let m=i.subarray(b,b+a.outputLen);f.setInt32(0,p,!1),(l=c._cloneInto(l)).update(u).digestInto(h),m.set(h.subarray(0,m.length));for(let y=1;y<s;y++){a._cloneInto(l).update(h).digestInto(h);for(let w=0;w<m.length;w++)m[w]^=h[w]}}return Jp(a,c,i,l,h)}function jp(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(t>>s&o),a=Number(t&o),c=n?4:0,l=n?0:4;r.setUint32(e+c,i,n),r.setUint32(e+l,a,n)}var Lr=class extends Or{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gs(this.buffer)}update(e){cr(this);let{view:t,buffer:n,blockLen:s}=this;e=St(e);let o=e.length;for(let i=0;i<o;){let a=Math.min(s-this.pos,o-i);if(a===s){let c=gs(e);for(;s<=o-i;i+=s)this.process(c,i);continue}n.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cr(this),gi(e,this),this.finished=!0;let{buffer:t,view:n,blockLen:s,isLE:o}=this,{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(n,0),i=0);for(let f=i;f<s;f++)t[f]=0;jp(n,s-8,BigInt(this.length*8),o),this.process(n,0);let a=gs(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],o)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:n,length:s,finished:o,destroyed:i,pos:a}=this;return e.length=s,e.pos=a,e.finished=o,e.destroyed=i,s%t&&e.buffer.set(n),e}};var qp=(r,e,t)=>r&e^~r&t,Yp=(r,e,t)=>r&e^r&t^e&t,Zp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mr=new Uint32Array(64),tc=class extends Lr{constructor(){super(64,32,8,!1),this.A=Dr[0]|0,this.B=Dr[1]|0,this.C=Dr[2]|0,this.D=Dr[3]|0,this.E=Dr[4]|0,this.F=Dr[5]|0,this.G=Dr[6]|0,this.H=Dr[7]|0}get(){let{A:e,B:t,C:n,D:s,E:o,F:i,G:a,H:c}=this;return[e,t,n,s,o,i,a,c]}set(e,t,n,s,o,i,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(e,t){for(let f=0;f<16;f++,t+=4)Mr[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){let h=Mr[f-15],p=Mr[f-2],b=Rt(h,7)^Rt(h,18)^h>>>3,m=Rt(p,17)^Rt(p,19)^p>>>10;Mr[f]=m+Mr[f-7]+b+Mr[f-16]|0}let{A:n,B:s,C:o,D:i,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){let h=Rt(a,6)^Rt(a,11)^Rt(a,25),p=u+h+qp(a,c,l)+Zp[f]+Mr[f]|0,m=(Rt(n,2)^Rt(n,13)^Rt(n,22))+Yp(n,s,o)|0;u=l,l=c,c=a,a=i+p|0,i=o,o=s,s=n,n=p+m|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,o,i,a,c,l,u)}roundClean(){Mr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var lr=Ur(()=>new tc);var Ei=BigInt(4294967295),rc=BigInt(32);function Ju(r,e=!1){return e?{h:Number(r&Ei),l:Number(r>>rc&Ei)}:{h:Number(r>>rc&Ei)|0,l:Number(r&Ei)|0}}function nc(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){let{h:o,l:i}=Ju(r[s],e);[t[s],n[s]]=[o,i]}return[t,n]}var $p=(r,e)=>BigInt(r>>>0)<<rc|BigInt(e>>>0),Xp=(r,e,t)=>r>>>t,ex=(r,e,t)=>r<<32-t|e>>>t,tx=(r,e,t)=>r>>>t|e<<32-t,rx=(r,e,t)=>r<<32-t|e>>>t,nx=(r,e,t)=>r<<64-t|e>>>t-32,sx=(r,e,t)=>r>>>t-32|e<<64-t,ox=(r,e)=>e,ix=(r,e)=>r,sc=(r,e,t)=>r<<t|e>>>32-t,oc=(r,e,t)=>e<<t|r>>>32-t,ic=(r,e,t)=>e<<t-32|r>>>64-t,ac=(r,e,t)=>r<<t-32|e>>>64-t;function ax(r,e,t,n){let s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}var cx=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),lx=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,ux=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),fx=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,dx=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0),hx=(r,e,t,n,s,o)=>e+t+n+s+o+(r/2**32|0)|0;var px={fromBig:Ju,split:nc,toBig:$p,shrSH:Xp,shrSL:ex,rotrSH:tx,rotrSL:rx,rotrBH:nx,rotrBL:sx,rotr32H:ox,rotr32L:ix,rotlSH:sc,rotlSL:oc,rotlBH:ic,rotlBL:ac,add:ax,add3L:cx,add3H:lx,add4L:ux,add4H:fx,add5H:hx,add5L:dx},V=px;var[xx,mx]=V.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Fr=new Uint32Array(80),_r=new Uint32Array(80),cc=class extends Lr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:n,Bl:s,Ch:o,Cl:i,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:p,Gl:b,Hh:m,Hl:y}=this;return[e,t,n,s,o,i,a,c,l,u,f,h,p,b,m,y]}set(e,t,n,s,o,i,a,c,l,u,f,h,p,b,m,y){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=p|0,this.Gl=b|0,this.Hh=m|0,this.Hl=y|0}process(e,t){for(let N=0;N<16;N++,t+=4)Fr[N]=e.getUint32(t),_r[N]=e.getUint32(t+=4);for(let N=16;N<80;N++){let D=Fr[N-15]|0,v=_r[N-15]|0,C=V.rotrSH(D,v,1)^V.rotrSH(D,v,8)^V.shrSH(D,v,7),S=V.rotrSL(D,v,1)^V.rotrSL(D,v,8)^V.shrSL(D,v,7),R=Fr[N-2]|0,z=_r[N-2]|0,G=V.rotrSH(R,z,19)^V.rotrBH(R,z,61)^V.shrSH(R,z,6),K=V.rotrSL(R,z,19)^V.rotrBL(R,z,61)^V.shrSL(R,z,6),xe=V.add4L(S,K,_r[N-7],_r[N-16]),we=V.add4H(xe,C,G,Fr[N-7],Fr[N-16]);Fr[N]=we|0,_r[N]=xe|0}let{Ah:n,Al:s,Bh:o,Bl:i,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:p,Fl:b,Gh:m,Gl:y,Hh:w,Hl:P}=this;for(let N=0;N<80;N++){let D=V.rotrSH(f,h,14)^V.rotrSH(f,h,18)^V.rotrBH(f,h,41),v=V.rotrSL(f,h,14)^V.rotrSL(f,h,18)^V.rotrBL(f,h,41),C=f&p^~f&m,S=h&b^~h&y,R=V.add5L(P,v,S,mx[N],_r[N]),z=V.add5H(R,w,D,C,xx[N],Fr[N]),G=R|0,K=V.rotrSH(n,s,28)^V.rotrBH(n,s,34)^V.rotrBH(n,s,39),xe=V.rotrSL(n,s,28)^V.rotrBL(n,s,34)^V.rotrBL(n,s,39),we=n&o^n&a^o&a,Le=s&i^s&c^i&c;w=m|0,P=y|0,m=p|0,y=b|0,p=f|0,b=h|0,{h:f,l:h}=V.add(l|0,u|0,z|0,G|0),l=a|0,u=c|0,a=o|0,c=i|0,o=n|0,i=s|0;let T=V.add3L(G,xe,Le);n=V.add3H(T,z,K,we),s=T|0}({h:n,l:s}=V.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:o,l:i}=V.add(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l:c}=V.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=V.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=V.add(this.Eh|0,this.El|0,f|0,h|0),{h:p,l:b}=V.add(this.Fh|0,this.Fl|0,p|0,b|0),{h:m,l:y}=V.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:w,l:P}=V.add(this.Hh|0,this.Hl|0,w|0,P|0),this.set(n,s,o,i,a,c,l,u,f,h,p,b,m,y,w,P)}roundClean(){Fr.fill(0),_r.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var ki=Ur(()=>new cc);function gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var ju=gx(),qu=ju.crypto||ju.msCrypto;function lc(r){switch(r){case"sha256":return lr.create();case"sha512":return ki.create()}d(!1,"invalid hashing algorithm name","algorithm",r)}function Yu(r,e){let t={sha256:lr,sha512:ki}[r];return d(t!=null,"invalid hmac algorithm","algorithm",r),yn.create(t,e)}function Zu(r,e,t,n,s){let o={sha256:lr,sha512:ki}[s];return d(o!=null,"invalid pbkdf2 algorithm","algorithm",s),ho(o,r,e,{c:t,dkLen:n})}function $u(r){g(qu!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),d(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);let e=new Uint8Array(r);return qu.getRandomValues(e),e}var Xu=!1,ef=function(r,e,t){return Yu(r,e).update(t).digest()},tf=ef;function Ot(r,e,t){let n=E(e,"key"),s=E(t,"data");return A(tf(r,n,s))}Ot._=ef;Ot.lock=function(){Xu=!0};Ot.register=function(r){if(Xu)throw new Error("computeHmac is locked");tf=r};Object.freeze(Ot);var[sf,of,af]=[[],[],[]],bx=BigInt(0),po=BigInt(1),yx=BigInt(2),wx=BigInt(7),Ax=BigInt(256),Ex=BigInt(113);for(let r=0,e=po,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],sf.push(2*(5*n+t)),of.push((r+1)*(r+2)/2%64);let s=bx;for(let o=0;o<7;o++)e=(e<<po^(e>>wx)*Ex)%Ax,e&yx&&(s^=po<<(po<<BigInt(o))-po);af.push(s)}var[kx,Nx]=nc(af,!0),rf=(r,e,t)=>t>32?ic(r,e,t):sc(r,e,t),nf=(r,e,t)=>t>32?ac(r,e,t):oc(r,e,t);function Ix(r,e=24){let t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let i=0;i<10;i++)t[i]=r[i]^r[i+10]^r[i+20]^r[i+30]^r[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,l=t[c],u=t[c+1],f=rf(l,u,1)^t[a],h=nf(l,u,1)^t[a+1];for(let p=0;p<50;p+=10)r[i+p]^=f,r[i+p+1]^=h}let s=r[2],o=r[3];for(let i=0;i<24;i++){let a=of[i],c=rf(s,o,a),l=nf(s,o,a),u=sf[i];s=r[u],o=r[u+1],r[u]=c,r[u+1]=l}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)t[a]=r[i+a];for(let a=0;a<10;a++)r[i+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=kx[n],r[1]^=Nx[n]}t.fill(0)}var Ni=class r extends Or{constructor(e,t,n,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qe(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ms(this.state)}keccak(){Ix(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){cr(this);let{blockLen:t,state:n}=this;e=St(e);let s=e.length;for(let o=0;o<s;){let i=Math.min(t-this.pos,s-o);for(let a=0;a<i;a++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,t&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){cr(this,!1),fo(e),this.finish();let t=this.state,{blockLen:n}=this;for(let s=0,o=e.length;s<o;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,o-s);e.set(t.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qe(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gi(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:n,outputLen:s,rounds:o,enableXOF:i}=this;return e||(e=new r(t,n,s,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=s,e.enableXOF=i,e.destroyed=this.destroyed,e}},Hr=(r,e,t)=>Ur(()=>new Ni(e,r,t)),e3=Hr(6,144,224/8),t3=Hr(6,136,256/8),r3=Hr(6,104,384/8),n3=Hr(6,72,512/8),s3=Hr(1,144,224/8),cf=Hr(1,136,256/8),o3=Hr(1,104,384/8),i3=Hr(1,72,512/8),lf=(r,e,t)=>zu((n={})=>new Ni(e,r,n.dkLen===void 0?t:n.dkLen,!0)),a3=lf(31,168,128/8),c3=lf(31,136,256/8);var uf=!1,ff=function(r){return cf(r)},df=ff;function H(r){let e=E(r,"data");return A(df(e))}H._=ff;H.lock=function(){uf=!0};H.register=function(r){if(uf)throw new TypeError("keccak256 is locked");df=r};Object.freeze(H);var Px=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),pf=Uint8Array.from({length:16},(r,e)=>e),vx=pf.map(r=>(9*r+5)%16),fc=[pf],dc=[vx];for(let r=0;r<4;r++)for(let e of[fc,dc])e.push(e[r].map(t=>Px[t]));var xf=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),Tx=fc.map((r,e)=>r.map(t=>xf[e][t])),Cx=dc.map((r,e)=>r.map(t=>xf[e][t])),Bx=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Rx=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Ii=(r,e)=>r<<e|r>>>32-e;function hf(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}var Pi=new Uint32Array(16),uc=class extends Lr{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:n,h3:s,h4:o}=this;return[e,t,n,s,o]}set(e,t,n,s,o){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=o|0}process(e,t){for(let p=0;p<16;p++,t+=4)Pi[p]=e.getUint32(t,!0);let n=this.h0|0,s=n,o=this.h1|0,i=o,a=this.h2|0,c=a,l=this.h3|0,u=l,f=this.h4|0,h=f;for(let p=0;p<5;p++){let b=4-p,m=Bx[p],y=Rx[p],w=fc[p],P=dc[p],N=Tx[p],D=Cx[p];for(let v=0;v<16;v++){let C=Ii(n+hf(p,o,a,l)+Pi[w[v]]+m,N[v])+f|0;n=f,f=l,l=Ii(a,10)|0,a=o,o=C}for(let v=0;v<16;v++){let C=Ii(s+hf(b,i,c,u)+Pi[P[v]]+y,D[v])+h|0;s=h,h=u,u=Ii(c,10)|0,c=i,i=C}}this.set(this.h1+a+u|0,this.h2+l+h|0,this.h3+f+s|0,this.h4+n+i|0,this.h0+o+c|0)}roundClean(){Pi.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},mf=Ur(()=>new uc);var gf=!1,bf=function(r){return mf(r)},yf=bf;function Ut(r){let e=E(r,"data");return A(yf(e))}Ut._=bf;Ut.lock=function(){gf=!0};Ut.register=function(r){if(gf)throw new TypeError("ripemd160 is locked");yf=r};Object.freeze(Ut);var wf=!1,Af=function(r,e,t,n,s){return Zu(r,e,t,n,s)},Ef=Af;function Xe(r,e,t,n,s){let o=E(r,"password"),i=E(e,"salt");return A(Ef(o,i,t,n,s))}Xe._=Af;Xe.lock=function(){wf=!0};Xe.register=function(r){if(wf)throw new Error("pbkdf2 is locked");Ef=r};Object.freeze(Xe);var kf=!1,Nf=function(r){return new Uint8Array($u(r))},If=Nf;function Ye(r){return If(r)}Ye._=Nf;Ye.lock=function(){kf=!0};Ye.register=function(r){if(kf)throw new Error("randomBytes is locked");If=r};Object.freeze(Ye);var se=(r,e)=>r<<e|r>>>32-e;function Pf(r,e,t,n,s,o){let i=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],l=r[e++]^t[n++],u=r[e++]^t[n++],f=r[e++]^t[n++],h=r[e++]^t[n++],p=r[e++]^t[n++],b=r[e++]^t[n++],m=r[e++]^t[n++],y=r[e++]^t[n++],w=r[e++]^t[n++],P=r[e++]^t[n++],N=r[e++]^t[n++],D=r[e++]^t[n++],v=r[e++]^t[n++],C=i,S=a,R=c,z=l,G=u,K=f,xe=h,we=p,Le=b,T=m,B=y,_=w,ee=P,j=N,me=D,Pe=v;for(let Je=0;Je<8;Je+=2)G^=se(C+ee|0,7),Le^=se(G+C|0,9),ee^=se(Le+G|0,13),C^=se(ee+Le|0,18),T^=se(K+S|0,7),j^=se(T+K|0,9),S^=se(j+T|0,13),K^=se(S+j|0,18),me^=se(B+xe|0,7),R^=se(me+B|0,9),xe^=se(R+me|0,13),B^=se(xe+R|0,18),z^=se(Pe+_|0,7),we^=se(z+Pe|0,9),_^=se(we+z|0,13),Pe^=se(_+we|0,18),S^=se(C+z|0,7),R^=se(S+C|0,9),z^=se(R+S|0,13),C^=se(z+R|0,18),xe^=se(K+G|0,7),we^=se(xe+K|0,9),G^=se(we+xe|0,13),K^=se(G+we|0,18),_^=se(B+T|0,7),Le^=se(_+B|0,9),T^=se(Le+_|0,13),B^=se(T+Le|0,18),ee^=se(Pe+me|0,7),j^=se(ee+Pe|0,9),me^=se(j+ee|0,13),Pe^=se(me+j|0,18);s[o++]=i+C|0,s[o++]=a+S|0,s[o++]=c+R|0,s[o++]=l+z|0,s[o++]=u+G|0,s[o++]=f+K|0,s[o++]=h+xe|0,s[o++]=p+we|0,s[o++]=b+Le|0,s[o++]=m+T|0,s[o++]=y+B|0,s[o++]=w+_|0,s[o++]=P+ee|0,s[o++]=N+j|0,s[o++]=D+me|0,s[o++]=v+Pe|0}function bs(r,e,t,n,s){let o=n+0,i=n+16*s;for(let a=0;a<16;a++)t[i+a]=r[e+(2*s-1)*16+a];for(let a=0;a<s;a++,o+=16,e+=16)Pf(t,i,r,e,t,o),a>0&&(i+=16),Pf(t,o,r,e+=16,t,i)}function vf(r,e,t){let n=wi({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:o,p:i,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=n;if(qe(s),qe(o),qe(i),qe(a),qe(c),qe(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");let f=128*o,h=f/4;if(s<=1||s&s-1||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(i<0||i>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let p=f*(s+i);if(p>l)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${l} (maxmem)`);let b=ho(lr,r,e,{c:1,dkLen:f*i}),m=ms(b),y=ms(new Uint8Array(f*s)),w=ms(new Uint8Array(f)),P=()=>{};if(u){let N=2*s*i,D=Math.max(Math.floor(N/1e4),1),v=0;P=()=>{v++,u&&(!(v%D)||v===N)&&u(v/N)}}return{N:s,r:o,p:i,dkLen:a,blockSize32:h,V:y,B32:m,B:b,tmp:w,blockMixCb:P,asyncTick:c}}function Tf(r,e,t,n,s){let o=ho(lr,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),o}function Cf(r,e,t){let{N:n,r:s,p:o,dkLen:i,blockSize32:a,V:c,B32:l,B:u,tmp:f,blockMixCb:h}=vf(r,e,t);for(let p=0;p<o;p++){let b=a*p;for(let m=0;m<a;m++)c[m]=l[b+m];for(let m=0,y=0;m<n-1;m++)bs(c,y,c,y+=a,s),h();bs(c,(n-1)*a,l,b,s),h();for(let m=0;m<n;m++){let y=l[b+a-16]%n;for(let w=0;w<a;w++)f[w]=l[b+w]^c[y*a+w];bs(f,0,l,b,s),h()}}return Tf(r,i,u,c,f)}async function Bf(r,e,t){let{N:n,r:s,p:o,dkLen:i,blockSize32:a,V:c,B32:l,B:u,tmp:f,blockMixCb:h,asyncTick:p}=vf(r,e,t);for(let b=0;b<o;b++){let m=a*b;for(let w=0;w<a;w++)c[w]=l[m+w];let y=0;await yi(n-1,p,()=>{bs(c,y,c,y+=a,s),h()}),bs(c,(n-1)*a,l,m,s),h(),await yi(n,p,()=>{let w=l[m+a-16]%n;for(let P=0;P<a;P++)f[P]=l[m+P]^c[w*a+P];bs(f,0,l,m,s),h()})}return Tf(r,i,u,c,f)}var Rf=!1,Sf=!1,Of=async function(r,e,t,n,s,o,i){return await Bf(r,e,{N:t,r:n,p:s,dkLen:o,onProgress:i})},Uf=function(r,e,t,n,s,o){return Cf(r,e,{N:t,r:n,p:s,dkLen:o})},Lf=Of,Df=Uf;async function Lt(r,e,t,n,s,o,i){let a=E(r,"passwd"),c=E(e,"salt");return A(await Lf(a,c,t,n,s,o,i))}Lt._=Of;Lt.lock=function(){Sf=!0};Lt.register=function(r){if(Sf)throw new Error("scrypt is locked");Lf=r};Object.freeze(Lt);function Dt(r,e,t,n,s,o){let i=E(r,"passwd"),a=E(e,"salt");return A(Df(i,a,t,n,s,o))}Dt._=Uf;Dt.lock=function(){Rf=!0};Dt.register=function(r){if(Rf)throw new Error("scryptSync is locked");Df=r};Object.freeze(Dt);var Mf=function(r){return lc("sha256").update(r).digest()},Ff=function(r){return lc("sha512").update(r).digest()},_f=Mf,Hf=Ff,Gf=!1,Kf=!1;function Te(r){let e=E(r,"data");return A(_f(e))}Te._=Mf;Te.lock=function(){Gf=!0};Te.register=function(r){if(Gf)throw new Error("sha256 is locked");_f=r};Object.freeze(Te);function wn(r){let e=E(r,"data");return A(Hf(e))}wn._=Ff;wn.lock=function(){Kf=!0};wn.register=function(r){if(Kf)throw new Error("sha512 is locked");Hf=r};Object.freeze(Te);var mc={};Au(mc,{bitGet:()=>Fx,bitLen:()=>Mx,bitMask:()=>xo,bitSet:()=>_x,bytesToHex:()=>An,bytesToNumberBE:()=>ur,bytesToNumberLE:()=>Ci,concatBytes:()=>ys,createHmacDrbg:()=>xc,ensureBytes:()=>lt,equalBytes:()=>Lx,hexToBytes:()=>En,hexToNumber:()=>pc,numberToBytesBE:()=>Gr,numberToBytesLE:()=>Bi,numberToHexUnpadded:()=>zf,numberToVarBytesBE:()=>Ux,utf8ToBytes:()=>Dx,validateObject:()=>Kr});var Vf=BigInt(0),vi=BigInt(1),Sx=BigInt(2),Ti=r=>r instanceof Uint8Array,Ox=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function An(r){if(!Ti(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=Ox[r[t]];return e}function zf(r){let e=r.toString(16);return e.length&1?`0${e}`:e}function pc(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function En(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){let s=n*2,o=r.slice(s,s+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function ur(r){return pc(An(r))}function Ci(r){if(!Ti(r))throw new Error("Uint8Array expected");return pc(An(Uint8Array.from(r).reverse()))}function Gr(r,e){return En(r.toString(16).padStart(e*2,"0"))}function Bi(r,e){return Gr(r,e).reverse()}function Ux(r){return En(zf(r))}function lt(r,e,t){let n;if(typeof e=="string")try{n=En(e)}catch(o){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${o}`)}else if(Ti(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);let s=n.length;if(typeof t=="number"&&s!==t)throw new Error(`${r} expected ${t} bytes, got ${s}`);return n}function ys(...r){let e=new Uint8Array(r.reduce((n,s)=>n+s.length,0)),t=0;return r.forEach(n=>{if(!Ti(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function Lx(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Dx(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Mx(r){let e;for(e=0;r>Vf;r>>=vi,e+=1);return e}function Fx(r,e){return r>>BigInt(e)&vi}var _x=(r,e,t)=>r|(t?vi:Vf)<<BigInt(e),xo=r=>(Sx<<BigInt(r-1))-vi,hc=r=>new Uint8Array(r),Wf=r=>Uint8Array.from(r);function xc(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=hc(r),s=hc(r),o=0,i=()=>{n.fill(1),s.fill(0),o=0},a=(...f)=>t(s,n,...f),c=(f=hc())=>{s=a(Wf([0]),f),n=a(),f.length!==0&&(s=a(Wf([1]),f),n=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,h=[];for(;f<e;){n=a();let p=n.slice();h.push(p),f+=n.length}return ys(...h)};return(f,h)=>{i(),c(f);let p;for(;!(p=h(l()));)c();return i(),p}}var Hx={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Kr(r,e,t={}){let n=(s,o,i)=>{let a=Hx[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);let c=r[s];if(!(i&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(let[s,o]of Object.entries(e))n(s,o,!1);for(let[s,o]of Object.entries(t))n(s,o,!0);return r}var Ue=BigInt(0),Ne=BigInt(1),kn=BigInt(2),Gx=BigInt(3),gc=BigInt(4),Qf=BigInt(5),Jf=BigInt(8),Kx=BigInt(9),Wx=BigInt(16);function Ze(r,e){let t=r%e;return t>=Ue?t:e+t}function Vx(r,e,t){if(t<=Ue||e<Ue)throw new Error("Expected power/modulo > 0");if(t===Ne)return Ue;let n=Ne;for(;e>Ue;)e&Ne&&(n=n*r%t),r=r*r%t,e>>=Ne;return n}function ut(r,e,t){let n=r;for(;e-- >Ue;)n*=n,n%=t;return n}function Ri(r,e){if(r===Ue||e<=Ue)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=Ze(r,e),n=e,s=Ue,o=Ne,i=Ne,a=Ue;for(;t!==Ue;){let l=n/t,u=n%t,f=s-i*l,h=o-a*l;n=t,t=u,s=i,o=a,i=f,a=h}if(n!==Ne)throw new Error("invert: does not exist");return Ze(s,e)}function zx(r){let e=(r-Ne)/kn,t,n,s;for(t=r-Ne,n=0;t%kn===Ue;t/=kn,n++);for(s=kn;s<r&&Vx(s,e,r)!==r-Ne;s++);if(n===1){let i=(r+Ne)/gc;return function(c,l){let u=c.pow(l,i);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}let o=(t+Ne)/kn;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,s),t),f=a.pow(c,o),h=a.pow(c,t);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let m=a.sqr(h);p<l&&!a.eql(m,a.ONE);p++)m=a.sqr(m);let b=a.pow(u,Ne<<BigInt(l-p-1));u=a.sqr(b),f=a.mul(f,b),h=a.mul(h,u),l=p}return f}}function Qx(r){if(r%gc===Gx){let e=(r+Ne)/gc;return function(n,s){let o=n.pow(s,e);if(!n.eql(n.sqr(o),s))throw new Error("Cannot find square root");return o}}if(r%Jf===Qf){let e=(r-Qf)/Jf;return function(n,s){let o=n.mul(s,kn),i=n.pow(o,e),a=n.mul(s,i),c=n.mul(n.mul(a,kn),i),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),s))throw new Error("Cannot find square root");return l}}return r%Wx,zx(r)}var Jx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bc(r){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Jx.reduce((n,s)=>(n[s]="function",n),e);return Kr(r,t)}function jx(r,e,t){if(t<Ue)throw new Error("Expected power > 0");if(t===Ue)return r.ONE;if(t===Ne)return e;let n=r.ONE,s=e;for(;t>Ue;)t&Ne&&(n=r.mul(n,s)),s=r.sqr(s),t>>=Ne;return n}function qx(r,e){let t=new Array(e.length),n=e.reduce((o,i,a)=>r.is0(i)?o:(t[a]=o,r.mul(o,i)),r.ONE),s=r.inv(n);return e.reduceRight((o,i,a)=>r.is0(i)?o:(t[a]=r.mul(o,t[a]),r.mul(o,i)),s),t}function yc(r,e){let t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function jf(r,e,t=!1,n={}){if(r<=Ue)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:s,nByteLength:o}=yc(r,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=Qx(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:o,MASK:xo(s),ZERO:Ue,ONE:Ne,create:c=>Ze(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ue<=c&&c<r},is0:c=>c===Ue,isOdd:c=>(c&Ne)===Ne,neg:c=>Ze(-c,r),eql:(c,l)=>c===l,sqr:c=>Ze(c*c,r),add:(c,l)=>Ze(c+l,r),sub:(c,l)=>Ze(c-l,r),mul:(c,l)=>Ze(c*l,r),pow:(c,l)=>jx(a,c,l),div:(c,l)=>Ze(c*Ri(l,r),r),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Ri(c,r),sqrt:n.sqrt||(c=>i(a,c)),invertBatch:c=>qx(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>t?Bi(c,o):Gr(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return t?Ci(c):ur(c)}});return Object.freeze(a)}function qf(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let e=r.toString(2).length;return Math.ceil(e/8)}function wc(r){let e=qf(r);return e+Math.ceil(e/2)}function Yf(r,e,t=!1){let n=r.length,s=qf(e),o=wc(e);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let i=t?ur(r):Ci(r),a=Ze(i,e-Ne)+Ne;return t?Bi(a,s):Gr(a,s)}var Zx=BigInt(0),Ac=BigInt(1);function Zf(r,e){let t=(s,o)=>{let i=o.negate();return s?i:o},n=s=>{let o=Math.ceil(e/s)+1,i=2**(s-1);return{windows:o,windowSize:i}};return{constTimeNegate:t,unsafeLadder(s,o){let i=r.ZERO,a=s;for(;o>Zx;)o&Ac&&(i=i.add(a)),a=a.double(),o>>=Ac;return i},precomputeWindow(s,o){let{windows:i,windowSize:a}=n(o),c=[],l=s,u=l;for(let f=0;f<i;f++){u=l,c.push(u);for(let h=1;h<a;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,o,i){let{windows:a,windowSize:c}=n(s),l=r.ZERO,u=r.BASE,f=BigInt(2**s-1),h=2**s,p=BigInt(s);for(let b=0;b<a;b++){let m=b*c,y=Number(i&f);i>>=p,y>c&&(y-=h,i+=Ac);let w=m,P=m+Math.abs(y)-1,N=b%2!==0,D=y<0;y===0?u=u.add(t(N,o[w])):l=l.add(t(D,o[P]))}return{p:l,f:u}},wNAFCached(s,o,i,a){let c=s._WINDOW_SIZE||1,l=o.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&o.set(s,a(l))),this.wNAF(c,l,i)}}}function Ec(r){return bc(r.Fp),Kr(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yc(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function $x(r){let e=Ec(r);Kr(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Xx,hexToBytes:em}=mc,Nn={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){let{Err:e}=Nn;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");let t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Xx(n),l:r.subarray(t+2)}},toSig(r){let{Err:e}=Nn,t=typeof r=="string"?em(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:s,l:o}=Nn._parseInt(t.subarray(2)),{d:i,l:a}=Nn._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(r){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,t=l=>{let u=l.toString(16);return u.length&1?`0${u}`:u},n=e(t(r.s)),s=e(t(r.r)),o=n.length/2,i=s.length/2,a=t(o),c=t(i);return`30${t(i+o+4)}02${c}${s}02${a}${n}`}},fr=BigInt(0),xt=BigInt(1),K3=BigInt(2),$f=BigInt(3),W3=BigInt(4);function tm(r){let e=$x(r),{Fp:t}=e,n=e.toBytes||((b,m,y)=>{let w=m.toAffine();return ys(Uint8Array.from([4]),t.toBytes(w.x),t.toBytes(w.y))}),s=e.fromBytes||(b=>{let m=b.subarray(1),y=t.fromBytes(m.subarray(0,t.BYTES)),w=t.fromBytes(m.subarray(t.BYTES,2*t.BYTES));return{x:y,y:w}});function o(b){let{a:m,b:y}=e,w=t.sqr(b),P=t.mul(w,b);return t.add(t.add(P,t.mul(b,m)),y)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function i(b){return typeof b=="bigint"&&fr<b&&b<e.n}function a(b){if(!i(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){let{allowedPrivateKeyLengths:m,nByteLength:y,wrapPrivateKey:w,n:P}=e;if(m&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=An(b)),typeof b!="string"||!m.includes(b.length))throw new Error("Invalid key");b=b.padStart(y*2,"0")}let N;try{N=typeof b=="bigint"?b:ur(lt("private key",b,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof b}`)}return w&&(N=Ze(N,P)),a(N),N}let l=new Map;function u(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(m,y,w){if(this.px=m,this.py=y,this.pz=w,m==null||!t.isValid(m))throw new Error("x required");if(y==null||!t.isValid(y))throw new Error("y required");if(w==null||!t.isValid(w))throw new Error("z required")}static fromAffine(m){let{x:y,y:w}=m||{};if(!m||!t.isValid(y)||!t.isValid(w))throw new Error("invalid affine point");if(m instanceof f)throw new Error("projective point not allowed");let P=N=>t.eql(N,t.ZERO);return P(y)&&P(w)?f.ZERO:new f(y,w,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){let y=t.invertBatch(m.map(w=>w.pz));return m.map((w,P)=>w.toAffine(y[P])).map(f.fromAffine)}static fromHex(m){let y=f.fromAffine(s(lt("pointHex",m)));return y.assertValidity(),y}static fromPrivateKey(m){return f.BASE.multiply(c(m))}_setWindowSize(m){this._WINDOW_SIZE=m,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:m,y}=this.toAffine();if(!t.isValid(m)||!t.isValid(y))throw new Error("bad point: x or y not FE");let w=t.sqr(y),P=o(m);if(!t.eql(w,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:m}=this.toAffine();if(t.isOdd)return!t.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){u(m);let{px:y,py:w,pz:P}=this,{px:N,py:D,pz:v}=m,C=t.eql(t.mul(y,v),t.mul(N,P)),S=t.eql(t.mul(w,v),t.mul(D,P));return C&&S}negate(){return new f(this.px,t.neg(this.py),this.pz)}double(){let{a:m,b:y}=e,w=t.mul(y,$f),{px:P,py:N,pz:D}=this,v=t.ZERO,C=t.ZERO,S=t.ZERO,R=t.mul(P,P),z=t.mul(N,N),G=t.mul(D,D),K=t.mul(P,N);return K=t.add(K,K),S=t.mul(P,D),S=t.add(S,S),v=t.mul(m,S),C=t.mul(w,G),C=t.add(v,C),v=t.sub(z,C),C=t.add(z,C),C=t.mul(v,C),v=t.mul(K,v),S=t.mul(w,S),G=t.mul(m,G),K=t.sub(R,G),K=t.mul(m,K),K=t.add(K,S),S=t.add(R,R),R=t.add(S,R),R=t.add(R,G),R=t.mul(R,K),C=t.add(C,R),G=t.mul(N,D),G=t.add(G,G),R=t.mul(G,K),v=t.sub(v,R),S=t.mul(G,z),S=t.add(S,S),S=t.add(S,S),new f(v,C,S)}add(m){u(m);let{px:y,py:w,pz:P}=this,{px:N,py:D,pz:v}=m,C=t.ZERO,S=t.ZERO,R=t.ZERO,z=e.a,G=t.mul(e.b,$f),K=t.mul(y,N),xe=t.mul(w,D),we=t.mul(P,v),Le=t.add(y,w),T=t.add(N,D);Le=t.mul(Le,T),T=t.add(K,xe),Le=t.sub(Le,T),T=t.add(y,P);let B=t.add(N,v);return T=t.mul(T,B),B=t.add(K,we),T=t.sub(T,B),B=t.add(w,P),C=t.add(D,v),B=t.mul(B,C),C=t.add(xe,we),B=t.sub(B,C),R=t.mul(z,T),C=t.mul(G,we),R=t.add(C,R),C=t.sub(xe,R),R=t.add(xe,R),S=t.mul(C,R),xe=t.add(K,K),xe=t.add(xe,K),we=t.mul(z,we),T=t.mul(G,T),xe=t.add(xe,we),we=t.sub(K,we),we=t.mul(z,we),T=t.add(T,we),K=t.mul(xe,T),S=t.add(S,K),K=t.mul(B,T),C=t.mul(Le,C),C=t.sub(C,K),K=t.mul(Le,xe),R=t.mul(B,R),R=t.add(R,K),new f(C,S,R)}subtract(m){return this.add(m.negate())}is0(){return this.equals(f.ZERO)}wNAF(m){return p.wNAFCached(this,l,m,y=>{let w=t.invertBatch(y.map(P=>P.pz));return y.map((P,N)=>P.toAffine(w[N])).map(f.fromAffine)})}multiplyUnsafe(m){let y=f.ZERO;if(m===fr)return y;if(a(m),m===xt)return this;let{endo:w}=e;if(!w)return p.unsafeLadder(this,m);let{k1neg:P,k1:N,k2neg:D,k2:v}=w.splitScalar(m),C=y,S=y,R=this;for(;N>fr||v>fr;)N&xt&&(C=C.add(R)),v&xt&&(S=S.add(R)),R=R.double(),N>>=xt,v>>=xt;return P&&(C=C.negate()),D&&(S=S.negate()),S=new f(t.mul(S.px,w.beta),S.py,S.pz),C.add(S)}multiply(m){a(m);let y=m,w,P,{endo:N}=e;if(N){let{k1neg:D,k1:v,k2neg:C,k2:S}=N.splitScalar(y),{p:R,f:z}=this.wNAF(v),{p:G,f:K}=this.wNAF(S);R=p.constTimeNegate(D,R),G=p.constTimeNegate(C,G),G=new f(t.mul(G.px,N.beta),G.py,G.pz),w=R.add(G),P=z.add(K)}else{let{p:D,f:v}=this.wNAF(y);w=D,P=v}return f.normalizeZ([w,P])[0]}multiplyAndAddUnsafe(m,y,w){let P=f.BASE,N=(v,C)=>C===fr||C===xt||!v.equals(P)?v.multiplyUnsafe(C):v.multiply(C),D=N(this,y).add(N(m,w));return D.is0()?void 0:D}toAffine(m){let{px:y,py:w,pz:P}=this,N=this.is0();m==null&&(m=N?t.ONE:t.inv(P));let D=t.mul(y,m),v=t.mul(w,m),C=t.mul(P,m);if(N)return{x:t.ZERO,y:t.ZERO};if(!t.eql(C,t.ONE))throw new Error("invZ was invalid");return{x:D,y:v}}isTorsionFree(){let{h:m,isTorsionFree:y}=e;if(m===xt)return!0;if(y)return y(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:m,clearCofactor:y}=e;return m===xt?this:y?y(f,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return this.assertValidity(),n(f,this,m)}toHex(m=!0){return An(this.toRawBytes(m))}}f.BASE=new f(e.Gx,e.Gy,t.ONE),f.ZERO=new f(t.ZERO,t.ONE,t.ZERO);let h=e.nBitLength,p=Zf(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:i}}function rm(r){let e=Ec(r);return Kr(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Xf(r){let e=rm(r),{Fp:t,n}=e,s=t.BYTES+1,o=2*t.BYTES+1;function i(T){return fr<T&&T<t.ORDER}function a(T){return Ze(T,n)}function c(T){return Ri(T,n)}let{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=tm({...e,toBytes(T,B,_){let ee=B.toAffine(),j=t.toBytes(ee.x),me=ys;return _?me(Uint8Array.from([B.hasEvenY()?2:3]),j):me(Uint8Array.from([4]),j,t.toBytes(ee.y))},fromBytes(T){let B=T.length,_=T[0],ee=T.subarray(1);if(B===s&&(_===2||_===3)){let j=ur(ee);if(!i(j))throw new Error("Point is not on curve");let me=f(j),Pe=t.sqrt(me),Je=(Pe&xt)===xt;return(_&1)===1!==Je&&(Pe=t.neg(Pe)),{x:j,y:Pe}}else if(B===o&&_===4){let j=t.fromBytes(ee.subarray(0,t.BYTES)),me=t.fromBytes(ee.subarray(t.BYTES,2*t.BYTES));return{x:j,y:me}}else throw new Error(`Point of length ${B} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),p=T=>An(Gr(T,e.nByteLength));function b(T){let B=n>>xt;return T>B}function m(T){return b(T)?a(-T):T}let y=(T,B,_)=>ur(T.slice(B,_));class w{constructor(B,_,ee){this.r=B,this.s=_,this.recovery=ee,this.assertValidity()}static fromCompact(B){let _=e.nByteLength;return B=lt("compactSignature",B,_*2),new w(y(B,0,_),y(B,_,2*_))}static fromDER(B){let{r:_,s:ee}=Nn.toSig(lt("DER",B));return new w(_,ee)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new w(this.r,this.s,B)}recoverPublicKey(B){let{r:_,s:ee,recovery:j}=this,me=S(lt("msgHash",B));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");let Pe=j===2||j===3?_+e.n:_;if(Pe>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let Je=j&1?"03":"02",Tr=l.fromHex(Je+p(Pe)),Cr=c(Pe),is=a(-me*Cr),ro=a(ee*Cr),Br=l.BASE.multiplyAndAddUnsafe(Tr,is,ro);if(!Br)throw new Error("point at infinify");return Br.assertValidity(),Br}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return En(this.toDERHex())}toDERHex(){return Nn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return En(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let P={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{let T=wc(e.n);return Yf(e.randomBytes(T),e.n)},precompute(T=8,B=l.BASE){return B._setWindowSize(T),B.multiply(BigInt(3)),B}};function N(T,B=!0){return l.fromPrivateKey(T).toRawBytes(B)}function D(T){let B=T instanceof Uint8Array,_=typeof T=="string",ee=(B||_)&&T.length;return B?ee===s||ee===o:_?ee===2*s||ee===2*o:T instanceof l}function v(T,B,_=!0){if(D(T))throw new Error("first arg must be private key");if(!D(B))throw new Error("second arg must be public key");return l.fromHex(B).multiply(u(T)).toRawBytes(_)}let C=e.bits2int||function(T){let B=ur(T),_=T.length*8-e.nBitLength;return _>0?B>>BigInt(_):B},S=e.bits2int_modN||function(T){return a(C(T))},R=xo(e.nBitLength);function z(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(fr<=T&&T<R))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Gr(T,e.nByteLength)}function G(T,B,_=K){if(["recovered","canonical"].some(fn=>fn in _))throw new Error("sign() legacy options not supported");let{hash:ee,randomBytes:j}=e,{lowS:me,prehash:Pe,extraEntropy:Je}=_;me==null&&(me=!0),T=lt("msgHash",T),Pe&&(T=lt("prehashed msgHash",ee(T)));let Tr=S(T),Cr=u(B),is=[z(Cr),z(Tr)];if(Je!=null){let fn=Je===!0?j(t.BYTES):Je;is.push(lt("extraEntropy",fn))}let ro=ys(...is),Br=Tr;function Va(fn){let as=C(fn);if(!h(as))return;let bu=c(as),zt=l.BASE.multiply(as).toAffine(),cs=a(zt.x);if(cs===fr)return;let si=a(bu*a(Br+cs*Cr));if(si===fr)return;let yu=(zt.x===cs?0:2)|Number(zt.y&xt),wu=si;return me&&b(si)&&(wu=m(si),yu^=1),new w(cs,wu,yu)}return{seed:ro,k2sig:Va}}let K={lowS:e.lowS,prehash:!1},xe={lowS:e.lowS,prehash:!1};function we(T,B,_=K){let{seed:ee,k2sig:j}=G(T,B,_),me=e;return xc(me.hash.outputLen,me.nByteLength,me.hmac)(ee,j)}l.BASE._setWindowSize(8);function Le(T,B,_,ee=xe){let j=T;if(B=lt("msgHash",B),_=lt("publicKey",_),"strict"in ee)throw new Error("options.strict was renamed to lowS");let{lowS:me,prehash:Pe}=ee,Je,Tr;try{if(typeof j=="string"||j instanceof Uint8Array)try{Je=w.fromDER(j)}catch(zt){if(!(zt instanceof Nn.Err))throw zt;Je=w.fromCompact(j)}else if(typeof j=="object"&&typeof j.r=="bigint"&&typeof j.s=="bigint"){let{r:zt,s:cs}=j;Je=new w(zt,cs)}else throw new Error("PARSE");Tr=l.fromHex(_)}catch(zt){if(zt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(me&&Je.hasHighS())return!1;Pe&&(B=e.hash(B));let{r:Cr,s:is}=Je,ro=S(B),Br=c(is),Va=a(ro*Br),fn=a(Cr*Br),as=l.BASE.multiplyAndAddUnsafe(Tr,Va,fn)?.toAffine();return as?a(as.x)===Cr:!1}return{CURVE:e,getPublicKey:N,getSharedSecret:v,sign:we,verify:Le,ProjectivePoint:l,Signature:w,utils:P}}function nm(r){return{hash:r,hmac:(e,...t)=>yn(r,e,Vu(...t)),randomBytes:Qu}}function e0(r,e){let t=n=>Xf({...r,...nm(n)});return Object.freeze({...t(e),create:t})}var n0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),t0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sm=BigInt(1),kc=BigInt(2),r0=(r,e)=>(r+e/kc)/e;function om(r){let e=n0,t=BigInt(3),n=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=r*r*r%e,u=l*l*r%e,f=ut(u,t,e)*u%e,h=ut(f,t,e)*u%e,p=ut(h,kc,e)*l%e,b=ut(p,s,e)*p%e,m=ut(b,o,e)*b%e,y=ut(m,a,e)*m%e,w=ut(y,c,e)*y%e,P=ut(w,a,e)*m%e,N=ut(P,t,e)*u%e,D=ut(N,i,e)*b%e,v=ut(D,n,e)*l%e,C=ut(v,kc,e);if(!Nc.eql(Nc.sqr(C),r))throw new Error("Cannot find square root");return C}var Nc=jf(n0,void 0,void 0,{sqrt:om}),dr=e0({a:BigInt(0),b:BigInt(7),Fp:Nc,n:t0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let e=t0,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-sm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,i=BigInt("0x100000000000000000000000000000000"),a=r0(o*r,e),c=r0(-n*r,e),l=Ze(r-a*t-c*s,e),u=Ze(-a*n-c*o,e),f=l>i,h=u>i;if(f&&(l=e-l),h&&(u=e-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:f,k1:l,k2neg:h,k2:u}}}},lr),$3=BigInt(0);var X3=dr.ProjectivePoint;var Mt="0x0000000000000000000000000000000000000000";var ws="0x0000000000000000000000000000000000000000000000000000000000000000";var Ic=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Pc=BigInt("1000000000000000000"),vc=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Tc=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),Cc=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Bc="\u039E",mo=`Ethereum Signed Message:
`;var s0=BigInt(0),o0=BigInt(1),Sc=BigInt(2),i0=BigInt(27),a0=BigInt(28),Si=BigInt(35),c0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),im=c0/Sc,am=Symbol.for("nodejs.util.inspect.custom"),In={};function Rc(r){return ve(Z(r),32)}var Ce=class r{#e;#t;#r;#n;get r(){return this.#e}set r(e){d(nt(e)===32,"invalid r","value",e),this.#e=A(e)}get s(){return d(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){d(nt(e)===32,"invalid s","value",e),this.#t=A(e)}get _s(){return this.#t}isValid(){return BigInt(this.#t)<=im}get v(){return this.#r}set v(e){let t=O(e,"value");d(t===27||t===28,"invalid v","v",e),this.#r=t}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return e==null?null:r.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=E(this.s);return this.yParity&&(e[0]|=128),A(e)}get compactSerialized(){return M([this.r,this.yParityAndS])}get serialized(){return M([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,s){Fe(e,In,"Signature"),this.#e=t,this.#t=n,this.#r=s,this.#n=null}getCanonical(){if(this.isValid())return this;let e=c0-BigInt(this._s),t=55-this.v,n=new r(In,this.r,Rc(e),t);return this.networkV&&(n.#n=this.networkV),n}clone(){let e=new r(In,this.r,this._s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[am](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let t=I(e,"v");return t==i0||t==a0?s0:(d(t>=Si,"invalid EIP-155 v","v",e),(t-Si)/Sc)}static getChainIdV(e,t){return I(e)*Sc+BigInt(35+t-27)}static getNormalizedV(e){let t=I(e);return t===s0||t===i0?27:t===o0||t===a0?28:(d(t>=Si,"invalid v","v",e),t&o0?27:28)}static from(e){function t(l,u){d(l,u,"signature",e)}if(e==null)return new r(In,ws,ws,27);if(typeof e=="string"){let l=E(e,"signature");if(l.length===64){let u=A(l.slice(0,32)),f=l.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new r(In,u,A(f),h)}if(l.length===65){let u=A(l.slice(0,32)),f=A(l.slice(32,64)),h=r.getNormalizedV(l[64]);return new r(In,u,f,h)}t(!1,"invalid raw signature length")}if(e instanceof r)return e.clone();let n=e.r;t(n!=null,"missing r");let s=Rc(n),o=function(l,u){if(l!=null)return Rc(l);if(u!=null){t(W(u,32),"invalid yParityAndS");let f=E(u);return f[0]&=127,A(f)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:i,v:a}=function(l,u,f){if(l!=null){let h=I(l);return{networkV:h>=Si?h:void 0,v:r.getNormalizedV(h)}}if(u!=null)return t(W(u,32),"invalid yParityAndS"),{v:E(u)[0]&128?28:27};if(f!=null){switch(O(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new r(In,s,o,a);return i&&(c.#n=i),t(e.yParity==null||O(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var He=class r{#e;constructor(e){d(nt(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=A(e)}get privateKey(){return this.#e}get publicKey(){return r.computePublicKey(this.#e)}get compressedPublicKey(){return r.computePublicKey(this.#e,!0)}sign(e){d(nt(e)===32,"invalid digest length","digest",e);let t=dr.sign(ge(e),ge(this.#e),{lowS:!0});return Ce.from({r:De(t.r,32),s:De(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=r.computePublicKey(e);return A(dr.getSharedSecret(ge(this.#e),E(t),!1))}static computePublicKey(e,t){let n=E(e,"key");if(n.length===32){let o=dr.getPublicKey(n,!!t);return A(o)}if(n.length===64){let o=new Uint8Array(65);o[0]=4,o.set(n,1),n=o}let s=dr.ProjectivePoint.fromHex(n);return A(s.toRawBytes(t))}static recoverPublicKey(e,t){d(nt(e)===32,"invalid digest length","digest",e);let n=Ce.from(t),s=dr.Signature.fromCompact(ge(M([n.r,n.s])));s=s.addRecoveryBit(n.yParity);let o=s.recoverPublicKey(ge(e));return d(o!=null,"invalid signature for digest","signature",t),"0x"+o.toHex(!1)}static addPoints(e,t,n){let s=dr.ProjectivePoint.fromHex(r.computePublicKey(e).substring(2)),o=dr.ProjectivePoint.fromHex(r.computePublicKey(t).substring(2));return"0x"+s.add(o).toHex(!!n)}};function l0(){Ot.lock(),H.lock(),Xe.lock(),Ye.lock(),Ut.lock(),Lt.lock(),Dt.lock(),Te.lock(),wn.lock(),Ye.lock()}var cm=BigInt(0),lm=BigInt(36);function u0(r){r=r.toLowerCase();let e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);let n=E(H(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}var Oc={};for(let r=0;r<10;r++)Oc[String(r)]=String(r);for(let r=0;r<26;r++)Oc[String.fromCharCode(65+r)]=String(10+r);var f0=15;function d0(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Oc[n]).join("");for(;e.length>=f0;){let n=e.substring(0,f0);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}var um=function(){let r={};for(let e=0;e<36;e++){let t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r}();function fm(r){r=r.toLowerCase();let e=cm;for(let t=0;t<r.length;t++)e=e*lm+um[r[t]];return e}function L(r){if(d(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);let e=u0(r);return d(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){d(r.substring(2,4)===d0(r),"bad icap checksum","address",r);let e=fm(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return u0("0x"+e)}d(!1,"invalid address","address",r)}function Uc(r){let e=BigInt(L(r)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+d0("XE00"+e)+e}function Pn(r){let e=L(r.from),n=I(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,L(te(H(je([e,n])),12))}function Lc(r,e,t){let n=L(r),s=E(e,"salt"),o=E(t,"initCodeHash");return d(s.length===32,"salt must be 32 bytes","salt",e),d(o.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),L(te(H(M(["0xff",n,s,o])),12))}function As(r){return r&&typeof r.getAddress=="function"}function Mc(r){try{return L(r),!0}catch{}return!1}async function Dc(r,e){let t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(g(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),d(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),L(t)}function be(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?L(r):(g(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Dc(r,e.resolveName(r)));if(As(r))return Dc(r,r.getAddress());if(r&&typeof r.then=="function")return Dc(r,r);d(!1,"unsupported addressable value","target",r)}var Ft={};function U(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new fe(Ft,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function oe(r,e){return new fe(Ft,`bytes${e||""}`,r,{size:e})}var h0=Symbol.for("_ethers_typed"),fe=class r{type;value;#e;_typedSymbol;constructor(e,t,n,s){s==null&&(s=null),Fe(Ft,e,"Typed"),k(this,{_typedSymbol:h0,type:t,value:n}),this.#e=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new r(Ft,e,t)}static uint8(e){return U(e,8)}static uint16(e){return U(e,16)}static uint24(e){return U(e,24)}static uint32(e){return U(e,32)}static uint40(e){return U(e,40)}static uint48(e){return U(e,48)}static uint56(e){return U(e,56)}static uint64(e){return U(e,64)}static uint72(e){return U(e,72)}static uint80(e){return U(e,80)}static uint88(e){return U(e,88)}static uint96(e){return U(e,96)}static uint104(e){return U(e,104)}static uint112(e){return U(e,112)}static uint120(e){return U(e,120)}static uint128(e){return U(e,128)}static uint136(e){return U(e,136)}static uint144(e){return U(e,144)}static uint152(e){return U(e,152)}static uint160(e){return U(e,160)}static uint168(e){return U(e,168)}static uint176(e){return U(e,176)}static uint184(e){return U(e,184)}static uint192(e){return U(e,192)}static uint200(e){return U(e,200)}static uint208(e){return U(e,208)}static uint216(e){return U(e,216)}static uint224(e){return U(e,224)}static uint232(e){return U(e,232)}static uint240(e){return U(e,240)}static uint248(e){return U(e,248)}static uint256(e){return U(e,256)}static uint(e){return U(e,256)}static int8(e){return U(e,-8)}static int16(e){return U(e,-16)}static int24(e){return U(e,-24)}static int32(e){return U(e,-32)}static int40(e){return U(e,-40)}static int48(e){return U(e,-48)}static int56(e){return U(e,-56)}static int64(e){return U(e,-64)}static int72(e){return U(e,-72)}static int80(e){return U(e,-80)}static int88(e){return U(e,-88)}static int96(e){return U(e,-96)}static int104(e){return U(e,-104)}static int112(e){return U(e,-112)}static int120(e){return U(e,-120)}static int128(e){return U(e,-128)}static int136(e){return U(e,-136)}static int144(e){return U(e,-144)}static int152(e){return U(e,-152)}static int160(e){return U(e,-160)}static int168(e){return U(e,-168)}static int176(e){return U(e,-176)}static int184(e){return U(e,-184)}static int192(e){return U(e,-192)}static int200(e){return U(e,-200)}static int208(e){return U(e,-208)}static int216(e){return U(e,-216)}static int224(e){return U(e,-224)}static int232(e){return U(e,-232)}static int240(e){return U(e,-240)}static int248(e){return U(e,-248)}static int256(e){return U(e,-256)}static int(e){return U(e,-256)}static bytes1(e){return oe(e,1)}static bytes2(e){return oe(e,2)}static bytes3(e){return oe(e,3)}static bytes4(e){return oe(e,4)}static bytes5(e){return oe(e,5)}static bytes6(e){return oe(e,6)}static bytes7(e){return oe(e,7)}static bytes8(e){return oe(e,8)}static bytes9(e){return oe(e,9)}static bytes10(e){return oe(e,10)}static bytes11(e){return oe(e,11)}static bytes12(e){return oe(e,12)}static bytes13(e){return oe(e,13)}static bytes14(e){return oe(e,14)}static bytes15(e){return oe(e,15)}static bytes16(e){return oe(e,16)}static bytes17(e){return oe(e,17)}static bytes18(e){return oe(e,18)}static bytes19(e){return oe(e,19)}static bytes20(e){return oe(e,20)}static bytes21(e){return oe(e,21)}static bytes22(e){return oe(e,22)}static bytes23(e){return oe(e,23)}static bytes24(e){return oe(e,24)}static bytes25(e){return oe(e,25)}static bytes26(e){return oe(e,26)}static bytes27(e){return oe(e,27)}static bytes28(e){return oe(e,28)}static bytes29(e){return oe(e,29)}static bytes30(e){return oe(e,30)}static bytes31(e){return oe(e,31)}static bytes32(e){return oe(e,32)}static address(e){return new r(Ft,"address",e)}static bool(e){return new r(Ft,"bool",!!e)}static bytes(e){return new r(Ft,"bytes",e)}static string(e){return new r(Ft,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new r(Ft,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===h0}static dereference(e,t){if(r.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};var Oi=class extends Re{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=fe.dereference(t,"string");try{n=L(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return L(De(e.readValue(),20))}};var Ui=class extends Re{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}};function Fc(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(l=>{let u=l.localName;return g(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),g(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),c[u]=!0,t[u]})}else d(!1,"invalid tuple value","tuple",t);d(e.length===n.length,"types/value length mismatch","tuple",t);let s=new bn,o=new bn,i=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=o.length;c.encode(o,u);let h=s.writeUpdatableValue();i.push(p=>{h(p+f)})}else c.encode(s,u)}),i.forEach(c=>{c(s.length)});let a=r.appendWriter(s);return a+=r.appendWriter(o),a}function _c(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(o=>{let i=null;if(o.dynamic){let a=r.readIndex(),c=s.subReader(a);try{i=o.decode(c)}catch(l){if(ne(l,"BUFFER_OVERRUN"))throw l;i=l,i.baseType=o.name,i.name=o.localName,i.type=o.type}}else try{i=o.decode(r)}catch(a){if(ne(a,"BUFFER_OVERRUN"))throw a;i=a,i.baseType=o.name,i.name=o.localName,i.type=o.type}if(i==null)throw new Error("investigate");t.push(i),n.push(o.localName||null)}),Bt.fromItems(t,n)}var Li=class extends Re{coder;length;constructor(e,t,n){let s=e.type+"["+(t>=0?t:"")+"]",o=t===-1||e.dynamic;super("array",s,n,o),k(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){let n=fe.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;s===-1&&(s=n.length,e.writeValue(n.length)),dn(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let i=0;i<n.length;i++)o.push(this.coder);return Fc(e,o,n)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),g(t*_e<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*_e,length:e.dataLength}));let n=[];for(let s=0;s<t;s++)n.push(new Ui(this.coder));return _c(e,n)}};var Di=class extends Re{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let n=fe.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}};var go=class extends Re{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ge(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}},Mi=class extends go{constructor(e){super("bytes",e)}decode(e){return A(super.decode(e))}};var Fi=class extends Re{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),k(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=ge(fe.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return A(e.readBytes(this.size))}};var dm=new Uint8Array([]),_i=class extends Re{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(dm)}decode(e){return e.readBytes(0),null}};var hm=BigInt(0),pm=BigInt(1),xm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Hi=class extends Re{size;signed;constructor(e,t,n){let s=(t?"int":"uint")+e*8;super(s,s,n,!1),k(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=I(fe.dereference(t,this.type)),s=ct(xm,_e*8);if(this.signed){let o=ct(s,this.size*8-1);(n>o||n<-(o+pm))&&this._throwError("value out-of-bounds",t),n=or(n,8*_e)}else(n<hm||n>ct(s,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=ct(e.readValue(),this.size*8);return this.signed&&(t=sr(t,this.size*8)),t}};var Gi=class extends go{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ie(fe.dereference(t,"string")))}decode(e){return $e(super.decode(e))}};var vn=class extends Re{coders;constructor(e,t){let n=!1,s=[];e.forEach(i=>{i.dynamic&&(n=!0),s.push(i.type)});let o="tuple("+s.join(",")+")";super("tuple",o,t,n),k(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});let t=this.coders.reduce((n,s)=>{let o=s.localName;return o&&(n[o]||(n[o]=0),n[o]++),n},{});return this.coders.forEach((n,s)=>{let o=n.localName;!o||t[o]!==1||(o==="length"&&(o="_length"),e[o]==null&&(e[o]=e[s]))}),Object.freeze(e)}encode(e,t){let n=fe.dereference(t,"tuple");return Fc(e,this.coders,n)}decode(e){return _c(e,this.coders)}};function Hc(r,e){return{address:L(r),storageKeys:e.map((t,n)=>(d(W(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function Ge(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(d(t.length===2,"invalid slot set",`value[${n}]`,t),Hc(t[0],t[1])):(d(t!=null&&typeof t=="object","invalid address-slot set","value",r),Hc(t.address,t.storageKeys)));d(r!=null&&typeof r=="object","invalid access list","value",r);let e=Object.keys(r).map(t=>{let n=r[t].reduce((s,o)=>(s[o]=!0,s),{});return Hc(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function Tn(r){return{address:L(r.address),nonce:I(r.nonce!=null?r.nonce:0),chainId:I(r.chainId!=null?r.chainId:0),signature:Ce.from(r.signature)}}function _t(r){let e;return typeof r=="string"?e=He.computePublicKey(r,!1):e=r.publicKey,L(H("0x"+e.substring(4)).substring(26))}function Ht(r,e){return _t(He.recoverPublicKey(r,e))}var Me=BigInt(0),mm=BigInt(2),gm=BigInt(27),bm=BigInt(28),ym=BigInt(35),wm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Am=Symbol.for("nodejs.util.inspect.custom"),Gc=4096*32,Ki=128;function Em(r){return{blobToKzgCommitment:n=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return E(r.blobToKzgCommitment(A(n)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return E(r.blobToKzgCommitment(n));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return E(r.blobToKZGCommitment(A(n)));d(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return E(r.computeBlobProof(A(n),A(s)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return E(r.computeBlobKZGProof(A(n),A(s)));d(!1,"unsupported KZG library","kzg",r)}}}function p0(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=Te(e).substring(4),"0x"+t}function Es(r){return r==="0x"?null:L(r)}function Wi(r,e){try{return Ge(r)}catch(t){d(!1,t.message,e,r)}}function km(r,e){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");let t=[];for(let n=0;n<r.length;n++){let s=r[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);t.push({address:Es(s[1]),nonce:de(s[2],"nonce"),chainId:de(s[0],"chainId"),signature:Ce.from({yParity:Cn(s[3],"yParity"),r:ve(s[4],32),s:ve(s[5],32)})})}return t}catch(t){d(!1,t.message,e,r)}}function Cn(r,e){return r==="0x"?0:O(r,e)}function de(r,e){if(r==="0x")return Me;let t=I(r,e);return d(t<=wm,"value exceeds uint size",e,t),t}function q(r,e){let t=I(r,"value"),n=Z(t);return d(n.length<=32,"value too large",`tx.${e}`,t),n}function Vi(r){return Ge(r).map(e=>[e.address,e.storageKeys])}function Nm(r){return r.map(e=>[q(e.chainId,"chainId"),e.address,q(e.nonce,"nonce"),q(e.signature.yParity,"yParity"),Z(e.signature.r),Z(e.signature._s)])}function Im(r,e){d(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)d(W(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function Pm(r){let e=ar(r);d(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);let t={type:0,nonce:Cn(e[0],"nonce"),gasPrice:de(e[1],"gasPrice"),gasLimit:de(e[2],"gasLimit"),to:Es(e[3]),value:de(e[4],"value"),data:A(e[5]),chainId:Me};if(e.length===6)return t;let n=de(e[6],"v"),s=de(e[7],"r"),o=de(e[8],"s");if(s===Me&&o===Me)t.chainId=n;else{let i=(n-ym)/mm;i<Me&&(i=Me),t.chainId=i,d(i!==Me||n===gm||n===bm,"non-canonical legacy v","v",e[6]),t.signature=Ce.from({r:ve(e[7],32),s:ve(e[8],32),v:n})}return t}function vm(r,e){let t=[q(r.nonce,"nonce"),q(r.gasPrice||0,"gasPrice"),q(r.gasLimit,"gasLimit"),r.to||"0x",q(r.value,"value"),r.data],n=Me;if(r.chainId!=Me)n=I(r.chainId,"tx.chainId"),d(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){let o=r.signature.legacyChainId;o!=null&&(n=o)}if(!e)return n!==Me&&(t.push(Z(n)),t.push("0x"),t.push("0x")),je(t);let s=BigInt(27+e.yParity);return n!==Me?s=Ce.getChainIdV(n,e.v):BigInt(e.v)!==s&&d(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Z(s)),t.push(Z(e.r)),t.push(Z(e._s)),je(t)}function zi(r,e){let t;try{if(t=Cn(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{d(!1,"invalid yParity","yParity",e[0])}let n=ve(e[1],32),s=ve(e[2],32),o=Ce.from({r:n,s,yParity:t});r.signature=o}function Tm(r){let e=ar(E(r).slice(1));d(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",A(r));let t={type:2,chainId:de(e[0],"chainId"),nonce:Cn(e[1],"nonce"),maxPriorityFeePerGas:de(e[2],"maxPriorityFeePerGas"),maxFeePerGas:de(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:de(e[4],"gasLimit"),to:Es(e[5]),value:de(e[6],"value"),data:A(e[7]),accessList:Wi(e[8],"accessList")};return e.length===9||zi(t,e.slice(9)),t}function Cm(r,e){let t=[q(r.chainId,"chainId"),q(r.nonce,"nonce"),q(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),q(r.maxFeePerGas||0,"maxFeePerGas"),q(r.gasLimit,"gasLimit"),r.to||"0x",q(r.value,"value"),r.data,Vi(r.accessList||[])];return e&&(t.push(q(e.yParity,"yParity")),t.push(Z(e.r)),t.push(Z(e.s))),M(["0x02",je(t)])}function Bm(r){let e=ar(E(r).slice(1));d(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",A(r));let t={type:1,chainId:de(e[0],"chainId"),nonce:Cn(e[1],"nonce"),gasPrice:de(e[2],"gasPrice"),gasLimit:de(e[3],"gasLimit"),to:Es(e[4]),value:de(e[5],"value"),data:A(e[6]),accessList:Wi(e[7],"accessList")};return e.length===8||zi(t,e.slice(8)),t}function Rm(r,e){let t=[q(r.chainId,"chainId"),q(r.nonce,"nonce"),q(r.gasPrice||0,"gasPrice"),q(r.gasLimit,"gasLimit"),r.to||"0x",q(r.value,"value"),r.data,Vi(r.accessList||[])];return e&&(t.push(q(e.yParity,"recoveryParam")),t.push(Z(e.r)),t.push(Z(e.s))),M(["0x01",je(t)])}function Sm(r){let e=ar(E(r).slice(1)),t="3",n=null,s=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";let i=e[1],a=e[2],c=e[3];d(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),d(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),d(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),d(i.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),d(i.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<e[1].length;l++)s.push({data:i[l],commitment:a[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){t="3 (EIP-7594 network format)",n=O(e[1]);let i=e[2],a=e[3],c=e[4];d(n===1,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),d(Array.isArray(i),"invalid EIP-7594 network format: blobs not an array","fields[2]",i),d(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),d(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),d(i.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),d(i.length*Ki===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<i.length;l++){let u=[];for(let f=0;f<Ki;f++)u.push(c[l*Ki+f]);s.push({data:i[l],commitment:a[l],proof:M(u)})}e=e[0]}d(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",A(r));let o={type:3,chainId:de(e[0],"chainId"),nonce:Cn(e[1],"nonce"),maxPriorityFeePerGas:de(e[2],"maxPriorityFeePerGas"),maxFeePerGas:de(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:de(e[4],"gasLimit"),to:Es(e[5]),value:de(e[6],"value"),data:A(e[7]),accessList:Wi(e[8],"accessList"),maxFeePerBlobGas:de(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:n};s&&(o.blobs=s),d(o.to!=null,`invalid address for transaction type: ${t}`,"data",r),d(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let i=0;i<o.blobVersionedHashes.length;i++)d(W(o.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",r);return e.length===11||zi(o,e.slice(11)),o}function Om(r,e,t){let n=[q(r.chainId,"chainId"),q(r.nonce,"nonce"),q(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),q(r.maxFeePerGas||0,"maxFeePerGas"),q(r.gasLimit,"gasLimit"),r.to||Mt,q(r.value,"value"),r.data,Vi(r.accessList||[]),q(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Im(r.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(n.push(q(e.yParity,"yParity")),n.push(Z(e.r)),n.push(Z(e.s)),t)){if(r.blobWrapperVersion!=null){let s=Z(r.blobWrapperVersion),o=[];for(let{proof:i}of t){let a=E(i),c=a.length/Ki;for(let l=0;l<a.length;l+=c)o.push(a.subarray(l,l+c))}return M(["0x03",je([n,s,t.map(i=>i.data),t.map(i=>i.commitment),o])])}return M(["0x03",je([n,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])])}return M(["0x03",je(n)])}function Um(r){let e=ar(E(r).slice(1));d(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",A(r));let t={type:4,chainId:de(e[0],"chainId"),nonce:Cn(e[1],"nonce"),maxPriorityFeePerGas:de(e[2],"maxPriorityFeePerGas"),maxFeePerGas:de(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:de(e[4],"gasLimit"),to:Es(e[5]),value:de(e[6],"value"),data:A(e[7]),accessList:Wi(e[8],"accessList"),authorizationList:km(e[9],"authorizationList")};return e.length===10||zi(t,e.slice(10)),t}function Lm(r,e){let t=[q(r.chainId,"chainId"),q(r.nonce,"nonce"),q(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),q(r.maxFeePerGas||0,"maxFeePerGas"),q(r.gasLimit,"gasLimit"),r.to||"0x",q(r.value,"value"),r.data,Vi(r.accessList||[]),Nm(r.authorizationList||[])];return e&&(t.push(q(e.yParity,"yParity")),t.push(Z(e.r)),t.push(Z(e.s))),M(["0x04",je(t)])}var ft=class r{#e;#t;#r;#n;#s;#i;#o;#a;#f;#l;#p;#x;#c;#u;#d;#h;#b;#m;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:d(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?Mt:e}set to(e){this.#t=e==null?null:L(e)}get nonce(){return this.#n}set nonce(e){this.#n=O(e,"value")}get gasLimit(){return this.#s}set gasLimit(e){this.#s=I(e)}get gasPrice(){let e=this.#i;return e==null&&(this.type===0||this.type===1)?Me:e}set gasPrice(e){this.#i=e==null?null:I(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#o;return e??(this.type===2||this.type===3?Me:null)}set maxPriorityFeePerGas(e){this.#o=e==null?null:I(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?Me:null)}set maxFeePerGas(e){this.#a=e==null?null:I(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=A(e)}get value(){return this.#f}set value(e){this.#f=I(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=I(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:Ce.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let t=this.authorizationList;if(t){for(let n of t)if(!n.signature.isValid())return!1}return!0}get accessList(){let e=this.#x||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#x=e==null?null:Ge(e)}get authorizationList(){let e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(t=>Tn(t))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?Me:e}set maxFeePerBlobGas(e){this.#c=e==null?null:I(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){d(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)d(W(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#u=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}let t=[],n=[];for(let s=0;s<e.length;s++){let o=e[s];if(Pt(o)){g(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let i=E(o);if(d(i.length<=Gc,"blob is too large",`blobs[${s}]`,o),i.length!==Gc){let l=new Uint8Array(Gc);l.set(i),i=l}let a=this.#d.blobToKzgCommitment(i),c=A(this.#d.computeBlobKzgProof(i,a));t.push({data:A(i),commitment:A(a),proof:c}),n.push(p0(1,a))}else{let i=A(o.data),a=A(o.commitment),c=A(o.proof);t.push({data:i,commitment:a,proof:c}),n.push(p0(1,a))}}this.#h=t,this.#u=n}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=Em(e)}get blobWrapperVersion(){return this.#m}set blobWrapperVersion(e){this.#m=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#s=Me,this.#i=null,this.#o=null,this.#a=null,this.#r="0x",this.#f=Me,this.#l=Me,this.#p=null,this.#x=null,this.#c=null,this.#u=null,this.#d=null,this.#h=null,this.#b=null,this.#m=null}get hash(){return this.signature==null?null:H(this.#g(!0,!1))}get unsignedHash(){return H(this.unsignedSerialized)}get from(){return this.signature==null?null:Ht(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:He.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#g(e,t){g(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let n=e?this.signature:null;switch(this.inferType()){case 0:return vm(this,n);case 1:return Rm(this,n);case 2:return Cm(this,n);case 3:return Om(this,n,t?this.blobs:null);case 4:return Lm(this,n)}g(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&g(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),g(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),g(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let o=[];return this.type!=null?o.push(this.type):this.authorizationList&&this.authorizationList.length?o.push(4):t?o.push(2):e?(o.push(1),n||o.push(0)):n?(o.push(1),o.push(2)):(s&&this.to||(o.push(0),o.push(1),o.push(2)),o.push(3)),o.sort(),o}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return r.from(this)}toJSON(){let e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[Am](){return this.toString()}toString(){let e=[],t=s=>{let o=this[s];typeof o=="string"&&(o=JSON.stringify(o)),e.push(`${s}: ${o}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),this.chainId!=null&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));let n=this.authorizationList;if(n){let s=[];for(let o of n){let i=[];i.push(`address: ${JSON.stringify(o.address)}`),o.nonce!=null&&i.push(`nonce: ${o.nonce}`),o.chainId!=null&&i.push(`chainId: ${o.chainId}`),o.signature&&i.push(`signature: ${o.signature.toString()}`),s.push(`Authorization { ${i.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new r;if(typeof e=="string"){let n=E(e);if(n[0]>=127)return r.from(Pm(n));switch(n[0]){case 1:return r.from(Bm(n));case 2:return r.from(Tm(n));case 3:return r.from(Sm(n));case 4:return r.from(Um(n))}g(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new r;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=Ce.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobWrapperVersion!=null&&(t.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(d(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),d(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(d(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),d(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};function ks(r){return d(typeof r.address=="string","invalid address for hashAuthorization","auth.address",r),H(M(["0x05",je([r.chainId!=null?Z(r.chainId):"0x",L(r.address),r.nonce!=null?Z(r.nonce):"0x"])]))}function Kc(r,e){return Ht(ks(r),e)}function Ke(r){return H(ie(r))}var Dm="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",x0=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),m0=4;function Mm(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),s=1,o=[0,1];for(let v=1;v<n;v++)o.push(s+=t());let i=t(),a=e;e+=i;let c=0,l=0;function u(){return c==0&&(l=l<<8|r[e++],c=8),l>>--c&1}let f=31,h=2**f,p=h>>>1,b=p>>1,m=h-1,y=0;for(let v=0;v<f;v++)y=y<<1|u();let w=[],P=0,N=h;for(;;){let v=Math.floor(((y-P+1)*s-1)/N),C=0,S=n;for(;S-C>1;){let G=C+S>>>1;v<o[G]?S=G:C=G}if(C==0)break;w.push(C);let R=P+Math.floor(N*o[C]/s),z=P+Math.floor(N*o[C+1]/s)-1;for(;!((R^z)&p);)y=y<<1&m|u(),R=R<<1&m,z=z<<1&m|1;for(;R&~z&b;)y=y&p|y<<1&m>>>1|u(),R=R<<1^p,z=(z^p)<<1|p|1;P=R,N=1+z-R}let D=n-4;return w.map(v=>{switch(v-D){case 3:return D+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return D+256+(r[a++]<<8|r[a++]);case 1:return D+r[a++];default:return v-1}})}function Fm(r){let e=0;return()=>r[e++]}function w0(r){return Fm(Mm(_m(r)))}function _m(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,o)=>e[s.charCodeAt(0)]=o);let t=r.length,n=new Uint8Array(6*t>>3);for(let s=0,o=0,i=0,a=0;s<t;s++)a=a<<6|e[r.charCodeAt(s)],i+=6,i>=8&&(n[o++]=a>>(i-=8));return n}function Hm(r){return r&1?~r>>1:r>>1}function Gm(r,e){let t=Array(r);for(let n=0,s=0;n<r;n++)t[n]=s+=Hm(e());return t}function wo(r,e=0){let t=[];for(;;){let n=r(),s=r();if(!s)break;e+=n;for(let o=0;o<s;o++)t.push(e+o);e+=s+1}return t}function A0(r){return Ao(()=>{let e=wo(r);if(e.length)return e})}function E0(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(Km(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(Wm(t,r))}return e.flat()}function Ao(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function k0(r,e,t){let n=Array(r).fill().map(()=>[]);for(let s=0;s<e;s++)Gm(r,t).forEach((o,i)=>n[i].push(o));return n}function Km(r,e){let t=1+e(),n=e(),s=Ao(e);return k0(s.length,1+r,e).flatMap((i,a)=>{let[c,...l]=i;return Array(s[a]).fill().map((u,f)=>{let h=f*n;return[c+f*t,l.map(p=>p+h)]})})}function Wm(r,e){let t=1+e();return k0(t,1+r,e).map(s=>[s[0],s.slice(1)])}function Vm(r){let e=[],t=wo(r);return s(n([]),[]),e;function n(o){let i=r(),a=Ao(()=>{let c=wo(r).map(l=>t[l]);if(c.length)return n(c)});return{S:i,B:a,Q:o}}function s({S:o,B:i},a,c){if(!(o&4&&c===a[a.length-1])){o&2&&(c=a[a.length-1]),o&1&&e.push(a);for(let l of i)for(let u of l.Q)s(l,[...a,u],c)}}}function zm(r){return r.toString(16).toUpperCase().padStart(2,"0")}function N0(r){return`{${zm(r)}}`}function Qm(r){let e=[];for(let t=0,n=r.length;t<n;){let s=r.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function Ps(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let s=0;s<t;)n.push(String.fromCodePoint(...r.slice(s,s+=4096)));return n.join("")}function Jm(r,e){let t=r.length,n=t-e.length;for(let s=0;n==0&&s<t;s++)n=r[s]-e[s];return n}var jm="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",Eo=44032,Ji=4352,ji=4449,qi=4519,I0=19,P0=21,vs=28,Yi=P0*vs,qm=I0*Yi,Ym=Eo+qm,Zm=Ji+I0,$m=ji+P0,Xm=qi+vs;function bo(r){return r>>24&255}function v0(r){return r&16777215}var Vc,g0,zc,Qi;function eg(){let r=w0(jm);Vc=new Map(A0(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),g0=new Set(wo(r)),zc=new Map,Qi=new Map;for(let[e,t]of E0(r)){if(!g0.has(e)&&t.length==2){let[n,s]=t,o=Qi.get(n);o||(o=new Map,Qi.set(n,o)),o.set(s,e)}zc.set(e,t.reverse())}}function T0(r){return r>=Eo&&r<Ym}function tg(r,e){if(r>=Ji&&r<Zm&&e>=ji&&e<$m)return Eo+(r-Ji)*Yi+(e-ji)*vs;if(T0(r)&&e>qi&&e<Xm&&(r-Eo)%vs==0)return r+(e-qi);{let t=Qi.get(r);return t&&(t=t.get(e),t)?t:-1}}function C0(r){Vc||eg();let e=[],t=[],n=!1;function s(o){let i=Vc.get(o);i&&(n=!0,o|=i),e.push(o)}for(let o of r)for(;;){if(o<128)e.push(o);else if(T0(o)){let i=o-Eo,a=i/Yi|0,c=i%Yi/vs|0,l=i%vs;s(Ji+a),s(ji+c),l>0&&s(qi+l)}else{let i=zc.get(o);i?t.push(...i):s(o)}if(!t.length)break;o=t.pop()}if(n&&e.length>1){let o=bo(e[0]);for(let i=1;i<e.length;i++){let a=bo(e[i]);if(a==0||o<=a){o=a;continue}let c=i-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(o=bo(e[--c]),o<=a))break}o=bo(e[i])}}return e}function rg(r){let e=[],t=[],n=-1,s=0;for(let o of r){let i=bo(o),a=v0(o);if(n==-1)i==0?n=a:e.push(a);else if(s>0&&s>=i)i==0?(e.push(n,...t),t.length=0,n=a):t.push(a),s=i;else{let c=tg(n,a);c>=0?n=c:s==0&&i==0?(e.push(n),n=a):(t.push(a),s=i)}}return n>=0&&e.push(n,...t),e}function B0(r){return C0(r).map(v0)}function ng(r){return rg(C0(r))}var b0=45;var R0=".",S0=65039,O0=1,Zi=r=>Array.from(r);function ko(r,e){return r.P.has(e)||r.Q.has(e)}var Qc=class extends Array{get is_emoji(){return!0}},Jc,U0,Rn,jc,L0,sg,Is,Wc,Ns,Bn,y0,qc;function Yc(){if(Jc)return;let r=w0(Dm),e=()=>wo(r),t=()=>new Set(e()),n=(u,f)=>f.forEach(h=>u.add(h));Jc=new Map(E0(r)),U0=t(),Rn=e(),jc=new Set(e().map(u=>Rn[u])),Rn=new Set(Rn),L0=t(),sg=t();let s=A0(r),o=r(),i=()=>{let u=new Set;return e().forEach(f=>n(u,s[f])),n(u,e()),u};Is=Ao(u=>{let f=Ao(r).map(h=>h+96);if(f.length){let h=u>=o;f[0]-=32,f=Ps(f),h&&(f=`Restricted[${f}]`);let p=i(),b=i(),m=!r();return{N:f,P:p,Q:b,M:m,R:h}}}),Wc=t(),Ns=new Map;let a=e().concat(Zi(Wc)).sort((u,f)=>u-f);a.forEach((u,f)=>{let h=r(),p=a[f]=h?a[f-h]:{V:[],M:new Map};p.V.push(u),Wc.has(u)||Ns.set(u,p)});for(let{V:u,M:f}of new Set(Ns.values())){let h=[];for(let b of u){let m=Is.filter(w=>ko(w,b)),y=h.find(({G:w})=>m.some(P=>w.has(P)));y||(y={G:new Set,V:[]},h.push(y)),y.V.push(b),n(y.G,m)}let p=h.flatMap(b=>Zi(b.G));for(let{G:b,V:m}of h){let y=new Set(p.filter(w=>!b.has(w)));for(let w of m)f.set(w,y)}}Bn=new Set;let c=new Set,l=u=>Bn.has(u)?c.add(u):Bn.add(u);for(let u of Is){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of Bn)!Ns.has(u)&&!c.has(u)&&Ns.set(u,O0);n(Bn,B0(Bn)),y0=Vm(r).map(u=>Qc.from(u)).sort(Jm),qc=new Map;for(let u of y0){let f=[qc];for(let h of u){let p=f.map(b=>{let m=b.get(h);return m||(m=new Map,b.set(h,m)),m});h===S0?f.push(...p):f=p}for(let h of f)h.V=u}}function Zc(r){return(D0(r)?"":`${$c($i([r]))} `)+N0(r)}function $c(r){return`"${r}"\u200E`}function og(r){if(r.length>=4&&r[2]==b0&&r[3]==b0)throw new Error(`invalid label extension: "${Ps(r.slice(0,4))}"`)}function ig(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function ag(r){let e=r[0],t=x0.get(e);if(t)throw yo(`leading ${t}`);let n=r.length,s=-1;for(let o=1;o<n;o++){e=r[o];let i=x0.get(e);if(i){if(s==o)throw yo(`${t} + ${i}`);s=o+1,t=i}}if(s==n)throw yo(`trailing ${t}`)}function $i(r,e=1/0,t=N0){let n=[];cg(r[0])&&n.push("\u25CC"),r.length>e&&(e>>=1,r=[...r.slice(0,e),8230,...r.slice(-e)]);let s=0,o=r.length;for(let i=0;i<o;i++){let a=r[i];D0(a)&&(n.push(Ps(r.slice(s,i))),n.push(t(a)),s=i+1)}return n.push(Ps(r.slice(s,o))),n.join("")}function cg(r){return Yc(),Rn.has(r)}function D0(r){return Yc(),L0.has(r)}function M0(r){return dg(lg(r,ng,xg))}function lg(r,e,t){if(!r)return[];Yc();let n=0;return r.split(R0).map(s=>{let o=Qm(s),i={input:o,offset:n};n+=o.length+1;try{let a=i.tokens=pg(o,e,t),c=a.length,l;if(!c)throw new Error("empty label");let u=i.output=a.flat();if(ig(u),!(i.emoji=c>1||a[0].is_emoji)&&u.every(h=>h<128))og(u),l="ASCII";else{let h=a.flatMap(p=>p.is_emoji?[]:p);if(!h.length)l="Emoji";else{if(Rn.has(u[0]))throw yo("leading combining mark");for(let m=1;m<c;m++){let y=a[m];if(!y.is_emoji&&Rn.has(y[0]))throw yo(`emoji + combining mark: "${Ps(a[m-1])} + ${$i([y[0]])}"`)}ag(u);let p=Zi(new Set(h)),[b]=fg(p);hg(b,h),ug(b,p),l=b.N}}i.type=l}catch(a){i.error=a}return i})}function ug(r,e){let t,n=[];for(let s of e){let o=Ns.get(s);if(o===O0)return;if(o){let i=o.M.get(s);if(t=t?t.filter(a=>i.has(a)):Zi(i),!t.length)return}else n.push(s)}if(t){for(let s of t)if(n.every(o=>ko(s,o)))throw new Error(`whole-script confusable: ${r.N}/${s.N}`)}}function fg(r){let e=Is;for(let t of r){let n=e.filter(s=>ko(s,t));if(!n.length)throw Is.some(s=>ko(s,t))?_0(e[0],t):F0(t);if(e=n,n.length==1)break}return e}function dg(r){return r.map(({input:e,error:t,output:n})=>{if(t){let s=t.message;throw new Error(r.length==1?s:`Invalid label ${$c($i(e,63))}: ${s}`)}return Ps(n)}).join(R0)}function F0(r){return new Error(`disallowed character: ${Zc(r)}`)}function _0(r,e){let t=Zc(e),n=Is.find(s=>s.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function yo(r){return new Error(`illegal placement: ${r}`)}function hg(r,e){for(let t of e)if(!ko(r,t))throw _0(r,t);if(r.M){let t=B0(e);for(let n=1,s=t.length;n<s;n++)if(jc.has(t[n])){let o=n+1;for(let i;o<s&&jc.has(i=t[o]);o++)for(let a=n;a<o;a++)if(t[a]==i)throw new Error(`duplicate non-spacing marks: ${Zc(i)}`);if(o-n>m0)throw new Error(`excessive non-spacing marks: ${$c($i(t.slice(n-1,o)))} (${o-n}/${m0})`);n=o}}}function pg(r,e,t){let n=[],s=[];for(r=r.slice().reverse();r.length;){let o=mg(r);if(o)s.length&&(n.push(e(s)),s=[]),n.push(t(o));else{let i=r.pop();if(Bn.has(i))s.push(i);else{let a=Jc.get(i);if(a)s.push(...a);else if(!U0.has(i))throw F0(i)}}}return s.length&&n.push(e(s)),n}function xg(r){return r.filter(e=>e!=S0)}function mg(r,e){let t=qc,n,s=r.length;for(;s&&(t=t.get(r[--s]),!!t);){let{V:o}=t;o&&(n=o,e&&e.push(...r.slice(s).reverse()),r.length=s)}return n}var G0=new Uint8Array(32);G0.fill(0);function H0(r){return d(r.length!==0,"invalid ENS name; empty component","comp",r),r}function Xc(r){let e=ie(Xi(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(H0(e.slice(n,s))),n=s+1);return d(n<e.length,"invalid ENS name; empty component","name",r),t.push(H0(e.slice(n))),t}function Xi(r){try{if(r.length===0)throw new Error("empty label");return M0(r)}catch(e){d(!1,`invalid ENS name (${e.message})`,"name",r)}}function el(r){try{return Xc(r).length!==0}catch{}return!1}function Wr(r){d(typeof r=="string","invalid ENS name; not a string","name",r),d(r.length,"invalid ENS name (empty label)","name",r);let e=G0,t=Xc(r);for(;t.length;)e=H(M([e,H(t.pop())]));return A(e)}function No(r,e){let t=e??63;return d(t<=255,"DNS encoded label cannot exceed 255","length",t),A(M(Xc(r).map(n=>{d(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);let s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function Ts(r){return typeof r=="string"&&(r=ie(r)),H(M([ie(mo),ie(String(r.length)),r]))}function tl(r,e){let t=Ts(r);return Ht(t,e)}var gg=new RegExp("^bytes([0-9]+)$"),bg=new RegExp("^(u?int)([0-9]*)$"),yg=new RegExp("^(.*)\\[([0-9]*)\\]$");function K0(r,e,t){switch(r){case"address":return t?E(ve(e,32)):E(L(e));case"string":return ie(e);case"bytes":return E(e);case"bool":return e=e?"0x01":"0x00",t?E(ve(e,32)):E(e)}let n=r.match(bg);if(n){let s=n[1]==="int",o=parseInt(n[2]||"256");return d((!n[2]||n[2]===String(o))&&o%8===0&&o!==0&&o<=256,"invalid number type","type",r),t&&(o=256),s&&(e=or(e,o)),E(ve(Z(e),o/8))}if(n=r.match(gg),n){let s=parseInt(n[1]);return d(String(s)===n[1]&&s!==0&&s<=32,"invalid bytes type","type",r),d(nt(e)===s,`invalid value for ${r}`,"value",e),t?E(nr(e,32)):e}if(n=r.match(yg),n&&Array.isArray(e)){let s=n[1],o=parseInt(n[2]||String(e.length));d(o===e.length,`invalid array length for ${r}`,"value",e);let i=[];return e.forEach(function(a){i.push(K0(s,a,!0))}),E(M(i))}d(!1,"invalid type","type",r)}function Io(r,e){d(r.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let t=[];return r.forEach(function(n,s){t.push(K0(n,e[s]))}),A(M(t))}function rl(r,e){return H(Io(r,e))}function nl(r,e){return Te(Io(r,e))}var Q0=new Uint8Array(32);Q0.fill(0);var wg=BigInt(-1),J0=BigInt(0),j0=BigInt(1),Ag=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Eg(r){let e=E(r),t=e.length%32;return t?M([e,Q0.slice(t)]):A(e)}var kg=De(j0,32),Ng=De(J0,32),W0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},sl=["name","version","chainId","verifyingContract","salt"];function V0(r){return function(e){return d(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}var Ig={name:V0("name"),version:V0("version"),chainId:function(r){let e=I(r,"domain.chainId");return d(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):Oe(e)},verifyingContract:function(r){try{return L(r).toLowerCase()}catch{}d(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){let e=E(r,"domain.salt");return d(e.length===32,'invalid domain value "salt"',"domain.salt",r),A(e)}};function ol(r){{let e=r.match(/^(u?)int(\d+)$/);if(e){let t=e[1]==="",n=parseInt(e[2]);d(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);let s=ct(Ag,t?n-1:n),o=t?(s+j0)*wg:J0;return function(i){let a=I(i,"value");return d(a>=o&&a<=s,`value out-of-bounds for ${r}`,"value",a),De(t?or(a,256):a,32)}}}{let e=r.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return d(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){let s=E(n);return d(s.length===t,`invalid length for ${r}`,"value",n),Eg(n)}}}switch(r){case"address":return function(e){return ve(L(e),32)};case"bool":return function(e){return e?kg:Ng};case"bytes":return function(e){return H(e)};case"string":return function(e){return Ke(e)}}return null}function z0(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function ea(r){let e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}var mt=class r{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;let t=new Map,n=new Map,s=new Map,o={};Object.keys(e).forEach(c=>{o[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:h}=ea(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(h||"")}}),t.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),this.#e=JSON.stringify(o);for(let c in o){let l=new Set;for(let u of o[c]){d(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);let f=ea(u.type).base;d(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!ol(f)&&(d(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),t.get(c).add(f))}}let i=Array.from(n.keys()).filter(c=>n.get(c).length===0);d(i.length!==0,"missing primary type","types",e),d(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),k(this,{primaryType:i[0]});function a(c,l){d(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let u of t.get(c))if(n.has(u)){a(u,l);for(let f of l)s.get(f).add(u)}l.delete(c)}a(this.primaryType,new Set);for(let[c,l]of s){let u=Array.from(l);u.sort(),this.#t.set(c,z0(c,o[c])+u.map(f=>z0(f,o[f])).join(""))}}getEncoder(e){let t=this.#r.get(e);return t||(t=this.#n(e),this.#r.set(e,t)),t}#n(e){{let s=ol(e);if(s)return s}let t=ea(e).array;if(t){let s=t.prefix,o=this.getEncoder(s);return i=>{d(t.count===-1||t.count===i.length,`array length mismatch; expected length ${t.count}`,"value",i);let a=i.map(o);return this.#t.has(s)&&(a=a.map(H)),H(M(a))}}let n=this.types[e];if(n){let s=Ke(this.#t.get(e));return o=>{let i=n.map(({name:a,type:c})=>{let l=this.getEncoder(c)(o[a]);return this.#t.has(c)?H(l):l});return i.unshift(s),M(i)}}d(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#t.get(e);return d(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return H(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(ol(e))return n(e,t);let s=ea(e).array;if(s)return d(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(i=>this._visit(s.prefix,i,n));let o=this.types[e];if(o)return o.reduce((i,{name:a,type:c})=>(i[a]=this._visit(c,t[a],n),i),{});d(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new r(e)}static getPrimaryType(e){return r.from(e).primaryType}static hashStruct(e,t,n){return r.from(t).hashStruct(e,n)}static hashDomain(e){let t=[];for(let n in e){if(e[n]==null)continue;let s=W0[n];d(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>sl.indexOf(n.name)-sl.indexOf(s.name)),r.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return M(["0x1901",r.hashDomain(e),r.from(t).hash(n)])}static hash(e,t,n){return H(r.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let o={};e.verifyingContract&&!W(e.verifyingContract,20)&&(o[e.verifyingContract]="0x");let i=r.from(t);i.visit(n,(a,c)=>(a==="address"&&!W(c,20)&&(o[c]="0x"),c));for(let a in o)o[a]=await s(a);return e.verifyingContract&&o[e.verifyingContract]&&(e.verifyingContract=o[e.verifyingContract]),n=i.visit(n,(a,c)=>a==="address"&&o[c]?o[c]:c),{domain:e,value:n}}static getPayload(e,t,n){r.hashDomain(e);let s={},o=[];sl.forEach(c=>{let l=e[c];l!=null&&(s[c]=Ig[c](l),o.push({name:c,type:W0[c]}))});let i=r.from(t);t=i.types;let a=Object.assign({},t);return d(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=o,i.encode(n),{types:a,domain:s,primaryType:i.primaryType,message:i.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return A(E(l));if(c.match(/^u?int/))return I(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return d(typeof l=="string","invalid string","value",l),l}d(!1,"unsupported type","type",c)})}}};function il(r,e,t,n){return Ht(mt.hash(r,e,t),n)}function et(r){let e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}var Pg="external public payable override",vg=et(Pg.split(" ")),sd="constant external internal payable private public pure view override",Tg=et(sd.split(" ")),od="constructor error event fallback function receive struct",id=et(od.split(" ")),ad="calldata memory storage payable indexed",Cg=et(ad.split(" ")),Bg="tuple returns",Rg=[od,ad,Bg,sd].join(" "),Sg=et(Rg.split(" ")),Og={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Ug=new RegExp("^(\\s*)"),Lg=new RegExp("^([0-9]+)"),Dg=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cd=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ld=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Gt=class r{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new r(this.#t)}reset(){this.#e=0}#r(e=0,t=0){return new r(this.#t.slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){let t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=[];for(;this.#e<e.match-1;){let n=this.peek().linkNext;t.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let t=this.#e;t<this.#t.length;t++){let n=this.#t[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};function zr(r){let e=[],t=i=>{let a=o<r.length?JSON.stringify(r[o]):"$EOI";throw new Error(`invalid token ${a} at ${o}: ${i}`)},n=[],s=[],o=0;for(;o<r.length;){let i=r.substring(o),a=i.match(Ug);a&&(o+=a[1].length,i=r.substring(o));let c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};e.push(c);let l=Og[i[0]]||"";if(l){if(c.type=l,c.text=i[0],o++,l==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let f=e.pop().text;u=f+u,e[e.length-1].value=O(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=i.match(Dg),a){if(c.text=a[1],o+=c.text.length,Sg.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(ld)){c.type="TYPE";continue}c.type="ID";continue}if(a=i.match(Lg),a){c.text=a[1],c.type="NUMBER",o+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${o}`)}return new Gt(e.map(i=>Object.freeze(i)))}function q0(r,e){let t=[];for(let n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function ta(r,e){if(e.peekKeyword(id)){let t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function pr(r,e){let t=new Set;for(;;){let n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function ud(r){let e=pr(r,Tg);return q0(e,et("constant payable nonpayable".split(" "))),q0(e,et("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function hr(r,e){return r.popParams().map(t=>Ie.from(t,e))}function fd(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return I(r.pop().text);throw new Error("invalid gas")}return null}function Sn(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}var Mg=new RegExp(/^(.*)\[([0-9]*)\]$/);function Y0(r){let e=r.match(ld);if(d(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){let t=parseInt(e[2]);d(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){let t=parseInt(e[3]);d(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}var Ee={},st=Symbol.for("_ethers_internal"),Z0="_ParamTypeInternal",$0="_ErrorInternal",X0="_EventInternal",ed="_ConstructorInternal",td="_FallbackInternal",rd="_FunctionInternal",nd="_StructInternal",Ie=class r{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,s,o,i,a,c){if(Fe(e,Ee,"ParamType"),Object.defineProperty(this,st,{value:Z0}),i&&(i=Object.freeze(i.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");k(this,{name:t,type:n,baseType:s,indexed:o,components:i,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let n=this.name||"";if(this.isArray()){let o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}let s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(o=>JSON.parse(o.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let n=this;return e.map((s,o)=>n.components[o].walk(s,t))}return t(this.type,e)}#e(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let i=this.arrayChildren,a=t.slice();a.forEach((c,l)=>{i.#e(e,c,n,u=>{a[l]=u})}),s(a);return}if(this.isTuple()){let i=this.components,a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=i.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{i[l].#e(e,c,n,u=>{a[l]=u})}),s(a);return}let o=n(this.type,t);o.then?e.push(async function(){s(await o)}()):s(o)}async walkAsync(e,t){let n=[],s=[e];return this.#e(n,e,t,o=>{s[0]=o}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(r.isParamType(e))return e;if(typeof e=="string")try{return r.from(zr(e),t)}catch{d(!1,"invalid param type","obj",e)}else if(e instanceof Gt){let a="",c="",l=null;pr(e,et(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(m=>r.from(m)),a=`tuple(${l.map(m=>m.format()).join(",")})`):(a=Y0(e.popType("TYPE")),c=a);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){let m=e.pop();u=new r(Ee,"",a,c,null,l,f,u),f=m.value,a+=m.text,c="array",l=null}let h=null;if(pr(e,Cg).has("indexed")){if(!t)throw new Error("");h=!0}let b=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new r(Ee,b,a,c,h,l,f,u)}let n=e.name;d(!n||typeof n=="string"&&n.match(cd),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(d(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let o=e.type,i=o.match(Mg);if(i){let a=parseInt(i[2]||"-1"),c=r.from({type:i[1],components:e.components});return new r(Ee,n||"",o,"array",s,null,a,c)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){let a=e.components!=null?e.components.map(l=>r.from(l)):null;return new r(Ee,n||"",o,"tuple",s,a,null,null)}return o=Y0(e.type),new r(Ee,n||"",o,o,s,null,null,null)}static isParamType(e){return e&&e[st]===Z0}},qt=class r{type;inputs;constructor(e,t,n){Fe(e,Ee,"Fragment"),n=Object.freeze(n.slice()),k(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{r.from(JSON.parse(e))}catch{}return r.from(zr(e))}if(e instanceof Gt)switch(e.peekKeyword(id)){case"constructor":return Jt.from(e);case"error":return tt.from(e);case"event":return Qt.from(e);case"fallback":case"receive":return On.from(e);case"function":return jt.from(e);case"struct":return Vr.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Jt.from(e);case"error":return tt.from(e);case"event":return Qt.from(e);case"fallback":case"receive":return On.from(e);case"function":return jt.from(e);case"struct":return Vr.from(e)}g(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}d(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Jt.isFragment(e)}static isError(e){return tt.isFragment(e)}static isEvent(e){return Qt.isFragment(e)}static isFunction(e){return jt.isFragment(e)}static isStruct(e){return Vr.isFragment(e)}},xr=class extends qt{name;constructor(e,t,n,s){super(e,t,s),d(typeof n=="string"&&n.match(cd),"invalid identifier","name",n),s=Object.freeze(s.slice()),k(this,{name:n})}};function Po(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}var tt=class r extends xr{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,st,{value:$0})}get selector(){return Ke(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Po(e,this.inputs)),t.join(" ")}static from(e){if(r.isFragment(e))return e;if(typeof e=="string")return r.from(zr(e));if(e instanceof Gt){let t=ta("error",e),n=hr(e);return Sn(e),new r(Ee,t,n)}return new r(Ee,e.name,e.inputs?e.inputs.map(Ie.from):[])}static isFragment(e){return e&&e[st]===$0}},Qt=class r extends xr{anonymous;constructor(e,t,n,s){super(e,"event",t,n),Object.defineProperty(this,st,{value:X0}),k(this,{anonymous:s})}get topicHash(){return Ke(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+Po(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(s=>Ie.from(s)),new r(Ee,e,t,!1).topicHash}static from(e){if(r.isFragment(e))return e;if(typeof e=="string")try{return r.from(zr(e))}catch{d(!1,"invalid event fragment","obj",e)}else if(e instanceof Gt){let t=ta("event",e),n=hr(e,!0),s=!!pr(e,et(["anonymous"])).has("anonymous");return Sn(e),new r(Ee,t,n,s)}return new r(Ee,e.name,e.inputs?e.inputs.map(t=>Ie.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[st]===X0}},Jt=class r extends qt{payable;gas;constructor(e,t,n,s,o){super(e,t,n),Object.defineProperty(this,st,{value:ed}),k(this,{payable:s,gas:o})}format(e){if(g(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let t=[`constructor${Po(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(r.isFragment(e))return e;if(typeof e=="string")try{return r.from(zr(e))}catch{d(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Gt){pr(e,et(["constructor"]));let t=hr(e),n=!!pr(e,vg).has("payable"),s=fd(e);return Sn(e),new r(Ee,"constructor",t,n,s)}return new r(Ee,"constructor",e.inputs?e.inputs.map(Ie.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[st]===ed}},On=class r extends qt{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,st,{value:td}),k(this,{payable:n})}format(e){let t=this.inputs.length===0?"receive":"fallback";if(e==="json"){let n=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:n})}return`${t}()${this.payable?" payable":""}`}static from(e){if(r.isFragment(e))return e;if(typeof e=="string")try{return r.from(zr(e))}catch{d(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Gt){let t=e.toString(),n=e.peekKeyword(et(["fallback","receive"]));if(d(n,"type must be fallback or receive","obj",t),e.popKeyword(et(["fallback","receive"]))==="receive"){let a=hr(e);return d(a.length===0,"receive cannot have arguments","obj.inputs",a),pr(e,et(["payable"])),Sn(e),new r(Ee,[],!0)}let o=hr(e);o.length?d(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(a=>a.format("minimal")).join(", ")):o=[Ie.from("bytes")];let i=ud(e);if(d(i==="nonpayable"||i==="payable","fallback cannot be constants","obj.stateMutability",i),pr(e,et(["returns"])).has("returns")){let a=hr(e);d(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return Sn(e),new r(Ee,o,i==="payable")}if(e.type==="receive")return new r(Ee,[],!0);if(e.type==="fallback"){let t=[Ie.from("bytes")],n=e.stateMutability==="payable";return new r(Ee,t,n)}d(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[st]===td}},jt=class r extends xr{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,s,o,i){super(e,"function",t,s),Object.defineProperty(this,st,{value:rd}),o=Object.freeze(o.slice()),k(this,{constant:n==="view"||n==="pure",gas:i,outputs:o,payable:n==="payable",stateMutability:n})}get selector(){return Ke(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+Po(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Po(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(s=>Ie.from(s)),new r(Ee,e,"view",t,[],null).selector}static from(e){if(r.isFragment(e))return e;if(typeof e=="string")try{return r.from(zr(e))}catch{d(!1,"invalid function fragment","obj",e)}else if(e instanceof Gt){let n=ta("function",e),s=hr(e),o=ud(e),i=[];pr(e,et(["returns"])).has("returns")&&(i=hr(e));let a=fd(e);return Sn(e),new r(Ee,n,o,s,i,a)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new r(Ee,e.name,t,e.inputs?e.inputs.map(Ie.from):[],e.outputs?e.outputs.map(Ie.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[st]===rd}},Vr=class r extends xr{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,st,{value:nd})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return r.from(zr(e))}catch{d(!1,"invalid struct fragment","obj",e)}else if(e instanceof Gt){let t=ta("struct",e),n=hr(e);return Sn(e),new r(Ee,t,n)}return new r(Ee,e.name,e.inputs?e.inputs.map(Ie.from):[])}static isFragment(e){return e&&e[st]===nd}};var Kt=new Map;Kt.set(0,"GENERIC_PANIC");Kt.set(1,"ASSERT_FALSE");Kt.set(17,"OVERFLOW");Kt.set(18,"DIVIDE_BY_ZERO");Kt.set(33,"ENUM_RANGE_ERROR");Kt.set(34,"BAD_STORAGE_DATA");Kt.set(49,"STACK_UNDERFLOW");Kt.set(50,"ARRAY_RANGE_ERROR");Kt.set(65,"OUT_OF_MEMORY");Kt.set(81,"UNINITIALIZED_FUNCTION_CALL");var Fg=new RegExp(/^bytes([0-9]*)$/),_g=new RegExp(/^(u?int)([0-9]*)$/),al=null,dd=1024;function Hg(r,e,t,n){let s="missing revert data",o=null,i=null,a=null;if(t){s="execution reverted";let l=E(t);if(t=A(t),l.length===0)s+=" (no data present; likely require(false) occurred",o="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(A(l.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},s+=`: ${JSON.stringify(o)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(A(l.slice(0,4))==="0x4e487b71")try{let u=Number(n.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${Kt.get(u)||"UNKNOWN"}(${u})`,s+=`: ${o}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}let c={to:e.to?L(e.to):null,data:e.data||"0x"};return e.from&&(c.from=L(e.from)),Q(s,"CALL_EXCEPTION",{action:r,data:t,reason:o,transaction:c,invocation:i,revert:a})}var gt=class r{#e(e){if(e.isArray())return new Li(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new vn(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new Oi(e.name);case"bool":return new Di(e.name);case"string":return new Gi(e.name);case"bytes":return new Mi(e.name);case"":return new _i(e.name)}let t=e.type.match(_g);if(t){let n=parseInt(t[2]||"256");return d(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Hi(n/8,t[1]==="int",e.name)}if(t=e.type.match(Fg),t){let n=parseInt(t[1]);return d(n!==0&&n<=32,"invalid bytes length","param",e),new Fi(n,e.name)}d(!1,"invalid type","type",e.type)}getDefaultValue(e){let t=e.map(s=>this.#e(Ie.from(s)));return new vn(t,"_").defaultValue()}encode(e,t){dn(t.length,e.length,"types/values length mismatch");let n=e.map(i=>this.#e(Ie.from(i))),s=new vn(n,"_"),o=new bn;return s.encode(o,t),o.data}decode(e,t,n){let s=e.map(i=>this.#e(Ie.from(i)));return new vn(s,"_").decode(new pi(t,n,dd))}static _setDefaultMaxInflation(e){d(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),dd=e}static defaultAbiCoder(){return al==null&&(al=new r),al}static getBuiltinCallException(e,t,n){return Hg(e,t,n,r.defaultAbiCoder())}};function cl(r){let e=ie(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return nr(e,32)}function ll(r){let e=E(r,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return $e(e.slice(0,t))}var Cs=class{fragment;name;signature;topic;args;constructor(e,t,n){let s=e.name,o=e.format();k(this,{fragment:e,name:s,signature:o,topic:t,args:n})}},Bs=class{fragment;name;args;signature;selector;value;constructor(e,t,n,s){let o=e.name,i=e.format();k(this,{fragment:e,name:o,args:n,signature:i,selector:t,value:s})}},Rs=class{fragment;name;args;signature;selector;constructor(e,t,n){let s=e.name,o=e.format();k(this,{fragment:e,name:s,args:n,signature:o,selector:t})}},Un=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){k(this,{hash:e,_isIndexed:!0})}},hd={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},pd={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&hd[r.toString()]&&(e=hd[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}},mr=class r{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;let n=[];for(let i of t)try{n.push(qt.from(i))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,a.message)}k(this,{fragments:Object.freeze(n)});let s=null,o=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((i,a)=>{let c;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}k(this,{deploy:i});return;case"fallback":i.inputs.length===0?o=!0:(d(!s||i.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,i),s=i,o=s.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=i.format();c.has(l)||c.set(l,i)}),this.deploy||k(this,{deploy:Jt.from("constructor()")}),k(this,{fallback:s,receive:o})}format(e){let t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){let e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return gt.defaultAbiCoder()}#s(e,t,n){if(W(e)){let o=e.toLowerCase();for(let i of this.#r.values())if(o===i.selector)return i;return null}if(e.indexOf("(")===-1){let o=[];for(let[i,a]of this.#r)i.split("(")[0]===e&&o.push(a);if(t){let i=t.length>0?t[t.length-1]:null,a=t.length,c=!0;fe.isTyped(i)&&i.type==="overrides"&&(c=!1,a--);for(let l=o.length-1;l>=0;l--){let u=o[l].inputs.length;u!==a&&(!c||u!==a-1)&&o.splice(l,1)}for(let l=o.length-1;l>=0;l--){let u=o[l].inputs;for(let f=0;f<t.length;f++)if(fe.isTyped(t[f])){if(f>=u.length){if(t[f].type==="overrides")continue;o.splice(l,1);break}if(t[f].type!==u[f].baseType){o.splice(l,1);break}}}}if(o.length===1&&t&&t.length!==o[0].inputs.length){let i=t[t.length-1];(i==null||Array.isArray(i)||typeof i!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){let i=o.map(a=>JSON.stringify(a.format())).join(", ");d(!1,`ambiguous function description (i.e. matches ${i})`,"key",e)}return o[0]}let s=this.#r.get(jt.from(e).format());return s||null}getFunctionName(e){let t=this.#s(e,null,!1);return d(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#s(e,null,!1)}getFunction(e,t){return this.#s(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#r.keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(this.#r.get(s),n)}}#i(e,t,n){if(W(e)){let o=e.toLowerCase();for(let i of this.#t.values())if(o===i.topicHash)return i;return null}if(e.indexOf("(")===-1){let o=[];for(let[i,a]of this.#t)i.split("(")[0]===e&&o.push(a);if(t){for(let i=o.length-1;i>=0;i--)o[i].inputs.length<t.length&&o.splice(i,1);for(let i=o.length-1;i>=0;i--){let a=o[i].inputs;for(let c=0;c<t.length;c++)if(fe.isTyped(t[c])&&t[c].type!==a[c].baseType){o.splice(i,1);break}}}if(o.length===0)return null;if(o.length>1&&n){let i=o.map(a=>JSON.stringify(a.format())).join(", ");d(!1,`ambiguous event description (i.e. matches ${i})`,"key",e)}return o[0]}let s=this.#t.get(Qt.from(e).format());return s||null}getEventName(e){let t=this.#i(e,null,!1);return d(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#i(e,null,!1)}getEvent(e,t){return this.#i(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#t.keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(this.#t.get(s),n)}}getError(e,t){if(W(e)){let s=e.toLowerCase();if(pd[s])return tt.from(pd[s].signature);for(let o of this.#e.values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){let s=[];for(let[o,i]of this.#e)o.split("(")[0]===e&&s.push(i);if(s.length===0)return e==="Error"?tt.from("error Error(string)"):e==="Panic"?tt.from("error Panic(uint256)"):null;if(s.length>1){let o=s.map(i=>JSON.stringify(i.format())).join(", ");d(!1,`ambiguous error description (i.e. ${o})`,"name",e)}return s[0]}if(e=tt.from(e).format(),e==="Error(string)")return tt.from("error Error(string)");if(e==="Panic(uint256)")return tt.from("error Panic(uint256)");let n=this.#e.get(e);return n||null}forEachError(e){let t=Array.from(this.#e.keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){let s=t[n];e(this.#e.get(s),n)}}_decodeParams(e,t){return this.#n.decode(e,t)}_encodeParams(e,t){return this.#n.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);d(n,"unknown error","fragment",e),e=n}return d(te(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,te(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){let n=this.getError(e);d(n,"unknown error","fragment",e),e=n}return M([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);d(n,"unknown function","fragment",e),e=n}return d(te(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,te(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){let n=this.getFunction(e);d(n,"unknown function","fragment",e),e=n}return M([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){let o=this.getFunction(e);d(o,"unknown function","fragment",e),e=o}let n="invalid length for result data",s=ge(t);if(s.length%32===0)try{return this.#n.decode(e.outputs,s)}catch{n="could not decode result data"}g(!1,n,"BAD_DATA",{value:A(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){let n=E(e,"data"),s=gt.getBuiltinCallException("call",t,n);if(s.message.startsWith("execution reverted (unknown custom error)")){let a=A(n.slice(0,4)),c=this.getError(a);if(c)try{let l=this.#n.decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}let i=this.parseTransaction(t);return i&&(s.invocation={method:i.name,signature:i.signature,args:i.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){let n=this.getFunction(e);d(n,"unknown function","fragment",e),e=n}return A(this.#n.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){let o=this.getEvent(e);d(o,"unknown event","eventFragment",e),e=o}g(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let n=[];e.anonymous||n.push(e.topicHash);let s=(o,i)=>o.type==="string"?Ke(i):o.type==="bytes"?H(A(i)):(o.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":o.type.match(/^u?int/)?i=De(i):o.type.match(/^bytes/)?i=nr(i,32):o.type==="address"&&this.#n.encode(["address"],[i]),ve(A(i),32));for(t.forEach((o,i)=>{let a=e.inputs[i];if(!a.indexed){d(o==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,o);return}o==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?d(!1,"filtering with tuples or arrays not supported","contract."+a.name,o):Array.isArray(o)?n.push(o.map(c=>s(a,c))):n.push(s(a,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){let i=this.getEvent(e);d(i,"unknown event","eventFragment",e),e=i}let n=[],s=[],o=[];return e.anonymous||n.push(e.topicHash),d(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((i,a)=>{let c=t[a];if(i.indexed)if(i.type==="string")n.push(Ke(c));else if(i.type==="bytes")n.push(H(c));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([i.type],[c]))}else s.push(i),o.push(c)}),{data:this.#n.encode(s,o),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){let p=this.getEvent(e);d(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){let p=e.topicHash;d(W(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}let s=[],o=[],i=[];e.inputs.forEach((p,b)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(Ie.from({type:"bytes32",name:p.name})),i.push(!0)):(s.push(p),i.push(!1)):(o.push(p),i.push(!1))});let a=n!=null?this.#n.decode(s,M(n)):null,c=this.#n.decode(o,t,!0),l=[],u=[],f=0,h=0;return e.inputs.forEach((p,b)=>{let m=null;if(p.indexed)if(a==null)m=new Un(null);else if(i[b])m=new Un(a[h++]);else try{m=a[h++]}catch(y){m=y}else try{m=c[f++]}catch(y){m=y}l.push(m),u.push(p.name||null)}),Bt.fromItems(l,u)}parseTransaction(e){let t=E(e.data,"tx.data"),n=I(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(A(t.slice(0,4)));if(!s)return null;let o=this.#n.decode(s.inputs,t.slice(4));return new Bs(s,s.selector,o,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Cs(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=A(e),n=this.getError(te(t,0,4));if(!n)return null;let s=this.#n.decode(n.inputs,te(t,4));return new Rs(n,n.selector,s)}static from(e){return e instanceof r?e:typeof e=="string"?new r(JSON.parse(e)):typeof e.formatJson=="function"?new r(e.formatJson()):typeof e.format=="function"?new r(e.format("json")):new r(e)}};var xd=BigInt(0);function Ss(r){return r??null}function Be(r){return r==null?null:r.toString()}var Qr=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){k(this,{gasPrice:Ss(e),maxFeePerGas:Ss(t),maxPriorityFeePerGas:Ss(n)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Be(e),maxFeePerGas:Be(t),maxPriorityFeePerGas:Be(n)}}};function bt(r){let e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=A(r.data));let t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let s of t)!(s in r)||r[s]==null||(e[s]=I(r[s],`request.${s}`));let n="type,nonce".split(/,/);for(let s of n)!(s in r)||r[s]==null||(e[s]=O(r[s],`request.${s}`));return r.accessList&&(e.accessList=Ge(r.accessList)),r.authorizationList&&(e.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobWrapperVersion"in r&&(e.blobWrapperVersion=r.blobWrapperVersion),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(s=>Pt(s)?A(s):Object.assign({},s))),e}var Ln=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(n=>typeof n!="string"?new Yt(n,t):n),k(this,{provider:t,hash:Ss(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ss(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ss(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(g(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:o,hash:i,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:b,timestamp:m,transactions:y}=this;return{_type:"Block",baseFeePerGas:Be(e),difficulty:Be(t),extraData:n,gasLimit:Be(s),gasUsed:Be(o),blobGasUsed:Be(this.blobGasUsed),excessBlobGas:Be(this.excessBlobGas),hash:i,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:m,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:b,transactions:y}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=this.#e[e];else{let n=e.toLowerCase();for(let s of this.#e)if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash!==n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(let n of t)if(n.hash===e)return n;d(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return Gg(this)}},dt=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;let n=Object.freeze(e.topics.slice());k(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:n,data:s,index:o,removed:i,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:o,removed:i,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return g(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return g(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return g(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Kg(this)}},gr=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(s=>new dt(s,t)));let n=xd;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),k(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:t,contractAddress:n,hash:s,index:o,blockHash:i,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:n,cumulativeGasUsed:Be(this.cumulativeGasUsed),from:t,gasPrice:Be(this.gasPrice),blobGasUsed:Be(this.blobGasUsed),blobGasPrice:Be(this.blobGasPrice),gasUsed:Be(this.gasUsed),hash:s,index:o,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return gd(this)}reorderedEvent(e){return g(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),md(this,e)}},Yt=class r{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:t,index:n,hash:s,type:o,to:i,from:a,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:Be(this.chainId),data:l,from:a,gasLimit:Be(this.gasLimit),gasPrice:Be(this.gasPrice),hash:s,maxFeePerGas:Be(this.maxFeePerGas),maxPriorityFeePerGas:Be(this.maxPriorityFeePerGas),maxFeePerBlobGas:Be(this.maxFeePerBlobGas),nonce:c,signature:u,to:i,index:n,type:o,value:Be(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;let t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:t,blockNumber:n}=await he({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let n=e??1,s=t??0,o=this.#e,i=-1,a=o===-1,c=async()=>{if(a)return null;let{blockNumber:h,nonce:p}=await he({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){o=h;return}if(a)return null;let b=await this.getTransaction();if(!(b&&b.blockNumber!=null))for(i===-1&&(i=o-3,i<this.#e&&(i=this.#e));i<=h;){if(a)return null;let m=await this.provider.getBlock(i,!0);if(m==null)return;for(let y of m)if(y===this.hash)return;for(let y=0;y<m.length;y++){let w=await m.getTransaction(y);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;let P=await this.provider.getTransactionReceipt(w.hash);if(P==null||h-P.blockNumber+1<n)return;let N="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?N="repriced":w.data==="0x"&&w.from===w.to&&w.value===xd&&(N="cancelled"),g(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:w.replaceableTransaction(o),hash:w.hash,receipt:P})}}i++}},l=h=>{if(h==null||h.status!==0)return h;g(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((h,p)=>{let b=[],m=()=>{b.forEach(w=>w())};if(b.push(()=>{a=!0}),s>0){let w=setTimeout(()=>{m(),p(Q("wait for transaction timeout","TIMEOUT"))},s);b.push(()=>{clearTimeout(w)})}let y=async w=>{if(await w.confirmations()>=n){m();try{h(l(w))}catch(P){p(P)}}};if(b.push(()=>{this.provider.off(this.hash,y)}),this.provider.on(this.hash,y),o>=0){let w=async()=>{try{await c()}catch(P){if(ne(P,"TRANSACTION_REPLACED")){m(),p(P);return}}a||this.provider.once("block",w)};b.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return g(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),gd(this)}reorderedEvent(e){return g(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),g(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),md(this,e)}replaceableTransaction(e){d(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new r(this,this.provider);return t.#e=e,t}};function Gg(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function md(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function gd(r){return{orphan:"drop-transaction",tx:r}}function Kg(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}var br=class extends dt{interface;fragment;args;constructor(e,t,n){super(e,e.provider);let s=t.decodeEventLog(n,e.data,e.topics);k(this,{args:s,fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},Jr=class extends dt{error;constructor(e,t){super(e,e.provider),k(this,{error:t})}},Os=class extends gr{#e;constructor(e,t,n){super(n,t),this.#e=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new br(e,this.#e,t)}catch(n){return new Jr(e,n)}return e})}},yr=class extends Yt{#e;constructor(e,t,n){super(n,t),this.#e=e}async wait(e,t){let n=await super.wait(e,t);return n==null?null:new Os(this.#e,this.provider,n)}},jr=class extends ir{log;constructor(e,t,n,s){super(e,t,n),k(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},Dn=class extends jr{constructor(e,t,n,s,o){super(e,t,n,new br(o,e.interface,s));let i=e.interface.decodeEventLog(s,this.log.data,this.log.topics);k(this,{args:i,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var bd=BigInt(0);function wd(r){return r&&typeof r.call=="function"}function Ad(r){return r&&typeof r.estimateGas=="function"}function sa(r){return r&&typeof r.resolveName=="function"}function Ed(r){return r&&typeof r.sendTransaction=="function"}function kd(r){if(r!=null){if(sa(r))return r;if(r.provider)return r.provider}}var ul=class{#e;fragment;constructor(e,t,n){if(k(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");let s=Fn(e.runner,"resolveName"),o=sa(s)?s:null;this.#e=async function(){let i=await Promise.all(t.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(h=>be(h,o))):be(f,o):f)));return e.interface.encodeFilterTopics(t,i)}()}getTopicFilter(){return this.#e}};function Fn(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function Mn(r){return r==null?null:r.provider||null}async function oa(r,e){let t=fe.dereference(r,"overrides");d(typeof t=="object","invalid overrides parameter","overrides",r);let n=bt(t);return d(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),d(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function hl(r,e,t){let n=Fn(r,"resolveName"),s=sa(n)?n:null;return await Promise.all(e.map((o,i)=>o.walkAsync(t[i],(a,c)=>(c=fe.dereference(c,a),a==="address"?be(c,s):c))))}function Wg(r){let e=async function(i){let a=await oa(i,["data"]);a.to=await r.getAddress(),a.from&&(a.from=await be(a.from,kd(r.runner)));let c=r.interface,l=I(a.value||bd,"overrides.value")===bd,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&d(!1,"cannot send data to receive or send value to non-payable fallback","overrides",i),d(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);let f=c.receive||c.fallback&&c.fallback.payable;return d(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),d(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(i){let a=Fn(r.runner,"call");g(wd(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(i);try{return await a.call(c)}catch(l){throw Rr(l)&&l.data?r.interface.makeError(l.data,c):l}},n=async function(i){let a=r.runner;g(Ed(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(i)),l=Mn(r.runner);return new yr(r.interface,l,c)},s=async function(i){let a=Fn(r.runner,"estimateGas");return g(Ad(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(i))},o=async i=>await n(i);return k(o,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),o}function Vg(r,e){let t=function(...l){let u=r.interface.getFunction(e,l);return g(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){let u=t(...l),f={};if(u.inputs.length+1===l.length&&(f=await oa(l.pop()),f.from&&(f.from=await be(f.from,kd(r.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let h=await hl(r.runner,u.inputs,l);return Object.assign({},f,await he({to:r.getAddress(),data:r.interface.encodeFunctionData(u,h)}))},s=async function(...l){let u=await a(...l);return u.length===1?u[0]:u},o=async function(...l){let u=r.runner;g(Ed(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let f=await u.sendTransaction(await n(...l)),h=Mn(r.runner);return new yr(r.interface,h,f)},i=async function(...l){let u=Fn(r.runner,"estimateGas");return g(Ad(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},a=async function(...l){let u=Fn(r.runner,"call");g(wd(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let f=await n(...l),h="0x";try{h=await u.call(f)}catch(b){throw Rr(b)&&b.data?r.interface.makeError(b.data,f):b}let p=t(...l);return r.interface.decodeFunctionResult(p,h)},c=async(...l)=>t(...l).constant?await s(...l):await o(...l);return k(c,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:i,populateTransaction:n,send:o,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=r.interface.getFunction(e);return g(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function zg(r,e){let t=function(...s){let o=r.interface.getEvent(e,s);return g(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),o},n=function(...s){return new ul(r,t(...s),s)};return k(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let s=r.interface.getEvent(e);return g(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}var na=Symbol.for("_ethersInternal_contract"),Nd=new WeakMap;function Qg(r,e){Nd.set(r[na],e)}function ht(r){return Nd.get(r[na])}function Jg(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function pl(r,e){let t,n=null;if(Array.isArray(e)){let o=function(i){if(W(i,32))return i;let a=r.interface.getEvent(i);return d(a,"unknown fragment","name",i),a.topicHash};t=e.map(i=>i==null?null:Array.isArray(i)?i.map(o):o(i))}else e==="*"?t=[null]:typeof e=="string"?W(e,32)?t=[e]:(n=r.interface.getEvent(e),d(n,"unknown fragment","event",e),t=[n.topicHash]):Jg(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):d(!1,"unknown event name","event",e);t=t.map(o=>{if(o==null)return null;if(Array.isArray(o)){let i=Array.from(new Set(o.map(a=>a.toLowerCase())).values());return i.length===1?i[0]:(i.sort(),i)}return o.toLowerCase()});let s=t.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:s,topics:t}}async function vo(r,e){let{subs:t}=ht(r);return t.get((await pl(r,e)).tag)||null}async function yd(r,e,t){let n=Mn(r.runner);g(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:s,tag:o,topics:i}=await pl(r,t),{addr:a,subs:c}=ht(r),l=c.get(o);if(!l){let f={address:a||r,topics:i},h=y=>{let w=s;if(w==null)try{w=r.interface.getEvent(y.topics[0])}catch{}if(w){let P=w,N=s?r.interface.decodeEventLog(s,y.data,y.topics):[];dl(r,t,N,D=>new Dn(r,D,t,P,y))}else dl(r,t,[],P=>new jr(r,P,t,y))},p=[];l={tag:o,listeners:[],start:()=>{p.length||p.push(n.on(f,h))},stop:async()=>{if(p.length==0)return;let y=p;p=[],await Promise.all(y),n.off(f,h)}},c.set(o,l)}return l}var fl=Promise.resolve();async function jg(r,e,t,n){await fl;let s=await vo(r,e);if(!s)return!1;let o=s.listeners.length;return s.listeners=s.listeners.filter(({listener:i,once:a})=>{let c=Array.from(t);n&&c.push(n(a?null:i));try{i.call(r,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),ht(r).subs.delete(s.tag)),o>0}async function dl(r,e,t,n){try{await fl}catch{}let s=jg(r,e,t,n);return fl=s,await s}var ra=["then"],wr=class r{target;interface;runner;filters;[na];fallback;constructor(e,t,n,s){d(typeof e=="string"||As(e),"invalid value for Contract target","target",e),n==null&&(n=null);let o=mr.from(t);k(this,{target:e,runner:n,interface:o}),Object.defineProperty(this,na,{value:{}});let i,a=null,c=null;if(s){let f=Mn(n);c=new yr(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(W(e))a=e,i=Promise.resolve(e);else{let f=Fn(n,"resolveName");if(!sa(f))throw Q("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=f.resolveName(e).then(h=>{if(h==null)throw Q("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return ht(this).addr=h,h})}else i=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return ht(this).addr=f,f});Qg(this,{addrPromise:i,addr:a,deployTx:c,subs:l});let u=new Proxy({},{get:(f,h,p)=>{if(typeof h=="symbol"||ra.indexOf(h)>=0)return Reflect.get(f,h,p);try{return this.getEvent(h)}catch(b){if(!ne(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,h)=>ra.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return k(this,{filters:u}),k(this,{fallback:o.receive||o.fallback?Wg(this):null}),new Proxy(this,{get:(f,h,p)=>{if(typeof h=="symbol"||h in f||ra.indexOf(h)>=0)return Reflect.get(f,h,p);try{return f.getFunction(h)}catch(b){if(!ne(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,h)=>typeof h=="symbol"||h in f||ra.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new r(this.target,this.interface,e)}attach(e){return new r(e,this.interface,this.runner)}async getAddress(){return await ht(this).addrPromise}async getDeployedCode(){let e=Mn(this.runner);g(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let n=Mn(this.runner);return g(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,o)=>{let i=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",i)}catch(a){o(a)}};i()})}deploymentTransaction(){return ht(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Vg(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),zg(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");let{addr:s,addrPromise:o}=ht(this),i=s||await o,{fragment:a,topics:c}=await pl(this,e),l={address:i,topics:c,fromBlock:t,toBlock:n},u=Mn(this.runner);return g(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let h=a;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new br(f,this.interface,h)}catch(p){return new Jr(f,p)}return new dt(f,u)})}async on(e,t){let n=await yd(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){let n=await yd(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await dl(this,e,t,null)}async listenerCount(e){if(e){let s=await vo(this,e);return s?s.listeners.length:0}let{subs:t}=ht(this),n=0;for(let{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){let s=await vo(this,e);return s?s.listeners.map(({listener:o})=>o):[]}let{subs:t}=ht(this),n=[];for(let{listeners:s}of t.values())n=n.concat(s.map(({listener:o})=>o));return n}async off(e,t){let n=await vo(this,e);if(!n)return this;if(t){let s=n.listeners.map(({listener:o})=>o).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),ht(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){let t=await vo(this,e);if(!t)return this;t.stop(),ht(this).subs.delete(t.tag)}else{let{subs:t}=ht(this);for(let{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends r{constructor(s,o=null){super(s,e,o)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}};function qg(){return wr}var ot=class extends qg(){};var To=class r{interface;bytecode;runner;constructor(e,t,n){let s=mr.from(e);t instanceof Uint8Array?t=A(E(t)):(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t),t=A(E(t))),k(this,{bytecode:t,interface:s,runner:n||null})}attach(e){return new wr(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},n=this.interface.deploy;if(n.inputs.length+1===e.length&&(t=await oa(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let s=await hl(this.runner,n.inputs,e),o=M([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:o})}async deploy(...e){let t=await this.getDeployTransaction(...e);g(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await this.runner.sendTransaction(t),s=Pn(n);return new wr(s,this.interface,this.runner,n)}connect(e){return new r(this.interface,this.bytecode,e)}static fromSolidity(e,t){d(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let n=e.abi,s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,t)}};function xl(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):d(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}var Us=class{name;constructor(e){k(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}};var Pd=new RegExp("^(ipfs)://(.*)$","i"),Id=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Pd,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],qr=class r{provider;address;name;#e;#t;constructor(e,t,n){k(this,{provider:e,address:t,name:n}),this.#e=null,this.#t=new ot(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(ne(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#r(e,t){t=(t||[]).slice();let n=this.#t.interface;t.unshift(Wr(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),g(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[No(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let o=await this.#t[e](...t);return s?n.decodeFunctionResult(s,o)[0]:o}catch(o){if(!ne(o,"CALL_EXCEPTION"))throw o}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let o=await this.#r("addr(bytes32)");return o==null||o===Mt?null:o}catch(o){if(ne(o,"CALL_EXCEPTION"))return null;throw o}if(e>=0&&e<2147483648){let o=e+2147483648,i=await this.#r("addr(bytes32,uint)",[o]);if(W(i,20))return L(i)}let t=null;for(let o of this.provider.plugins)if(o instanceof Us&&o.supportsCoinType(e)){t=o;break}if(t==null)return null;let n=await this.#r("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;let s=await t.decodeAddress(e,n);if(s!=null)return s;g(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){let t=await this.#r("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){let e=await this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let s=t[1]==="e3010170"?"ipfs":"ipns",o=parseInt(t[4],16);if(t[5].length===o*2)return`${s}://${xn("0x"+t[2])}`}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;g(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<Id.length;n++){let s=t.match(Id[n]);if(s==null)continue;let o=s[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let i=xl(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:i}),{linkage:e,url:i}}case"erc721":case"erc1155":{let i=o==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:t});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${o}caip`,value:s[2]||""}),{url:null,linkage:e};let l=c[1],u=new ot(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(o==="erc721"){let m=await u.ownerOf(l);if(a!==m)return e.push({type:"!owner",value:m}),{url:null,linkage:e};e.push({type:"owner",value:m})}else if(o==="erc1155"){let m=await u.balanceOf(a,l);if(!m)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:m.toString()})}let f=await u[i](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),o==="erc1155"&&(f=f.replace("{id}",De(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=xl(f)),e.push({type:"metadata-url",value:f});let h={},p=await new ae(f).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{let w=p.body;return w&&e.push({type:"!metadata",value:A(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let b=h.image;if(typeof b!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(Pd)==null)return e.push({type:"!imageUrl-ipfs",value:b}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:b}),b=xl(b)}return e.push({type:"url",value:b}),{linkage:e,url:b}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return g(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#n(e,t){let n=await r.getEnsAddress(e);try{let o=await new ot(n,["function resolver(bytes32) view returns (address)"],e).resolver(Wr(t),{enableCcipRead:!0});return o===Mt?null:o}catch(s){throw s}return null}static async fromName(e,t){let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;let s=await r.#n(e,n);if(s!=null){let o=new r(e,s,t);return n!==t&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};var vd=BigInt(0);function Y(r,e){return function(t){return t==null?e:r(t)}}function Co(r,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))}}function Bo(r,e){return t=>{let n={};for(let s in r){let o=s;if(e&&s in e&&!(o in t)){for(let i of e[s])if(i in t){o=i;break}}try{let i=r[s](t[o]);i!==void 0&&(n[s]=i)}catch(i){let a=i instanceof Error?i.message:"not-an-error";g(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return n}}function Yg(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}d(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function Ls(r){return d(W(r,!0),"invalid data","value",r),r}function We(r){return d(W(r,32),"invalid hash","value",r),r}var Zg=Bo({address:L,blockHash:We,blockNumber:O,data:Ls,index:O,removed:Y(Yg,!1),topics:Co(We),transactionHash:We,transactionIndex:O},{index:["logIndex"]});function Td(r){return Zg(r)}var $g=Bo({hash:Y(We),parentHash:We,parentBeaconBlockRoot:Y(We,null),number:O,timestamp:O,nonce:Y(Ls),difficulty:I,gasLimit:I,gasUsed:I,stateRoot:Y(We,null),receiptsRoot:Y(We,null),blobGasUsed:Y(I,null),excessBlobGas:Y(I,null),miner:Y(L),prevRandao:Y(We,null),extraData:Ls,baseFeePerGas:Y(I)},{prevRandao:["mixHash"]});function Cd(r){let e=$g(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:ml(t)),e}var Xg=Bo({transactionIndex:O,blockNumber:O,transactionHash:We,address:L,topics:Co(We),data:Ls,index:O,blockHash:We},{index:["logIndex"]});function eb(r){return Xg(r)}var tb=Bo({to:Y(L,null),from:Y(L,null),contractAddress:Y(L,null),index:O,root:Y(A),gasUsed:I,blobGasUsed:Y(I,null),logsBloom:Y(Ls),blockHash:We,hash:We,logs:Co(eb),blockNumber:O,cumulativeGasUsed:I,effectiveGasPrice:Y(I),blobGasPrice:Y(I,null),status:Y(O),type:Y(O,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Bd(r){return tb(r)}function ml(r){r.to&&I(r.to)===vd&&(r.to="0x0000000000000000000000000000000000000000");let e=Bo({hash:We,index:Y(O,void 0),type:t=>t==="0x"||t==null?0:O(t),accessList:Y(Ge,null),blobVersionedHashes:Y(Co(We,!0),null),authorizationList:Y(Co(t=>{let n;if(t.signature)n=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},t,{yParity:s})}return{address:L(t.address),chainId:I(t.chainId),nonce:I(t.nonce),signature:Ce.from(n)}},!1),null),blockHash:Y(We,null),blockNumber:Y(O,null),transactionIndex:Y(O,null),from:L,gasPrice:Y(I),maxPriorityFeePerGas:Y(I),maxFeePerGas:Y(I),maxFeePerBlobGas:Y(I,null),gasLimit:I,to:Y(L,null),value:I,nonce:O,data:Ls,creates:Y(L,null),chainId:Y(I,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=Pn(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=Ce.from(r.signature):e.signature=Ce.from(r),e.chainId==null){let t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&I(e.blockHash)===vd&&(e.blockHash=null),e}var rb="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",Wt=class r{name;constructor(e){k(this,{name:e})}clone(){return new r(this.name)}},Yr=class r extends Wt{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let n={effectiveBlock:e};function s(o,i){let a=(t||{})[o];a==null&&(a=i),d(typeof a=="number",`invalud value for ${o}`,"costs",t),n[o]=a}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),k(this,n)}clone(){return new r(this.effectiveBlock,this)}},Zr=class r extends Wt{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),k(this,{address:e||rb,targetNetwork:t??1})}clone(){return new r(this.address,this.targetNetwork)}},Ro=class r extends Wt{#e;get feeDataFunc(){return this.#e}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#e=e}async getFeeData(e){return await this.#e(e)}clone(){return new r(this.#e)}},_n=class extends Wt{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}};var gl=new Map,J=class r{#e;#t;#r;constructor(e,t){this.#e=e,this.#t=I(t),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=I(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===I(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===I(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===I(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new r(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Yr,n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){let s=Ge(e.accessList);for(let o in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[o].storageKeys.length}return n}static from(e){if(nb(),e==null)return r.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let t=gl.get(e);if(t)return t();if(typeof e=="bigint")return new r("unknown",e);d(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){d(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let t=new r(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Zr(e.ensAddress,e.ensNetwork)),t}d(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));let n=gl.get(e);n&&d(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),gl.set(e,t)}};function Rd(r,e){let t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);let n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function Sd(r){return new _n(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{let[o,i]=await Promise.all([n.send(),e()]);s=o;let a=s.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:Rd(a.maxFee,9),maxPriorityFeePerGas:Rd(a.maxPriorityFee,9)}}catch(o){g(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:o})}})}var Od=!1;function nb(){if(Od)return;Od=!0;function r(e,t,n){let s=function(){let o=new J(e,t);return n.ensNetwork!=null&&o.attachPlugin(new Zr(null,n.ensNetwork)),o.attachPlugin(new Yr),(n.plugins||[]).forEach(i=>{o.attachPlugin(i)}),o};J.register(e,s),J.register(t,s),n.altNames&&n.altNames.forEach(o=>{J.register(o,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("filecoin",314,{}),r("filecoin-calibration",314159,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[Sd("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Sd("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function bl(r){return JSON.parse(JSON.stringify(r))}var ia=class{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#s(){try{let e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let t=this.#n+1;t<=e;t++){if(this.#t==null)return;await this.#e.emit("block",t)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}},So=class{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=t=>{this._poll(t,this.#e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},aa=class extends So{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,t){let n=await t.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(t.emit(this.#e,n.number),this.#t=n.number))}},ca=class extends So{#e;constructor(e,t){super(e),this.#e=bl(t)}async _poll(e,t){throw new Error("@TODO")}},la=class extends So{#e;constructor(e,t){super(e),this.#e=t}async _poll(e,t){let n=await t.getTransactionReceipt(this.#e);n&&t.emit(this.#e,n)}},$r=class{#e;#t;#r;#n;#s;constructor(e,t){this.#e=e,this.#t=bl(t),this.#r=this.#i.bind(this),this.#n=!1,this.#s=-2}async#i(e){if(this.#s===-2)return;let t=bl(this.#t);t.fromBlock=this.#s+1,t.toBlock=e;let n=await this.#e.getLogs(t);if(n.length===0){this.#s<e-60&&(this.#s=e-60);return}for(let s of n)this.#e.emit(this.#t,s),this.#s=s.blockNumber}start(){this.#n||(this.#n=!0,this.#s===-2&&this.#e.getBlockNumber().then(e=>{this.#s=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}};var sb=BigInt(2),ob=10;function ua(r){return r&&typeof r.then=="function"}function fa(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){let s=Object.keys(n);return s.sort(),s.reduce((o,i)=>(o[i]=n[i],o),{})}return n})}var Vt=class{name;constructor(e){k(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function ib(r){return JSON.parse(JSON.stringify(r))}function Al(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function yl(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(W(r,32)){let t=r.toLowerCase();return{type:"transaction",tag:fa("tx",{hash:t}),hash:t}}if(r.orphan){let t=r;return{type:"orphan",tag:fa("orphan",t),filter:ib(t)}}if(r.address||r.topics){let t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?Al(s.map(o=>o.toLowerCase())):s.toLowerCase())};if(t.address){let s=[],o=[],i=a=>{W(a)?s.push(a):o.push((async()=>{s.push(await be(a,e))})())};Array.isArray(t.address)?t.address.forEach(i):i(t.address),o.length&&await Promise.all(o),n.address=Al(s.map(a=>a.toLowerCase()))}return{filter:n,tag:fa("event",n),type:"event"}}d(!1,"unknown ProviderEvent","event",r)}function wl(){return new Date().getTime()}var ab={cacheTimeout:250,pollingInterval:4e3},yt=class{#e;#t;#r;#n;#s;#i;#o;#a;#f;#l;#p;#x;constructor(e,t){if(this.#x=Object.assign({},ab,t||{}),e==="any")this.#i=!0,this.#s=null;else if(e){let n=J.from(e);this.#i=!1,this.#s=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#i=!1,this.#s=null;this.#a=-1,this.#o=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#f=1,this.#l=new Map,this.#p=!1}get pollingInterval(){return this.#x.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#c(e){let t=this.#x.cacheTimeout;if(t<0)return await this._perform(e);let n=fa(e.method,e),s=this.#o.get(n);return s||(s=this._perform(e),this.#o.set(n,s),setTimeout(()=>{this.#o.get(n)===s&&this.#o.delete(n)},t)),await s}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;let s=e.to.toLowerCase(),o=t.toLowerCase(),i=[];for(let a=0;a<n.length;a++){let c=n[a],l=c.replace("{sender}",s).replace("{data}",o),u=new ae(l);c.indexOf("{data}")===-1&&(u.body={data:o,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let f="unknown error",h;try{h=await u.send()}catch(p){i.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{let p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}g(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),i.push(f)}g(!1,`error encountered during CCIP fetch: ${i.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:i}})}_wrapBlock(e,t){return new Ln(Cd(e),this)}_wrapLog(e,t){return new dt(Td(e),this)}_wrapTransactionReceipt(e,t){return new gr(Bd(e),this)}_wrapTransactionResponse(e,t){return new Yt(ml(e),this)}_detectNetwork(){g(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){g(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=O(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return be(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(W(e))return W(e,32)?e:Oe(e);if(typeof e=="bigint"&&(e=O(e,"blockTag")),typeof e=="number")return e>=0?Oe(e):this.#a>=0?Oe(this.#a+e):this.getBlockNumber().then(t=>Oe(t+e));d(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Al(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");let h={};return f&&(h.address=f),t.length&&(h.topics=t),l&&(h.fromBlock=l),u&&(h.toBlock=u),n&&(h.blockHash=n),h},o=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)o.push(this._getAddress(c));else o.push(this._getAddress(e.address));let i;"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),o.filter(c=>typeof c!="string").length||i!=null&&typeof i!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(o),i,a]).then(c=>s(c[0],c[1],c[2])):s(o,i,a)}_getTransactionRequest(e){let t=bt(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;let o=be(t[s],this);ua(o)?n.push(async function(){t[s]=await o}()):t[s]=o}),t.blockTag!=null){let s=this._getBlockTag(t.blockTag);ua(s)?n.push(async function(){t.blockTag=await s}()):t.blockTag=s}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(this.#s==null){let s=(async()=>{try{let o=await this._detectNetwork();return this.emit("network",o,null),o}catch(o){throw this.#s===s&&(this.#s=null),o}})();return this.#s=s,(await s).clone()}let e=this.#s,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#i?(this.emit("network",n,t),this.#s===e&&(this.#s=Promise.resolve(n))):g(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:s,gasPrice:o,priorityFee:i}=await he({_block:this.#b("latest",!1),gasPrice:(async()=>{try{let u=await this.#c({method:"getGasPrice"});return I(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let u=await this.#c({method:"getPriorityFee"});return I(u,"%response")}catch{}return null})()}),a=null,c=null,l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=i??BigInt("1000000000"),a=l.baseFeePerGas*sb+c),new Qr(o,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){let s=new ae(n.url),o=await n.processFunc(t,this,s);return new Qr(o.gasPrice,o.maxFeePerGas,o.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return ua(t)&&(t=await t),I(await this.#c({method:"estimateGas",transaction:t}),"%response")}async#u(e,t,n){g(n<ob,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let s=bt(e);try{return A(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(o){if(!this.disableCcipRead&&Rr(o)&&o.data&&n>=0&&t==="latest"&&s.to!=null&&te(o.data,0,4)==="0x556f1830"){let i=o.data,a=await be(s.to,this),c;try{c=db(te(o.data,4))}catch(f){g(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:i}})}g(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(s,c.calldata,c.urls);g(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:o.data,errorArgs:c.errorArgs}});let u={to:a,data:M([c.selector,fb([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{let f=await this.#u(u,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw o}}async#d(e){let{value:t}=await he({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:n}=await he({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#u(t,n,e.enableCcipRead?0:-1))}async#h(e,t,n){let s=this._getAddress(t),o=this._getBlockTag(n);return(typeof s!="string"||typeof o!="string")&&([s,o]=await Promise.all([s,o])),await this.#d(this.#c(Object.assign(e,{address:s,blockTag:o})))}async getBalance(e,t){return I(await this.#h({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return O(await this.#h({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return A(await this.#h({method:"getCode"},e,t))}async getStorage(e,t,n){let s=I(t,"position");return A(await this.#h({method:"getStorage",position:s},e,n))}async broadcastTransaction(e){let{blockNumber:t,hash:n,network:s}=await he({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),o=ft.from(e);if(o.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(o,s).replaceableTransaction(t)}async#b(e,t){if(W(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){let{network:n,params:s}=await he({network:this.getNetwork(),params:this.#b(e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){let{network:t,params:n}=await he({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){let{network:t,params:n}=await he({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){let s=await this.#c({method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){let{result:t}=await he({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return t==null?null:A(t)}async getLogs(e){let t=this._getFilter(e);ua(t)&&(t=await t);let{network:n,params:s}=await he({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:t})});return s.map(o=>this._wrapLog(o,n))}_getProvider(e){g(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await qr.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=L(e);let t=Wr(e.substring(2).toLowerCase()+".addr.reverse");try{let n=await qr.getEnsAddress(this),o=await new ot(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(o==null||o===Mt)return null;let a=await new ot(o,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(n){if(ne(n,"BAD_DATA")&&n.value==="0x"||ne(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){let s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(o,i)=>{let a=null,c=async l=>{try{let u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){o(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),i(Q("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){g(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#l.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#l.delete(e))}_setTimeout(e,t){t==null&&(t=0);let n=this.#f++,s=()=>{this.#l.delete(n),e()};if(this.paused)this.#l.set(n,{timer:null,func:s,time:t});else{let o=setTimeout(s,t);this.#l.set(n,{timer:o,func:s,time:wl()})}return n}_forEachSubscriber(e){for(let t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Vt(e.type);case"block":{let t=new ia(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new aa(this,e.type);case"event":return new $r(this,e.filter);case"transaction":return new la(this,e.hash);case"orphan":return new ca(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),this.#r!=null&&t.pause(this.#r);break}}async#m(e,t){let n=await yl(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await yl({orphan:"drop-log",log:t[0]},this)),this.#e.get(n.tag)||null}async#g(e){let t=await yl(e,this),n=t.tag,s=this.#e.get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,s)),s}async on(e,t){let n=await this.#g(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async once(e,t){let n=await this.#g(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async emit(e,...t){let n=await this.#m(e,t);if(!n||n.listeners.length===0)return!1;let s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:o,once:i})=>{let a=new ir(this,i?null:o,e);try{o.call(this,...t,a)}catch{}return!i}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),s>0}async listenerCount(e){if(e){let n=await this.#m(e);return n?n.listeners.length:0}let t=0;for(let{listeners:n}of this.#e.values())t+=n.length;return t}async listeners(e){if(e){let n=await this.#m(e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(let{listeners:n}of this.#e.values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){let n=await this.#m(e);if(!n)return this;if(t){let s=n.listeners.map(({listener:o})=>o).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:n,subscriber:s}=await this.#g(e);n&&s.stop(),this.#e.delete(t)}else for(let[t,{started:n,subscriber:s}]of this.#e)n&&s.stop(),this.#e.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#r!=null){if(this.#r==!!e)return;g(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#r=!!e;for(let t of this.#l.values())t.timer&&clearTimeout(t.timer),t.time=wl()-t.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(let e of this.#l.values()){let t=e.time;t<0&&(t=0),e.time=wl(),setTimeout(e.func,t)}}}};function cb(r,e){try{let t=El(r,e);if(t)return $e(t)}catch{}return null}function El(r,e){if(r==="0x")return null;try{let t=O(te(r,e,e+32)),n=O(te(r,t,t+32));return te(r,t+32,t+32+n)}catch{}return null}function Ud(r){let e=Z(r);if(e.length>32)throw new Error("internal; should not happen");let t=new Uint8Array(32);return t.set(e,32-e.length),t}function lb(r){if(r.length%32===0)return r;let e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}var ub=new Uint8Array([]);function fb(r){let e=[],t=0;for(let n=0;n<r.length;n++)e.push(ub),t+=32;for(let n=0;n<r.length;n++){let s=E(r[n]);e[n]=Ud(t),e.push(Ud(s.length)),e.push(lb(s)),t+=32+Math.ceil(s.length/32)*32}return M(e)}var Ld="0x0000000000000000000000000000000000000000000000000000000000000000";function db(r){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};g(nt(r)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let t=te(r,0,32);g(te(t,0,12)===te(Ld,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=te(t,12);try{let n=[],s=O(te(r,32,64)),o=O(te(r,s,s+32)),i=te(r,s+32);for(let a=0;a<o;a++){let c=cb(i,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{g(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let n=El(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{g(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}g(te(r,100,128)===te(Ld,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=te(r,96,100);try{let n=El(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{g(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Hn(r,e){if(r.provider)return r.provider;g(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Dd(r,e){let t=bt(e);if(t.to!=null&&(t.to=be(t.to,r)),t.from!=null){let n=t.from;t.from=Promise.all([r.getAddress(),be(n,r)]).then(([s,o])=>(d(s.toLowerCase()===o.toLowerCase(),"transaction from mismatch","tx.from",o),s))}else t.from=r.getAddress();return await he(t)}var wt=class{provider;constructor(e){k(this,{provider:e||null})}async getNonce(e){return Hn(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Dd(this,e)}async populateTransaction(e){let t=Hn(this,"populateTransaction"),n=await Dd(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));let s=await this.provider.getNetwork();if(n.chainId!=null){let i=I(n.chainId);d(i===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;let o=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||o)?d(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&o&&d(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){let i=await t.getFeeData();g(i.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice)}else{let i=await t.getFeeData();if(n.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){let a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(g(!o,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=i.gasPrice),n.type=0):g(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=i.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return await he(n)}async populateAuthorization(e){let t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Hn(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Hn(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Hn(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Hn(this,"resolveName").resolveName(e)}async sendTransaction(e){let t=Hn(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;let s=ft.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){g(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}},Gn=class r extends wt{address;constructor(e,t){super(t),k(this,{address:e})}async getAddress(){return this.address}connect(e){return new r(this.address,e)}#e(e,t){g(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,t,n){this.#e("typed-data","signTypedData")}};var Md=new Set;function Ve(r){Md.has(r)||(Md.add(r),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${r} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function hb(r){return JSON.parse(JSON.stringify(r))}var da=class{#e;#t;#r;#n;#s;#i;constructor(e){this.#e=e,this.#t=null,this.#r=this.#o.bind(this),this.#n=!1,this.#s=null,this.#i=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#o(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=await this.#t}catch(o){if(!ne(o,"UNSUPPORTED_OPERATION")||o.operation!=="eth_newFilter")throw o}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let n=await this.#e.getNetwork();if(this.#s||(this.#s=n),this.#s.chainId!==n.chainId)throw new Error("chaid changed");if(this.#i)return;let s=await this.#e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#e,s)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#r)}#a(){let e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#n||(this.#n=!0,this.#o(-2))}stop(){this.#n&&(this.#n=!1,this.#i=!0,this.#a(),this.#e.off("block",this.#r))}pause(e){e&&this.#a(),this.#e.off("block",this.#r)}resume(){this.start()}},ha=class extends da{#e;constructor(e,t){super(e),this.#e=hb(t)}_recover(e){return new $r(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,t){for(let n of t)e.emit(this.#e,e._wrapLog(n,e._network))}},pa=class extends da{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let n of t)e.emit("pending",n)}};var pb="bigint,boolean,function,number,string,symbol".split(/,/g);function xa(r){if(r==null||pb.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(xa);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function xb(r){return new Promise(e=>{setTimeout(e,r)})}function Ds(r){return r&&r.toLowerCase()}function Fd(r){return r&&typeof r.pollingInterval=="number"}var _d={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Xr=class extends wt{address;constructor(e,t){super(e),t=L(t),k(this,{address:t})}connect(e){g(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=xa(e),n=[];if(t.from){let o=t.from;n.push((async()=>{let i=await be(o,this.provider);d(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=i})())}else t.from=this.address;if(t.gasLimit==null&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){let o=t.to;n.push((async()=>{t.to=await be(o,this.provider)})())}n.length&&await Promise.all(n);let s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((s,o)=>{let i=[1e3,100],a=0,c=async()=>{try{let l=await this.provider.getTransaction(n);if(l!=null){s(l.replaceableTransaction(t));return}}catch(l){if(ne(l,"CANCELLED")||ne(l,"BAD_DATA")||ne(l,"NETWORK_ERROR")||ne(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=n,o(l);return}if(ne(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=n,a>10)){o(l);return}this.provider.emit("error",Q("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},i.pop()||4e3)};c()})}async signTransaction(e){let t=xa(e);if(t.from){let s=await be(t.from,this.provider);d(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=s}else t.from=this.address;let n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){let t=typeof e=="string"?ie(e):e;return await this.provider.send("personal_sign",[A(t),this.address.toLowerCase()])}async signTypedData(e,t,n){let s=xa(n),o=await mt.resolveNames(e,t,s,async i=>{let a=await be(i);return d(a!=null,"TypedData does not support null address","value",i),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(mt.getPayload(o.domain,t,o.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t=typeof e=="string"?ie(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),A(t)])}},en=class extends yt{#e;#t;#r;#n;#s;#i;#o;#a(){if(this.#n)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;let t=this.#r;for(this.#r=[];t.length;){let n=[t.shift()];for(;t.length&&n.length!==this.#e.batchMaxCount;)if(n.push(t.shift()),JSON.stringify(n.map(o=>o.payload)).length>this.#e.batchMaxSize){t.unshift(n.pop());break}(async()=>{let s=n.length===1?n[0].payload:n.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{let o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(let{resolve:i,reject:a,payload:c}of n){if(this.destroyed){a(Q("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=o.filter(u=>u.id===c.id)[0];if(l==null){let u=Q("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",u),a(u);continue}if("error"in l){a(this.getRpcError(c,l));continue}i(l.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(let{reject:i}of n)i(o)}})()}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},_d,t||{}),this.#r=[],this.#n=null,this.#i=null,this.#o=null;{let s=null,o=new Promise(i=>{s=i});this.#s={promise:o,resolve:s}}let n=this._getOption("staticNetwork");typeof n=="boolean"?(d(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),n&&e!=null&&(this.#i=J.from(e))):n&&(d(e==null||n.matches(e),"staticNetwork MUST match network object","options",t),this.#i=n)}_getOption(e){return this.#e[e]}get _network(){return g(this.#i,"network is not available yet","NETWORK_ERROR"),this.#i}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&I(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){let s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}let t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#i)return this.#i}else return e;return this.#o?await this.#o:this.ready?(this.#o=(async()=>{try{let t=J.from(I(await this.send("eth_chainId",[])));return this.#o=null,t}catch(t){throw this.#o=null,t}})(),await this.#o):(this.#o=(async()=>{let t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let n;try{n=(await this._send(t))[0],this.#o=null}catch(s){throw this.#o=null,this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return J.from(I(n.result));throw this.getRpcError(t,n)})(),await this.#o)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#i==null&&!this.destroyed;)try{this.#i=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Q("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await xb(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(e){return e.type==="pending"?new pa(this):e.type==="event"?this._getOption("polling")?new $r(this,e.filter):new ha(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Vt("orphan"):super._getSubscriber(e)}get ready(){return this.#s==null}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let s=n;n==="gasLimit"&&(s="gas"),t[s]=Oe(I(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(t[n]=A(e[n]))}),e.accessList&&(t.accessList=Ge(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(n=>{let s=Tn(n);return{address:s.address,nonce:Oe(s.nonce),chainId:Oe(s.chainId),yParity:Oe(s.signature.yParity),r:Oe(s.signature.r),s:Oe(s.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ds(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ds(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ds(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ds(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ds):e.filter.address=Ds(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let{method:n}=e,{error:s}=t;if(n==="eth_estimateGas"&&s.message){let a=s.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Q("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return Q("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:s}})}if(n==="eth_call"||n==="eth_estimateGas"){let a=kl(s),c=gt.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:s,payload:e},c}let o=JSON.stringify(mb(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Q("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){let a=e.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Q("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return Q("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Q("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:s}});if(o.match(/only replay-protected/i))return Q("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:a,info:{error:s}}})}let i=!!o.match(/the method .* does not exist/i);return i||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(i=!0),i?Q("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):Q("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Q("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let n=this.#t++,s=new Promise((o,i)=>{this.#r.push({resolve:o,reject:i,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})});return this.#a(),s}async getSigner(e){e==null&&(e=0);let t=this.send("eth_accounts",[]);if(typeof e=="number"){let s=await t;if(e>=s.length)throw new Error("no such account");return new Xr(this,s[e])}let{accounts:n}=await he({network:this.getNetwork(),accounts:t});e=L(e);for(let s of n)if(L(s)===e)return new Xr(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(t=>new Xr(this,t))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(let{payload:e,reject:t}of this.#r)t(Q("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}},Oo=class extends en{#e;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");n==null&&(n=_d.pollingInterval),this.#e=n}_getSubscriber(e){let t=super._getSubscriber(e);return Fd(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{Fd(t)&&(t.pollingInterval=this.#e)})}},Ae=class extends Oo{#e;constructor(e,t,n){e==null&&(e="http://localhost:8545"),super(t,n),typeof e=="string"?this.#e=new ae(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){let t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");let n=await t.send();n.assertOk();let s=n.bodyJson;return Array.isArray(s)||(s=[s]),s}};function kl(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&W(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(let e in r){let t=kl(r[e]);if(t)return t}return null}if(typeof r=="string")try{return kl(JSON.parse(r))}catch{}return null}function Nl(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(let t in r)Nl(r[t],e);if(typeof r=="string")try{return Nl(JSON.parse(r),e)}catch{}}}function mb(r){let e=[];return Nl(r,e),e}var ma="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function gb(r){switch(r){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}d(!1,"unsupported network","network",r)}var Kn=class r extends Ae{apiKey;constructor(e,t){e==null&&(e="mainnet");let n=J.from(e);t==null&&(t=ma);let s={polling:!0,staticNetwork:n},o=r.getRequest(n,t);super(o,n,s),k(this,{apiKey:t})}_getProvider(e){try{return new r(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,t){t==null&&(t=ma);let n=new ae(`https://${gb(e.name)}/${t}`);return n.allowGzip=!0,t===ma&&(n.retryFunc=async(s,o,i)=>(Ve("AnkrProvider"),!0)),n}getRpcError(e,t){return e.method==="eth_sendRawTransaction"&&t&&t.error&&t.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===ma}};var ga="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function bb(r){switch(r){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}d(!1,"unsupported network","network",r)}var Wn=class r extends Ae{apiKey;constructor(e,t){e==null&&(e="mainnet");let n=J.from(e);t==null&&(t=ga);let s=r.getRequest(n,t);super(s,n,{staticNetwork:n}),k(this,{apiKey:t})}_getProvider(e){try{return new r(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){let{trace:t,tx:n}=await he({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(t==null||n==null)return null;let s,o=!1;try{s=t[0].result.output,o=t[0].error==="Reverted"}catch{}if(s)return g(!o,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:s,reason:null,transaction:n,invocation:null,revert:null}),s;g(!1,"could not parse trace result","BAD_DATA",{value:t})}return await super._perform(e)}isCommunityResource(){return this.apiKey===ga}static getRequest(e,t){t==null&&(t=ga);let n=new ae(`https://${bb(e.name)}/v2/${t}`);return n.allowGzip=!0,t===ga&&(n.retryFunc=async(s,o,i)=>(Ve("alchemy"),!0)),n}};function ba(r){switch(r){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}d(!1,"unsupported network","network",r)}function yb(r){switch(r){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}d(!1,"unsupported network","network",r)}var Vn=class r extends Ae{apiKey;constructor(e,t){e==null&&(e="mainnet");let n=J.from(e);t==null&&(t=ba(n.name));let s=r.getRequest(n,t);super(s,n,{staticNetwork:n}),k(this,{apiKey:t})}_getProvider(e){try{return new r(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===ba(this._network.name)}static getRequest(e,t){t==null&&(t=ba(e.name));let n=new ae(`https://${yb(e.name)}/${t}`);return n.allowGzip=!0,t===ba(e.name)&&(n.retryFunc=async(s,o,i)=>(Ve("ChainstackProvider"),!0)),n}};var zn=class extends Ae{constructor(e){e==null&&(e="mainnet");let t=J.from(e);d(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}};var wb="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),Hd=2e3;function Ab(r){return r&&typeof r.then=="function"}var Gd="org.ethers.plugins.provider.Etherscan",Uo=class r extends Wt{baseUrl;constructor(e){super(Gd),k(this,{baseUrl:e})}clone(){return new r(this.baseUrl)}},Eb=["enableCcipRead"],kb=1,Qn=class extends yt{network;apiKey;#e;constructor(e,t){let n=t??null;super();let s=J.from(e);d(wb.indexOf(`${s.chainId}`)>=0,"unsupported network","network",s),this.#e=s.getPlugin(Gd),k(this,{apiKey:n,network:s})}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}d(!1,"unsupported network","network",this.network)}getUrl(e,t){let n=Object.keys(t).reduce((s,o)=>{let i=t[o];return i!=null&&(s+=`&${o}=${i}`),s},"");return this.apiKey&&(n+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${n}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,n){let s=kb++,o=n?this.getPostUrl():this.getUrl(e,t),i=n?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:s,url:o,payload:i});let a=new ae(o);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(u,f,h)=>(this.isCommunityResource()&&Ve("Etherscan"),Promise.resolve(!0)),a.processFunc=async(u,f)=>{let h=f.hasBody()?JSON.parse($e(f.body)):{},p=(typeof h.result=="string"?h.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?h&&h.status==0&&h.message=="NOTOK"&&p&&(this.emit("debug",{action:"receiveError",id:s,reason:"proxy-NOTOK",error:h}),f.throwThrottleError(h.result,Hd)):p&&(this.emit("debug",{action:"receiveError",id:s,reason:"null result",error:h.result}),f.throwThrottleError(h.result,Hd)),f},i&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(i).map(u=>`${u}=${i[u]}`).join("&"));let c=await a.send();try{c.assertOk()}catch(u){this.emit("debug",{action:"receiveError",id:s,error:u,reason:"assertOk"}),g(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:s,error:"missing body",reason:"null body"}),g(!1,"missing response","SERVER_ERROR",{request:a,response:c}));let l=JSON.parse($e(c.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"invalid JSON-RPC"}),g(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"JSON-RPC error"}),g(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:s,result:l}),g(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result)}_getTransactionPostData(e){let t={};for(let n in e){if(Eb.indexOf(n)>=0||e[n]==null)continue;let s=e[n];if(!(n==="type"&&s===0)&&!(n==="blockTag"&&s==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n])s=Oe(s);else if(n==="accessList")s="["+Ge(s).map(o=>`{address:"${o.address}",storageKeys:["${o.storageKeys.join('","')}"]}`).join(",")+"]";else if(n==="blobVersionedHashes"){if(s.length===0)continue;g(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else s=A(s);t[n]=s}}return t}_checkError(e,t,n){let s="";if(ne(t,"SERVER_ERROR")){try{s=t.info.result.error.message}catch{}if(!s)try{s=t.info.message}catch{}}if(e.method==="estimateGas"&&!s.match(/revert/i)&&s.match(/insufficient funds/i)&&g(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&s.match(/execution reverted/i)){let o="";try{o=t.info.result.error.data}catch{}let i=gt.getBuiltinCallException(e.method,e.transaction,o);throw i.info={request:e,error:t},i}if(s&&e.method==="broadcastTransaction"){let o=ft.from(e.signedTransaction);s.match(/replacement/i)&&s.match(/underpriced/i)&&g(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o}),s.match(/insufficient funds/)&&g(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o}),s.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&g(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:o})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});g(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(n){return this._checkError(e,n,e.transaction)}}case"estimateGas":{let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(n){return this._checkError(e,n,e.transaction)}}default:break}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);Ab(t)&&(t=await t);try{let n=await this.fetch("contract",{action:"getabi",address:t}),s=JSON.parse(n);return new ot(t,s,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};function Nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var Kd=Nb().WebSocket;var tn=class{#e;#t;get filter(){return JSON.parse(this.#t)}#r;#n;#s;constructor(e,t){this.#e=e,this.#t=JSON.stringify(t),this.#r=null,this.#n=null,this.#s=null}start(){this.#r=this.#e.send("eth_subscribe",this.filter).then(e=>(this.#e._register(e,this),e))}stop(){this.#r.then(e=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[e])}),this.#r=null}pause(e){g(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#n=!!e}resume(){this.#n=null}_handleMessage(e){if(this.#r!=null&&this.#n===null){let t=this.#s;t==null?t=this._emit(this.#e,e):t=t.then(async()=>{await this._emit(this.#e,e)}),this.#s=t.then(()=>{this.#s===t&&(this.#s=null)})}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}},Ms=class extends tn{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}},Fs=class extends tn{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}},_s=class extends tn{#e;get logFilter(){return JSON.parse(this.#e)}constructor(e,t){super(e,["logs",t]),this.#e=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}},Jn=class extends en{#e;#t;#r;constructor(e,t){let n=Object.assign({},t??{});d(n.batchMaxCount==null||n.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",t),n.batchMaxCount=1,n.staticNetwork==null&&(n.staticNetwork=!0),super(e,n),this.#e=new Map,this.#t=new Map,this.#r=new Map}_getSubscriber(e){switch(e.type){case"close":return new Vt("close");case"block":return new Ms(this);case"pending":return new Fs(this);case"event":return new _s(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new Vt("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#t.set(e,t);let n=this.#r.get(e);if(n){for(let s of n)t._handleMessage(s);this.#r.delete(e)}}async _send(e){d(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let t=new Promise((n,s)=>{this.#e.set(e.id,{payload:e,resolve:n,reject:s})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){let t=JSON.parse(e);if(t&&typeof t=="object"&&"id"in t){let n=this.#e.get(t.id);if(n==null){this.emit("error",Q("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));return}this.#e.delete(t.id),n.resolve(t)}else if(t&&t.method==="eth_subscription"){let n=t.params.subscription,s=this.#t.get(n);if(s)s._handleMessage(t.params.result);else{let o=this.#r.get(n);o==null&&(o=[],this.#r.set(n,o)),o.push(t.params.result)}}else{this.emit("error",Q("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));return}}async _write(e){throw new Error("sub-classes must override this")}};var Ar=class extends Jn{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(e,t,n){super(t,n),typeof e=="string"?(this.#e=()=>new Kd(e),this.#t=this.#e()):typeof e=="function"?(this.#e=e,this.#t=e()):(this.#e=null,this.#t=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(s){console.log("failed to start WebsocketProvider",s)}},this.websocket.onmessage=s=>{this._processMessage(s.data)}}async _write(e){this.websocket.send(e)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}};var Lo="84842078b09946638c03157f83405213";function Ib(r){switch(r){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}d(!1,"unsupported network","network",r)}var Hs=class extends Ar{projectId;projectSecret;constructor(e,t){let n=new rn(e,t),s=n._getConnection();g(!s.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let o=s.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,n._network),k(this,{projectId:n.projectId,projectSecret:n.projectSecret})}isCommunityResource(){return this.projectId===Lo}},rn=class r extends Ae{projectId;projectSecret;constructor(e,t,n){e==null&&(e="mainnet");let s=J.from(e);t==null&&(t=Lo),n==null&&(n=null);let o=r.getRequest(s,t,n);super(o,s,{staticNetwork:s}),k(this,{projectId:t,projectSecret:n})}_getProvider(e){try{return new r(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===Lo}static getWebSocketProvider(e,t){return new Hs(e,t)}static getRequest(e,t,n){t==null&&(t=Lo),n==null&&(n=null);let s=new ae(`https://${Ib(e.name)}/v3/${t}`);return s.allowGzip=!0,n&&s.setCredentials("",n),t===Lo&&(s.retryFunc=async(o,i,a)=>(Ve("InfuraProvider"),!0)),s}};var ya="919b412a057b5e9c9b6dce193c5a60242d6efadb";function Pb(r){switch(r){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}d(!1,"unsupported network","network",r)}var jn=class r extends Ae{token;constructor(e,t){e==null&&(e="mainnet");let n=J.from(e);t==null&&(t=ya);let s=r.getRequest(n,t);super(s,n,{staticNetwork:n}),k(this,{token:t})}_getProvider(e){try{return new r(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===ya}static getRequest(e,t){t==null&&(t=ya);let n=new ae(`https://${Pb(e.name)}/${t}`);return n.allowGzip=!0,t===ya&&(n.retryFunc=async(s,o,i)=>(Ve("QuickNodeProvider"),!0)),n}};var vb=BigInt("1"),Tb=BigInt("2");function Cb(r){for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}}function Bb(r){return new Promise(e=>{setTimeout(e,r)})}function Tl(){return new Date().getTime()}function Il(r){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}var Wd={stallTimeout:400,priority:1,weight:1},Vd={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function Rb(r,e){for(;(r.blockNumber<0||r.blockNumber<e)&&(r._updateNumber||(r._updateNumber=(async()=>{try{let t=await r.provider.getBlockNumber();t>r.blockNumber&&(r.blockNumber=t)}catch(t){r.blockNumber=-2,r._lastFatalError=t,r._lastFatalErrorTimestamp=Tl()}r._updateNumber=null})()),await r._updateNumber,r.outOfSync++,!r._lastFatalError););}function Gs(r){if(r==null)return"null";if(Array.isArray(r))return"["+r.map(Gs).join(",")+"]";if(typeof r=="object"&&typeof r.toJSON=="function")return Gs(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":case"number":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{let e=Object.keys(r);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${Gs(r[t])}`).join(",")+"}"}}throw console.log("Could not serialize",r),new Error("Hmm...")}function Pl(r,e){if("error"in e){let n=e.error,s;return ne(n,"CALL_EXCEPTION")?s=Gs(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):s=Gs(n),{tag:s,value:n}}let t=e.result;return{tag:Gs(t),value:t}}function wa(r,e){let t=new Map;for(let{value:s,tag:o,weight:i}of e){let a=t.get(o)||{value:s,weight:0};a.weight+=i,t.set(o,a)}let n=null;for(let s of t.values())s.weight>=r&&(!n||s.weight>n.weight)&&(n=s);if(n)return n.value}function Cl(r,e){let t=0,n=new Map,s=null,o=[];for(let{value:a,tag:c,weight:l}of e)if(a instanceof Error){let u=n.get(c)||{value:a,weight:0};u.weight+=l,n.set(c,u),(s==null||u.weight>s.weight)&&(s=u)}else o.push(BigInt(a)),t+=l;if(t<r)return s&&s.weight>=r?s.value:void 0;o.sort((a,c)=>a<c?-1:c>a?1:0);let i=Math.floor(o.length/2);return o.length%2?o[i]:(o[i-1]+o[i]+vb)/Tb}function vl(r,e){let t=wa(r,e);if(t!==void 0)return t;for(let n of e)if(n.value)return n.value}function Sb(r,e){if(r===1)return O(Cl(r,e),"%internal");let t=new Map,n=(i,a)=>{let c=t.get(i)||{result:i,weight:0};c.weight+=a,t.set(i,c)};for(let{weight:i,value:a}of e){let c=O(a);n(c-1,i),n(c,i),n(c+1,i)}let s=0,o;for(let{weight:i,result:a}of t.values())i>=r&&(i>s||o!=null&&i===s&&a>o)&&(s=i,o=a);return o}var qn=class extends yt{quorum;eventQuorum;eventWorkers;#e;#t;#r;constructor(e,t,n){super(t,n),this.#e=e.map(s=>s instanceof yt?Object.assign({provider:s},Wd,Vd):Object.assign({},Wd,s,Vd)),this.#t=-2,this.#r=null,n&&n.quorum!=null?this.quorum=n.quorum:this.quorum=Math.ceil(this.#e.reduce((s,o)=>(s+=o.weight,s),0)/2),this.eventQuorum=1,this.eventWorkers=1,d(this.quorum<=this.#e.reduce((s,o)=>s+o.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(e=>{let t=Object.assign({},e);for(let n in t)n[0]==="_"&&delete t[n];return t})}async _detectNetwork(){return J.from(I(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{let n="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(n,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#n(e){let t=Array.from(e).map(s=>s.config),n=this.#e.slice();Cb(n),n.sort((s,o)=>s.priority-o.priority);for(let s of n)if(!s._lastFatalError&&t.indexOf(s)===-1)return s;return null}#s(e,t){let n=this.#n(e);if(n==null)return null;let s={config:n,result:null,didBump:!1,perform:null,staller:null},o=Tl();return s.perform=(async()=>{try{n.requests++;let a=await this._translatePerform(n.provider,t);s.result={result:a}}catch(a){n.errorResponses++,s.result={error:a}}let i=Tl()-o;n._totalTime+=i,n.rollingDuration=.95*n.rollingDuration+.05*i,s.perform=null})(),s.staller=(async()=>{await Bb(n.stallTimeout),s.staller=null})(),e.add(s),s}async#i(){let e=this.#r;if(!e){let t=[];this.#e.forEach(n=>{t.push((async()=>{await Rb(n,0),n._lastFatalError||(n._network=await n.provider.getNetwork())})())}),this.#r=e=(async()=>{await Promise.all(t);let n=null;for(let s of this.#e){if(s._lastFatalError)continue;let o=s._network;n==null?n=o.chainId:o.chainId!==n&&g(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#o(e,t){let n=[];for(let s of e)if(s.result!=null){let{tag:o,value:i}=Pl(t.method,s.result);n.push({tag:o,value:i,weight:s.config.weight})}if(!(n.reduce((s,o)=>s+o.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(O(Cl(this.quorum,this.#e.filter(o=>!o._lastFatalError).map(o=>({value:o.blockNumber,tag:O(o.blockNumber).toString(),weight:o.weight}))))));let s=Sb(this.quorum,n);return s===void 0?void 0:(s>this.#t&&(this.#t=s),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return Cl(this.quorum,n);case"getBlock":return"blockTag"in t&&t.blockTag==="pending"?vl(this.quorum,n):wa(this.quorum,n);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return wa(this.quorum,n);case"broadcastTransaction":return vl(this.quorum,n)}g(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${Il(t.method)})`})}}async#a(e,t){if(e.size===0)throw new Error("no runners?!");let n=[],s=0;for(let i of e){if(i.perform&&n.push(i.perform),i.staller){n.push(i.staller);continue}i.didBump||(i.didBump=!0,s++)}let o=await this.#o(e,t);if(o!==void 0){if(o instanceof Error)throw o;return o}for(let i=0;i<s;i++)this.#s(e,t);return g(n.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(i=>Il(i.result))}}),await Promise.race(n),await this.#a(e,t)}async _perform(e){if(e.method==="broadcastTransaction"){let o=this.#e.map(c=>null),i=this.#e.map(async({provider:c,weight:l},u)=>{try{let f=await c._perform(e);o[u]=Object.assign(Pl(e.method,{result:f}),{weight:l})}catch(f){o[u]=Object.assign(Pl(e.method,{error:f}),{weight:l})}});for(;;){let c=o.filter(f=>f!=null);for(let{value:f}of c)if(!(f instanceof Error))return f;let l=wa(this.quorum,o.filter(f=>f!=null));if(ne(l,"INSUFFICIENT_FUNDS"))throw l;let u=i.filter((f,h)=>o[h]==null);if(u.length===0)break;await Promise.race(u)}let a=vl(this.quorum,o);if(g(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:o.map(Il)}}),a instanceof Error)throw a;return a}await this.#i();let t=new Set,n=0;for(;;){let o=this.#s(t,e);if(o==null||(n+=o.config.weight,n>=this.quorum))break}let s=await this.#a(t,e);for(let o of t)o.perform&&o.result==null&&o.config.lateResponses++;return s}async destroy(){for(let{provider:e}of this.#e)e.destroy();super.destroy()}};function Ob(r){return r&&typeof r.send=="function"&&typeof r.close=="function"}var Ub="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function Bl(r,e){e==null&&(e={});let t=i=>e[i]==="-"?!1:typeof e.exclusive=="string"?i===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(i)!==-1:!0;if(typeof r=="string"&&r.match(/^https?:/))return new Ae(r);if(typeof r=="string"&&r.match(/^wss?:/)||Ob(r))return new Ar(r);let n=null;try{n=J.from(r)}catch{}let s=[];if(t("publicPolygon")&&n&&(n.name==="matic"?s.push(new Ae("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&s.push(new Ae("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),t("alchemy"))try{s.push(new Wn(r,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{s.push(new Kn(r,e.ankr))}catch{}if(t("chainstack"))try{s.push(new Vn(r,e.chainstack))}catch{}if(t("cloudflare"))try{s.push(new zn(r))}catch{}if(t("etherscan"))try{s.push(new Qn(r,e.etherscan))}catch{}if(t("infura"))try{let i=e.infura,a;typeof i=="object"&&(a=i.projectSecret,i=i.projectId),s.push(new rn(r,i,a))}catch{}if(t("quicknode"))try{let i=e.quicknode;s.push(new jn(r,i))}catch{}if(g(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let o=Math.floor(s.length/2);return o>2&&(o=2),n&&Ub.indexOf(n.name)!==-1&&(o=1),e&&e.quorum&&(o=e.quorum),new qn(s,void 0,{quorum:o})}var Do=class r extends wt{signer;#e;#t;constructor(e){super(e.provider),k(this,{signer:e}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(e){return new r(this.signer.connect(e))}async getNonce(e){if(e==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));let t=this.#t;return await this.#e+t}return super.getNonce(e)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(e){let t=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,n){return this.signer.signTypedData(e,t,n)}};var Mo=class r extends Oo{#e;#t;constructor(e,t,n){let s=Object.assign({},n??{},{batchMaxCount:1});d(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,s),this.#t=null,n&&n.providerInfo&&(this.#t=n.providerInfo),this.#e=async(o,i)=>{let a={method:o,params:i};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){d(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);let t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(n=>n.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){let n=t.payload;throw this.getRpcError(n,{id:n.id,error:t})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new r(e.provider);let t=e.window?e.window:typeof window<"u"?window:null;if(t==null)return null;let n=e.anyProvider;if(n&&t.ethereum)return new r(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let s=e.timeout?e.timeout:300;return s===0?null:await new Promise((o,i)=>{let a=[],c=f=>{a.push(f.detail),n&&l()},l=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){let f=e.filter(a.map(h=>Object.assign({},h.info)));if(f==null)o(null);else if(f instanceof r)o(f);else{let h=null;if(f.uuid&&(h=a.filter(b=>f.uuid===b.info.uuid)[0]),h){let{provider:p,info:b}=h;o(new r(p,void 0,{providerInfo:b}))}else i(Q("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{let{provider:f,info:h}=a[0];o(new r(f,void 0,{providerInfo:h}))}else o(null);t.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},s);t.addEventListener("eip6963:announceProvider",c),t.dispatchEvent(new Event("eip6963:requestProvider"))})}};function Lb(r){switch(r){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}d(!1,"unsupported network","network",r)}var Fo=class r extends Ae{apiKey;constructor(e,t){e==null&&(e="mainnet");let n=J.from(e);t==null&&(t=null);let s=r.getRequest(n);super(s,n,{staticNetwork:n}),k(this,{apiKey:t})}_getProvider(e){try{return new r(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){let t=super.getRpcRequest(e);return t&&t.method==="eth_estimateGas"&&t.args.length==1&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){let n=t?t.error:null;if(n&&n.code===-32015&&!W(n.data||"",!0)){let s={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},o="";n.message==="VM execution error."?o=s[n.data]||"":s[n.message||""]&&(o=s[n.message||""]),o&&(n.message+=` (reverted: ${n.data})`,n.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+o)}else n&&n.code===-32e3&&n.message==="wrong transaction nonce"&&(n.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){let t=new ae(Lb(e.name));return t.allowGzip=!0,t}};var Aa="62e1ad51b37b8e00394bda3b";function Db(r){switch(r){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}d(!1,"unsupported network","network",r)}var _o=class r extends Ae{applicationId;applicationSecret;constructor(e,t,n){e==null&&(e="mainnet");let s=J.from(e);t==null&&(t=Aa),n==null&&(n=null);let o={staticNetwork:s},i=r.getRequest(s,t,n);super(i,s,o),k(this,{applicationId:t,applicationSecret:n})}_getProvider(e){try{return new r(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,t,n){t==null&&(t=Aa);let s=new ae(`https://${Db(e.name)}/v1/lb/${t}`);return s.allowGzip=!0,n&&s.setCredentials("",n),t===Aa&&(s.retryFunc=async(o,i,a)=>(Ve("PocketProvider"),!0)),s}isCommunityResource(){return this.applicationId===Aa}};var Rl=void 0;var Er=class r extends wt{address;#e;constructor(e,t){super(t),d(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;let n=_t(this.signingKey.publicKey);k(this,{address:n})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new r(this.#e,e)}async signTransaction(e){e=bt(e);let{to:t,from:n}=await he({to:e.to?be(e.to,this):void 0,from:e.from?be(e.from,this):void 0});t!=null&&(e.to=t),n!=null&&(e.from=n),e.from!=null&&(d(L(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let s=ft.from(e);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(Ts(e)).serialized}authorizeSync(e){d(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);let t=this.signingKey.sign(ks(e));return Object.assign({},{address:L(e.address),nonce:I(e.nonce||0),chainId:I(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await be(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,n){let s=await mt.resolveNames(e,t,n,async o=>{g(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:o}});let i=await this.provider.resolveName(o);return g(i!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:o}),i});return this.signingKey.sign(mt.hash(s.domain,t,s.value)).serialized}};var Ea=" !#$%&'()*+,-./<=>?@[]^_`{|}~",Mb=/^[a-z]*$/i;function zd(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(Mb)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function Fb(r,e){for(let s=Ea.length-1;s>=0;s--)r=r.split(Ea[s]).join(e.substring(2*s,2*s+2));let t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,o,i,a)=>{if(i)for(let c=parseInt(i);c>=0;c--)t.push(";");else t.push(o.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return zd(zd(t,";"),":")}function ka(r){return d(r[0]==="0","unsupported auwl data","data",r),Fb(r.substring(1+2*Ea.length),r.substring(1,1+2*Ea.length))}var Yn=class{locale;constructor(e){k(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};var kr=class extends Yn{#e;#t;constructor(e,t,n){super(e),this.#e=t,this.#t=n,this.#r=null}get _data(){return this.#e}_decodeWords(){return ka(this.#e)}#r;#n(){if(this.#r==null){let e=this._decodeWords();if(Ke(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=e}return this.#r}getWord(e){let t=this.#n();return d(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#n().indexOf(e)}};var _b="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",Hb="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",Sl=null,it=class r extends kr{constructor(){super("en",_b,Hb)}static wordlist(){return Sl==null&&(Sl=new r),Sl}};function Qd(r){return(1<<r)-1<<8-r&255}function Gb(r){return(1<<r)-1&255}function Ol(r,e){hn("NFKD"),e==null&&(e=it.wordlist());let t=e.split(r);d(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*t.length/8)),s=0;for(let l=0;l<t.length;l++){let u=e.getWordIndex(t[l].normalize("NFKD"));d(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)u&1<<10-f&&(n[s>>3]|=1<<7-s%8),s++}let o=32*t.length/3,i=t.length/3,a=Qd(i),c=E(Te(n.slice(0,o/8)))[0]&a;return d(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),A(n.slice(0,o/8))}function Ul(r,e){d(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=it.wordlist());let t=[0],n=11;for(let i=0;i<r.length;i++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[i],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[i]>>8-n,t.push(r[i]&Gb(8-n)),n+=3);let s=r.length/4,o=parseInt(Te(r).substring(2,4),16)&Qd(s);return t[t.length-1]<<=s,t[t.length-1]|=o>>8-s,e.join(t.map(i=>e.getWord(i)))}var Ll={},Zt=class r{phrase;password;wordlist;entropy;constructor(e,t,n,s,o){s==null&&(s=""),o==null&&(o=it.wordlist()),Fe(e,Ll,"Mnemonic"),k(this,{phrase:n,password:s,wordlist:o,entropy:t})}computeSeed(){let e=ie("mnemonic"+this.password,"NFKD");return Xe(ie(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){let s=Ol(e,n);return e=Ul(E(s),n),new r(Ll,s,e,t,n)}static fromEntropy(e,t,n){let s=E(e,"entropy"),o=Ul(s,n);return new r(Ll,A(s),o,t,n)}static entropyToPhrase(e,t){let n=E(e,"entropy");return Ul(n,t)}static phraseToEntropy(e,t){return Ol(e,t)}static isValidMnemonic(e,t){try{return Ol(e,t),!0}catch{}return!1}};var ze=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Dl=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Ia,Et,$t,Kb={16:10,24:12,32:14},Wb=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],At=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Na=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Vb=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],zb=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],Qb=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],Jb=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],jb=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],qb=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],Yb=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],Zb=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],$b=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Xb=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],e1=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],t1=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Ml(r){let e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}var Ho=class r{get key(){return ze(this,Ia,"f").slice()}constructor(e){if(Ia.set(this,void 0),Et.set(this,void 0),$t.set(this,void 0),!(this instanceof r))throw Error("AES must be instanitated with `new`");Dl(this,Ia,new Uint8Array(e),"f");let t=Kb[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");Dl(this,$t,[],"f"),Dl(this,Et,[],"f");for(let u=0;u<=t;u++)ze(this,$t,"f").push([0,0,0,0]),ze(this,Et,"f").push([0,0,0,0]);let n=(t+1)*4,s=this.key.length/4,o=Ml(this.key),i;for(let u=0;u<s;u++)i=u>>2,ze(this,$t,"f")[i][u%4]=o[u],ze(this,Et,"f")[t-i][u%4]=o[u];let a=0,c=s,l;for(;c<n;){if(l=o[s-1],o[0]^=At[l>>16&255]<<24^At[l>>8&255]<<16^At[l&255]<<8^At[l>>24&255]^Wb[a]<<24,a+=1,s!=8)for(let p=1;p<s;p++)o[p]^=o[p-1];else{for(let p=1;p<s/2;p++)o[p]^=o[p-1];l=o[s/2-1],o[s/2]^=At[l&255]^At[l>>8&255]<<8^At[l>>16&255]<<16^At[l>>24&255]<<24;for(let p=s/2+1;p<s;p++)o[p]^=o[p-1]}let u=0,f,h;for(;u<s&&c<n;)f=c>>2,h=c%4,ze(this,$t,"f")[f][h]=o[u],ze(this,Et,"f")[t-f][h]=o[u++],c++}for(let u=1;u<t;u++)for(let f=0;f<4;f++)l=ze(this,Et,"f")[u][f],ze(this,Et,"f")[u][f]=$b[l>>24&255]^Xb[l>>16&255]^e1[l>>8&255]^t1[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let t=ze(this,$t,"f").length-1,n=[0,0,0,0],s=Ml(e);for(let a=0;a<4;a++)s[a]^=ze(this,$t,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=Vb[s[c]>>24&255]^zb[s[(c+1)%4]>>16&255]^Qb[s[(c+2)%4]>>8&255]^Jb[s[(c+3)%4]&255]^ze(this,$t,"f")[a][c];s=n.slice()}let o=new Uint8Array(16),i=0;for(let a=0;a<4;a++)i=ze(this,$t,"f")[t][a],o[4*a]=(At[s[a]>>24&255]^i>>24)&255,o[4*a+1]=(At[s[(a+1)%4]>>16&255]^i>>16)&255,o[4*a+2]=(At[s[(a+2)%4]>>8&255]^i>>8)&255,o[4*a+3]=(At[s[(a+3)%4]&255]^i)&255;return o}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let t=ze(this,Et,"f").length-1,n=[0,0,0,0],s=Ml(e);for(let a=0;a<4;a++)s[a]^=ze(this,Et,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=jb[s[c]>>24&255]^qb[s[(c+3)%4]>>16&255]^Yb[s[(c+2)%4]>>8&255]^Zb[s[(c+1)%4]&255]^ze(this,Et,"f")[a][c];s=n.slice()}let o=new Uint8Array(16),i=0;for(let a=0;a<4;a++)i=ze(this,Et,"f")[t][a],o[4*a]=(Na[s[a]>>24&255]^i>>24)&255,o[4*a+1]=(Na[s[(a+3)%4]>>16&255]^i>>16)&255,o[4*a+2]=(Na[s[(a+2)%4]>>8&255]^i>>8)&255,o[4*a+3]=(Na[s[(a+1)%4]&255]^i)&255;return o}};Ia=new WeakMap,Et=new WeakMap,$t=new WeakMap;var Xt=class{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Ho(t)},name:{enumerable:!0,value:e}})}};var Pa=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Ks=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Go,Nr,Ko=class r extends Xt{constructor(e,t){if(super("ECC",e,r),Go.set(this,void 0),Nr.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");Pa(this,Go,new Uint8Array(t),"f")}else Pa(this,Go,new Uint8Array(16),"f");Pa(this,Nr,this.iv,"f")}get iv(){return new Uint8Array(Ks(this,Go,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let s=0;s<16;s++)Ks(this,Nr,"f")[s]^=e[n+s];Pa(this,Nr,this.aes.encrypt(Ks(this,Nr,"f")),"f"),t.set(Ks(this,Nr,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){let s=this.aes.decrypt(e.subarray(n,n+16));for(let o=0;o<16;o++)t[n+o]=s[o]^Ks(this,Nr,"f")[o],Ks(this,Nr,"f")[o]=e[n+o]}return t}};Go=new WeakMap,Nr=new WeakMap;var Fl=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},r1,n1,va,s1;n1=new WeakMap,va=new WeakMap,r1=new WeakSet,s1=function(e){let t=this.segmentSize/8;Fl(this,va,"f").set(Fl(this,va,"f").subarray(t)),Fl(this,va,"f").set(e.subarray(0,t),16-t)};var Ws=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},kt=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},Wo,Zn,Nt,nn=class r extends Xt{constructor(e,t){super("CTR",e,r),Wo.set(this,void 0),Zn.set(this,void 0),Nt.set(this,void 0),Ws(this,Nt,new Uint8Array(16),"f"),kt(this,Nt,"f").fill(0),Ws(this,Wo,kt(this,Nt,"f"),"f"),Ws(this,Zn,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(kt(this,Nt,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)kt(this,Nt,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");kt(this,Nt,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(kt(this,Nt,"f")[e]===255)kt(this,Nt,"f")[e]=0;else{kt(this,Nt,"f")[e]++;break}}encrypt(e){var t,n;let s=new Uint8Array(e);for(let o=0;o<s.length;o++)kt(this,Zn,"f")===16&&(Ws(this,Wo,this.aes.encrypt(kt(this,Nt,"f")),"f"),Ws(this,Zn,0,"f"),this.increment()),s[o]^=kt(this,Wo,"f")[Ws(this,Zn,(n=kt(this,Zn,"f"),t=n++,n),"f"),t];return s}decrypt(e){return this.encrypt(e)}};Wo=new WeakMap,Zn=new WeakMap,Nt=new WeakMap;var o1,i1,a1;o1=new WeakMap,i1=new WeakMap,a1=new WeakMap;function _l(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");let e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}function Hl(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),ge(r)}function Vs(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function $n(r){return typeof r=="string"?ie(r,"NFKC"):ge(r)}function ke(r,e){let t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);d(t!=null,"invalid path","path",e);let n=t[1],s=t[3],o=t[4]==="!",i=r;for(let a of n.toLowerCase().split(".")){if(Array.isArray(i)){if(!a.match(/^[0-9]+$/))break;i=i[parseInt(a)]}else if(typeof i=="object"){let c=null;for(let l in i)if(l.toLowerCase()===a){c=i[l];break}i=c}else i=null;if(i==null)break}if(d(!o||i!=null,"missing required value","path",n),s&&i!=null){if(s==="int"){if(typeof i=="string"&&i.match(/^-?[0-9]+$/))return parseInt(i);if(Number.isSafeInteger(i))return i}if(s==="number"&&typeof i=="string"&&i.match(/^-?[0-9.]*$/))return parseFloat(i);if(s==="data"&&typeof i=="string")return Hl(i);if(s==="array"&&Array.isArray(i)||s===typeof i)return i;d(!1,`wrong type found for ${s} `,"path",n)}return i}var jd="m/44'/60'/0'/0/0";function zs(r){try{let e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function c1(r,e,t){if(ke(r,"crypto.cipher:string")==="aes-128-ctr"){let s=ke(r,"crypto.cipherparams.iv:data!"),o=new nn(e,s);return A(o.decrypt(t))}g(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function Ta(r,e){let t=E(e),n=ke(r,"crypto.ciphertext:data!"),s=A(H(M([t.slice(16,32),n]))).substring(2);d(s===ke(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let o=c1(r,t.slice(0,16),n),i=_t(o);if(r.address){let l=r.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),d(L(l)===i,"keystore address/privateKey mismatch","address",r.address)}let a={address:i,privateKey:o};if(ke(r,"x-ethers.version:string")==="0.1"){let l=t.slice(32,64),u=ke(r,"x-ethers.mnemonicCiphertext:data!"),f=ke(r,"x-ethers.mnemonicCounter:data!"),h=new nn(l,f);a.mnemonic={path:ke(r,"x-ethers.path:string")||jd,locale:ke(r,"x-ethers.locale:string")||"en",entropy:A(E(h.decrypt(u)))}}return a}function qd(r){let e=ke(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let t=ke(r,"crypto.kdfparams.salt:data!"),n=ke(r,"crypto.kdfparams.n:int!"),s=ke(r,"crypto.kdfparams.r:int!"),o=ke(r,"crypto.kdfparams.p:int!");d(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),d(s>0&&o>0,"invalid kdf","kdf",e);let i=ke(r,"crypto.kdfparams.dklen:int!");return d(i===32,"invalid kdf.dklen","kdf.dflen",i),{name:"scrypt",salt:t,N:n,r:s,p:o,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let t=ke(r,"crypto.kdfparams.salt:data!"),n=ke(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();d(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);let o=ke(r,"crypto.kdfparams.c:int!"),i=ke(r,"crypto.kdfparams.dklen:int!");return d(i===32,"invalid kdf.dklen","kdf.dklen",i),{name:"pbkdf2",salt:t,count:o,dkLen:i,algorithm:s}}}d(!1,"unsupported key-derivation function","kdf",e)}function Vo(r,e){let t=JSON.parse(r),n=$n(e),s=qd(t);if(s.name==="pbkdf2"){let{salt:f,count:h,dkLen:p,algorithm:b}=s,m=Xe(n,f,h,p,b);return Ta(t,m)}g(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:o,N:i,r:a,p:c,dkLen:l}=s,u=Dt(n,o,i,a,c,l);return Ta(t,u)}function Jd(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function zo(r,e,t){let n=JSON.parse(r),s=$n(e),o=qd(n);if(o.name==="pbkdf2"){t&&(t(0),await Jd(0));let{salt:h,count:p,dkLen:b,algorithm:m}=o,y=Xe(s,h,p,b,m);return t&&(t(1),await Jd(0)),Ta(n,y)}g(o.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:o});let{salt:i,N:a,r:c,p:l,dkLen:u}=o,f=await Lt(s,i,a,c,l,u,t);return Ta(n,f)}function Yd(r){let e=r.salt!=null?E(r.salt,"options.salt"):Ye(32),t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),d(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),d(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),d(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function Zd(r,e,t,n){let s=E(t.privateKey,"privateKey"),o=n.iv!=null?E(n.iv,"options.iv"):Ye(16);d(o.length===16,"invalid options.iv length","options.iv",n.iv);let i=n.uuid!=null?E(n.uuid,"options.uuid"):Ye(16);d(i.length===16,"invalid options.uuid length","options.uuid",n.iv);let a=r.slice(0,16),c=r.slice(16,32),l=new nn(a,o),u=E(l.encrypt(s)),f=H(M([c,u])),h={address:t.address.substring(2).toLowerCase(),id:lo(i),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:A(o).substring(2)},ciphertext:A(u).substring(2),kdf:"scrypt",kdfparams:{salt:A(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(t.mnemonic){let p=n.client!=null?n.client:`ethers/${ls}`,b=t.mnemonic.path||jd,m=t.mnemonic.locale||"en",y=r.slice(32,64),w=E(t.mnemonic.entropy,"account.mnemonic.entropy"),P=Ye(16),N=new nn(y,P),D=E(N.encrypt(w)),v=new Date,S="UTC--"+(v.getUTCFullYear()+"-"+Vs(v.getUTCMonth()+1,2)+"-"+Vs(v.getUTCDate(),2)+"T"+Vs(v.getUTCHours(),2)+"-"+Vs(v.getUTCMinutes(),2)+"-"+Vs(v.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:p,gethFilename:S,path:b,locale:m,mnemonicCounter:A(P).substring(2),mnemonicCiphertext:A(D).substring(2),version:"0.1"}}return JSON.stringify(h)}function Xn(r,e,t){t==null&&(t={});let n=$n(e),s=Yd(t),o=Dt(n,s.salt,s.N,s.r,s.p,64);return Zd(E(o),s,r,t)}async function es(r,e,t){t==null&&(t={});let n=$n(e),s=Yd(t),o=await Lt(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return Zd(E(o),s,r,t)}var Qs="m/44'/60'/0'/0/0",l1=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),tr=2147483648,u1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f1="0123456789abcdef";function Ca(r,e){let t="";for(;r;)t=f1[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Gl(r){let e=E(r),t=te(Te(Te(e)),0,4),n=M([e,t]);return xn(n)}var er={};function $d(r,e,t,n){let s=new Uint8Array(37);r&tr?(g(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(E(n),1)):s.set(E(t));for(let i=24;i>=0;i-=8)s[33+(i>>3)]=r>>24-i&255;let o=E(Ot("sha512",e,s));return{IL:o.slice(0,32),IR:o.slice(32)}}function Xd(r,e){let t=e.split("/");d(t.length>0,"invalid path","path",e),t[0]==="m"&&(d(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let n=r;for(let s=0;s<t.length;s++){let o=t[s];if(o.match(/^[0-9]+'$/)){let i=parseInt(o.substring(0,o.length-1));d(i<tr,"invalid path index",`path[${s}]`,o),n=n.deriveChild(tr+i)}else if(o.match(/^[0-9]+$/)){let i=parseInt(o);d(i<tr,"invalid path index",`path[${s}]`,o),n=n.deriveChild(i)}else d(!1,"invalid path component",`path[${s}]`,o)}return n}var Ir=class r extends Er{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,n,s,o,i,a,c,l){super(t,l),Fe(e,er,"HDNodeWallet"),k(this,{publicKey:t.compressedPublicKey});let u=te(Ut(Te(this.publicKey)),0,4);k(this,{parentFingerprint:n,fingerprint:u,chainCode:s,path:o,index:i,depth:a}),k(this,{mnemonic:c})}connect(e){return new r(er,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&t.wordlist.locale==="en"&&t.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await es(this.#e(),e,{progressCallback:t})}encryptSync(e){return Xn(this.#e(),e)}get extendedKey(){return g(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Gl(M(["0x0488ADE4",Ca(this.depth,1),this.parentFingerprint,Ca(this.index,4),this.chainCode,M(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new ts(er,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=O(e,"index");d(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(t&~tr),t&tr&&(n+="'"));let{IR:s,IL:o}=$d(t,this.chainCode,this.publicKey,this.privateKey),i=new He(De((pt(o)+BigInt(this.privateKey))%u1,32));return new r(er,i,this.fingerprint,A(s),n,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return Xd(this,e)}static#t(e,t){d(Pt(e),"invalid seed","seed","[REDACTED]");let n=E(e,"seed");d(n.length>=16&&n.length<=64,"invalid seed","seed","[REDACTED]");let s=E(Ot("sha512",l1,n)),o=new He(A(s.slice(0,32)));return new r(er,o,"0x00000000",A(s.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=Z(oo(e));d(t.length===82||Gl(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let n=t[4],s=A(t.slice(5,9)),o=parseInt(A(t.slice(9,13)).substring(2),16),i=A(t.slice(13,45)),a=t.slice(45,78);switch(A(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let c=A(a);return new ts(er,_t(c),c,s,i,null,o,n,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new r(er,new He(a.slice(1)),s,i,null,o,n,null,null)}d(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,n){e==null&&(e=""),t==null&&(t=Qs),n==null&&(n=it.wordlist());let s=Zt.fromEntropy(Ye(16),e,n);return r.#t(s.computeSeed(),s).derivePath(t)}static fromMnemonic(e,t){return t||(t=Qs),r.#t(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,n,s){t==null&&(t=""),n==null&&(n=Qs),s==null&&(s=it.wordlist());let o=Zt.fromPhrase(e,t,s);return r.#t(o.computeSeed(),o).derivePath(n)}static fromSeed(e){return r.#t(e,null)}},ts=class r extends Gn{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,n,s,o,i,a,c,l){super(t,l),Fe(e,er,"HDNodeVoidWallet"),k(this,{publicKey:n});let u=te(Ut(Te(n)),0,4);k(this,{publicKey:n,fingerprint:u,parentFingerprint:s,chainCode:o,path:i,index:a,depth:c})}connect(e){return new r(er,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return g(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Gl(M(["0x0488B21E",Ca(this.depth,1),this.parentFingerprint,Ca(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){let t=O(e,"index");d(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(t&~tr),t&tr&&(n+="'"));let{IR:s,IL:o}=$d(t,this.chainCode,this.publicKey,null),i=He.addPoints(o,this.publicKey,!0),a=_t(i);return new r(er,a,i,this.fingerprint,A(s),n,t,this.depth+1,this.provider)}derivePath(e){return Xd(this,e)}};function Kl(r){let e=O(r,"index");return d(e>=0&&e<tr,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function Wl(r){let e=O(r,"index");return d(e>=0&&e<tr,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function Js(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}function js(r,e){let t=JSON.parse(r),n=$n(e),s=L(ke(t,"ethaddr:string!")),o=Hl(ke(t,"encseed:string!"));d(o&&o.length%16===0,"invalid encseed","json",r);let i=E(Xe(n,n,2e3,32,"sha256")).slice(0,16),a=o.slice(0,16),c=o.slice(16),l=new Ko(i,a),u=_l(E(l.decrypt(c))),f="";for(let h=0;h<u.length;h++)f+=String.fromCharCode(u[h]);return{address:s,privateKey:Ke(f)}}function eh(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}var Qo=class r extends Er{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new He(e):e;super(n,t)}connect(e){return new r(this.signingKey,e)}async encrypt(e,t){let n={address:this.address,privateKey:this.privateKey};return await es(n,e,{progressCallback:t})}encryptSync(e){let t={address:this.address,privateKey:this.privateKey};return Xn(t,e)}static#e(e){if(d(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let n=Zt.fromEntropy(e.mnemonic.entropy),s=Ir.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new r(e.privateKey);return d(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,n){let s=null;return zs(e)?s=await zo(e,t,n):Js(e)&&(n&&(n(0),await eh(0)),s=js(e,t),n&&(n(1),await eh(0))),r.#e(s)}static fromEncryptedJsonSync(e,t){let n=null;return zs(e)?n=Vo(e,t):Js(e)?n=js(e,t):d(!1,"invalid JSON wallet","json","[ REDACTED ]"),r.#e(n)}static createRandom(e){let t=Ir.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let n=Ir.fromPhrase(e);return t?n.connect(t):n}};var d1=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function th(r,e){let t=(1<<r)-1,n=[],s=0,o=0,i=0;for(let a=0;a<e.length;a++)for(s=s<<6|d1.indexOf(e[a]),o+=6;o>=r;){let c=s>>o-r;s&=(1<<o-r)-1,o-=r,c===0?i+=t:(n.push(c+i),i=0)}return n}function rh(r,e){let t=ka(r).join(",");return e.split(/,/g).forEach(n=>{let s=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);d(s!==null,"internal error parsing accents","accents",e);let o=0,i=th(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");t=t.replace(c,(l,u)=>(--i[o]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),o++),u))}),t.split(",")}var Jo=class extends kr{#e;constructor(e,t,n,s){super(e,t,s),this.#e=n}get _accent(){return this.#e}_decodeWords(){return rh(this._data,this._accent)}};var Vl={en:it.wordlist()};var np=kp(rp(),1);async function sp(r,e={}){let t={width:200,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"M"};try{console.log("wallet.js generateQRCode called with:",r);let n={...t,...e},s=await np.default.toDataURL(r,n);return console.log("wallet.js QR generated, length:",s?.length),s}catch(n){throw console.error("wallet.js QR generation error:",n),n}}var at={ramestta_mainnet:{chainId:1370,chainIdHex:"0x55a",name:"Ramestta Mainnet",symbol:"RAMA",decimals:18,rpcUrl:"https://blockchain.ramestta.com",rpcUrls:["https://blockchain.ramestta.com","https://blockchain2.ramestta.com","https://blockchain.rfrm.io"],explorerUrl:"https://ramascan.com",isTestnet:!1,isDefault:!0,category:"ramestta",icon:"icons/rama.png"},ramestta_testnet:{chainId:1369,chainIdHex:"0x559",name:"Ramestta Testnet",symbol:"RAMA",decimals:18,rpcUrl:"https://testnet.ramestta.com",rpcUrls:["https://testnet.ramestta.com","https://testnet.rfrm.io"],explorerUrl:"https://testnet.ramascan.com",isTestnet:!0,isDefault:!0,category:"ramestta",icon:"icons/rama.png"},ethereum_mainnet:{chainId:1,chainIdHex:"0x1",name:"Ethereum Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://eth.llamarpc.com",rpcUrls:["https://eth.llamarpc.com","https://ethereum.publicnode.com","https://rpc.payload.de","https://eth-mainnet.public.blastapi.io"],explorerUrl:"https://etherscan.io",isTestnet:!1,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png"},ethereum_classic:{chainId:61,chainIdHex:"0x3d",name:"Ethereum Classic",symbol:"ETC",decimals:18,rpcUrl:"https://www.ethercluster.com/etc",rpcUrls:["https://www.ethercluster.com/etc","https://etc.rivet.link"],explorerUrl:"https://blockscout.com/etc/mainnet",isTestnet:!1,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/classic/info/logo.png"},sepolia_testnet:{chainId:11155111,chainIdHex:"0xaa36a7",name:"Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.sepolia.org",rpcUrls:["https://rpc.sepolia.org","https://sepolia.drpc.org"],explorerUrl:"https://sepolia.etherscan.io",isTestnet:!0,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png"},holesky_testnet:{chainId:17e3,chainIdHex:"0x4268",name:"Holesky Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.holesky.ethpandaops.io",rpcUrls:["https://rpc.holesky.ethpandaops.io","https://holesky.drpc.org"],explorerUrl:"https://holesky.etherscan.io",isTestnet:!0,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png"},polygon_mainnet:{chainId:137,chainIdHex:"0x89",name:"Polygon Mainnet",symbol:"MATIC",decimals:18,rpcUrl:"https://polygon.llamarpc.com",rpcUrls:["https://polygon.llamarpc.com","https://polygon-rpc.com","https://polygon.lava.build"],explorerUrl:"https://polygonscan.com",isTestnet:!1,category:"polygon",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/polygon/info/logo.png"},polygon_amoy:{chainId:80002,chainIdHex:"0x13882",name:"Polygon Amoy Testnet",symbol:"MATIC",decimals:18,rpcUrl:"https://rpc-amoy.polygon.technology",rpcUrls:["https://rpc-amoy.polygon.technology","https://polygon-amoy.drpc.org"],explorerUrl:"https://amoy.polygonscan.com",isTestnet:!0,category:"polygon",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/polygon/info/logo.png"},binance_mainnet:{chainId:56,chainIdHex:"0x38",name:"BNB Smart Chain",symbol:"BNB",decimals:18,rpcUrl:"https://bsc-dataseed.binance.org",rpcUrls:["https://bsc-dataseed.binance.org","https://binance.llamarpc.com","https://bsc-rpc.publicnode.com"],explorerUrl:"https://bscscan.com",isTestnet:!1,category:"binance",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/smartchain/info/logo.png"},binance_testnet:{chainId:97,chainIdHex:"0x61",name:"BNB Smart Chain Testnet",symbol:"tBNB",decimals:18,rpcUrl:"https://data-seed-prebsc-1-s1.binance.org:8545",rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545","https://bsc-testnet.drpc.org"],explorerUrl:"https://testnet.bscscan.com",isTestnet:!0,category:"binance",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/smartchain/info/logo.png"},avalanche_mainnet:{chainId:43114,chainIdHex:"0xa86a",name:"Avalanche C-Chain",symbol:"AVAX",decimals:18,rpcUrl:"https://api.avax.network/ext/bc/C/rpc",rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://avax.meowrpc.com","https://avalanche.drpc.org"],explorerUrl:"https://snowtrace.io",isTestnet:!1,category:"avalanche",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchec/info/logo.png"},avalanche_fuji:{chainId:43113,chainIdHex:"0xa869",name:"Avalanche Fuji Testnet",symbol:"AVAX",decimals:18,rpcUrl:"https://api.avax-test.network/ext/bc/C/rpc",rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc","https://avalanche-fuji.drpc.org"],explorerUrl:"https://testnet.snowtrace.io",isTestnet:!0,category:"avalanche",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchec/info/logo.png"},arbitrum_mainnet:{chainId:42161,chainIdHex:"0xa4b1",name:"Arbitrum One",symbol:"ETH",decimals:18,rpcUrl:"https://arb1.arbitrum.io/rpc",rpcUrls:["https://arb1.arbitrum.io/rpc","https://arbitrum.meowrpc.com","https://rpc.ankr.com/arbitrum"],explorerUrl:"https://arbiscan.io",isTestnet:!1,category:"arbitrum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png"},arbitrum_sepolia:{chainId:421614,chainIdHex:"0x66eee",name:"Arbitrum Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://arbitrum-sepolia.drpc.org",rpcUrls:["https://arbitrum-sepolia.drpc.org","https://sepolia-rollup.arbitrum.io/rpc"],explorerUrl:"https://sepolia.arbiscan.io",isTestnet:!0,category:"arbitrum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png"},optimism_mainnet:{chainId:10,chainIdHex:"0xa",name:"Optimism",symbol:"ETH",decimals:18,rpcUrl:"https://mainnet.optimism.io",rpcUrls:["https://mainnet.optimism.io","https://optimism.drpc.org"],explorerUrl:"https://optimistic.etherscan.io",isTestnet:!1,category:"optimism",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/optimism/info/logo.png"},base_mainnet:{chainId:8453,chainIdHex:"0x2105",name:"Base",symbol:"ETH",decimals:18,rpcUrl:"https://base-rpc.publicnode.com",rpcUrls:["https://base-rpc.publicnode.com","https://base.drpc.org"],explorerUrl:"https://basescan.org",isTestnet:!1,category:"base",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png"},base_sepolia:{chainId:84532,chainIdHex:"0x14a34",name:"Base Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://sepolia.base.org",rpcUrls:["https://sepolia.base.org","https://base-sepolia-rpc.publicnode.com"],explorerUrl:"https://sepolia.basescan.org",isTestnet:!0,category:"base",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png"},fantom_mainnet:{chainId:250,chainIdHex:"0xfa",name:"Fantom Opera",symbol:"FTM",decimals:18,rpcUrl:"https://rpcapi.fantom.network",rpcUrls:["https://rpcapi.fantom.network","https://rpc.fantom.network"],explorerUrl:"https://ftmscan.com",isTestnet:!1,category:"fantom",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/fantom/info/logo.png"},fantom_testnet:{chainId:4002,chainIdHex:"0xfa2",name:"Fantom Testnet",symbol:"FTM",decimals:18,rpcUrl:"https://rpc.testnet.fantom.network",rpcUrls:["https://rpc.testnet.fantom.network"],explorerUrl:"https://testnet.ftmscan.com",isTestnet:!0,category:"fantom",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/fantom/info/logo.png"},gnosis_mainnet:{chainId:100,chainIdHex:"0x64",name:"Gnosis Chain",symbol:"xDAI",decimals:18,rpcUrl:"https://rpc.gnosischain.com",rpcUrls:["https://rpc.gnosischain.com","0xrpc.io/gno"],explorerUrl:"https://gnosisscan.io",isTestnet:!1,category:"gnosis",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/xdai/info/logo.png"},cronos_mainnet:{chainId:25,chainIdHex:"0x19",name:"Cronos Mainnet",symbol:"CRO",decimals:18,rpcUrl:"https://evm.cronos.org",rpcUrls:["https://evm.cronos.org","https://cronos.drpc.org"],explorerUrl:"https://cronoscan.com",isTestnet:!1,category:"cronos",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/cronos/info/logo.png"},cronos_testnet:{chainId:338,chainIdHex:"0x152",name:"Cronos Testnet",symbol:"tCRO",decimals:18,rpcUrl:"https://evm-t3.cronos.org",rpcUrls:["https://evm-t3.cronos.org","https://cronos-testnet.drpc.org"],explorerUrl:"https://testnet.cronoscan.com",isTestnet:!0,category:"cronos",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/cronos/info/logo.png"},linea_mainnet:{chainId:59144,chainIdHex:"0xe708",name:"Linea Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.linea.build",rpcUrls:["https://rpc.linea.build","https://linea.drpc.org"],explorerUrl:"https://lineascan.build",isTestnet:!1,category:"linea",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/linea/info/logo.png"},linea_testnet:{chainId:59141,chainIdHex:"0xe705",name:"Linea Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.sepolia.linea.build",rpcUrls:["https://rpc.sepolia.linea.build"],explorerUrl:"https://sepolia.lineascan.build",isTestnet:!0,category:"linea",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/linea/info/logo.png"},mantle_mainnet:{chainId:5e3,chainIdHex:"0x1388",name:"Mantle",symbol:"MNT",decimals:18,rpcUrl:"https://rpc.mantle.xyz",rpcUrls:["https://rpc.mantle.xyz","https://mantle-mainnet.public.blastapi.io"],explorerUrl:"https://explorer.mantle.xyz",isTestnet:!1,category:"mantle",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/mantle/info/logo.png"},mantle_testnet:{chainId:5003,chainIdHex:"0x138b",name:"Mantle Sepolia Testnet",symbol:"MNT",decimals:18,rpcUrl:"https://rpc.sepolia.mantle.xyz",rpcUrls:["https://rpc.sepolia.mantle.xyz"],explorerUrl:"https://sepolia.mantlescan.xyz",isTestnet:!0,category:"mantle",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/mantle/info/logo.png"},klaytn_mainnet:{chainId:8217,chainIdHex:"0x2019",name:"Kaia Mainnet",symbol:"KAIA",decimals:18,rpcUrl:"https://klaytn.blockpi.network/v1/rpc/public",rpcUrls:["https://klaytn.blockpi.network/v1/rpc/public"],explorerUrl:"https://scope.klaytn.com",isTestnet:!1,category:"klaytn",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/klaytn/info/logo.png"},klaytn_baobab:{chainId:1001,chainIdHex:"0x3e9",name:"Kaia Kairos Testnet",symbol:"KAIA",decimals:18,rpcUrl:"https://klaytn-baobab.blockpi.network/v1/rpc/public",rpcUrls:["https://klaytn-baobab.blockpi.network/v1/rpc/public"],explorerUrl:"https://baobab.scope.klaytn.com",isTestnet:!0,category:"klaytn",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/klaytn/info/logo.png"},aurora_mainnet:{chainId:1313161554,chainIdHex:"0x4e454152",name:"Aurora Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://mainnet.aurora.dev",rpcUrls:["https://mainnet.aurora.dev","https://aurora.drpc.org"],explorerUrl:"https://aurorascan.dev",isTestnet:!1,category:"aurora",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/aurora/info/logo.png"},aurora_testnet:{chainId:1313161555,chainIdHex:"0x4e454153",name:"Aurora Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://testnet.aurora.dev",rpcUrls:["https://testnet.aurora.dev"],explorerUrl:"https://testnet.aurorascan.dev",isTestnet:!0,category:"aurora",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/aurora/info/logo.png"},iotex_mainnet:{chainId:4689,chainIdHex:"0x1251",name:"IoTeX Mainnet",symbol:"IOTX",decimals:18,rpcUrl:"https://babel-api.mainnet.iotex.io",rpcUrls:["https://babel-api.mainnet.iotex.io"],explorerUrl:"https://iotexscan.io",isTestnet:!1,category:"iotex",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/iotex/info/logo.png"},iotex_testnet:{chainId:4690,chainIdHex:"0x1252",name:"IoTeX Testnet",symbol:"IOTX",decimals:18,rpcUrl:"https://babel-api.testnet.iotex.io",rpcUrls:["https://babel-api.testnet.iotex.io"],explorerUrl:"https://testnet.iotexscan.io",isTestnet:!0,category:"iotex",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/iotex/info/logo.png"},rootstock_mainnet:{chainId:30,chainIdHex:"0x1e",name:"Rootstock Mainnet",symbol:"RBTC",decimals:18,rpcUrl:"https://public-node.rsk.co",rpcUrls:["https://public-node.rsk.co"],explorerUrl:"https://explorer.rsk.co",isTestnet:!1,category:"rootstock",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/rootstock/info/logo.png"},rootstock_testnet:{chainId:31,chainIdHex:"0x1f",name:"Rootstock Testnet",symbol:"tRBTC",decimals:18,rpcUrl:"https://public-node.testnet.rsk.co",rpcUrls:["https://public-node.testnet.rsk.co"],explorerUrl:"https://explorer.testnet.rsk.co",isTestnet:!0,category:"rootstock",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/rootstock/info/logo.png"},okx_mainnet:{chainId:66,chainIdHex:"0x42",name:"OKXChain Mainnet",symbol:"OKT",decimals:18,rpcUrl:"https://exchainrpc.okex.org",rpcUrls:["https://exchainrpc.okex.org","https://oktc.drpc.org"],explorerUrl:"https://www.oklink.com/oktc",isTestnet:!1,category:"okx",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/okc/info/logo.png"},palm_mainnet:{chainId:11297108109,chainIdHex:"0x2a15c308d",name:"Palm Mainnet",symbol:"PALM",decimals:18,rpcUrl:"https://palm-mainnet.public.blastapi.io",rpcUrls:["https://palm-mainnet.public.blastapi.io"],explorerUrl:"https://explorer.palm.io",isTestnet:!1,category:"palm",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/palm/info/logo.png"},palm_testnet:{chainId:11297108099,chainIdHex:"0x2a15c3083",name:"Palm Testnet",symbol:"PALM",decimals:18,rpcUrl:"https://palm-testnet.public.blastapi.io",rpcUrls:["https://palm-testnet.public.blastapi.io"],explorerUrl:"https://explorer.palm-uat.xyz",isTestnet:!0,category:"palm",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/palm/info/logo.png"},milkomeda_c1:{chainId:2001,chainIdHex:"0x7d1",name:"Milkomeda Cardano",symbol:"milkADA",decimals:18,rpcUrl:"https://rpc-mainnet-cardano-evm.c1.milkomeda.com",rpcUrls:["https://rpc-mainnet-cardano-evm.c1.milkomeda.com"],explorerUrl:"https://explorer-mainnet-cardano-evm.c1.milkomeda.com",isTestnet:!1,category:"milkomeda",icon:"https://raw.githubusercontent.com/milkomeda-com/assets/main/milkomeda-logo.png"},mint_mainnet:{chainId:185,chainIdHex:"0xb9",name:"Mint Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://global.rpc.mintchain.io",rpcUrls:["https://global.rpc.mintchain.io","https://asia.rpc.mintchain.io"],explorerUrl:"https://explorer.mintchain.io",isTestnet:!1,category:"mint",icon:"https://mintchain.io/favicon.png"},mint_sepolia:{chainId:1687,chainIdHex:"0x697",name:"Mint Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://sepolia-testnet-rpc.mintchain.io",rpcUrls:["https://sepolia-testnet-rpc.mintchain.io"],explorerUrl:"https://sepolia-testnet-explorer.mintchain.io",isTestnet:!0,category:"mint",icon:"https://mintchain.io/favicon.png"}},Ga=["ramestta_mainnet","ramestta_testnet"],le={};Object.keys(at).forEach(r=>{Ga.includes(r)&&(le[r]=at[r])});function pu(r){return at[r]?(le[r]=at[r],!0):!1}function op(r){return r==="ramestta_mainnet"?!1:le[r]&&!le[r].isCustom?(delete le[r],!0):!1}function xu(r){r.includes("ramestta_mainnet")||r.unshift("ramestta_mainnet");let e={};Object.keys(le).forEach(t=>{t.startsWith("custom_")&&(e[t]=le[t])}),le={...e},r.forEach(t=>{at[t]&&(le[t]=at[t])})}var ln="m/44'/60'/0'/0",ri=class{constructor(){this.currentWallet=null,this.currentNetwork=le.ramestta_mainnet,this.provider=null,this.accounts=[]}async initProvider(){let e=this.currentNetwork.rpcUrl;return this.provider=new re.JsonRpcProvider(e,{chainId:this.currentNetwork.chainId,name:this.currentNetwork.name}),this.provider}async createNewWallet(){let e=re.Mnemonic.entropyToPhrase(re.randomBytes(16)),n=re.HDNodeWallet.fromPhrase(e,"",ln).deriveChild(0);return{mnemonic:e,address:n.address,privateKey:n.privateKey,publicKey:n.publicKey,derivationPath:`${ln}/0`}}async importFromMnemonic(e,t=0){if(!re.Mnemonic.isValidMnemonic(e))throw new Error("Invalid mnemonic phrase");let s=re.HDNodeWallet.fromPhrase(e.trim(),"",ln).deriveChild(t);return{address:s.address,privateKey:s.privateKey,publicKey:s.publicKey,derivationPath:`${ln}/${t}`,accountIndex:t}}async importFromPrivateKey(e){let t=e.trim();t.startsWith("0x")||(t="0x"+t);let n=new re.Wallet(t);return{address:n.address,privateKey:n.privateKey,publicKey:n.signingKey.publicKey,type:"privateKey"}}async importFromKeystore(e,t){let n=await re.Wallet.fromEncryptedJson(e,t);return{address:n.address,privateKey:n.privateKey,publicKey:n.signingKey.publicKey,type:"keystore"}}async deriveAccounts(e,t=1){let n=[],s=re.HDNodeWallet.fromPhrase(e.trim(),"",ln);for(let o=0;o<t;o++){let i=s.deriveChild(o);n.push({address:i.address,privateKey:i.privateKey,publicKey:i.publicKey,derivationPath:`${ln}/${o}`,accountIndex:o,name:`Account ${o+1}`,type:"derived"})}return n}async deriveAccount(e,t){let s=re.HDNodeWallet.fromPhrase(e.trim(),"",ln).deriveChild(t);return{address:s.address,privateKey:s.privateKey,publicKey:s.publicKey,derivationPath:`${ln}/${t}`,accountIndex:t,name:`Account ${t+1}`,type:"derived"}}async getBalance(e){this.provider||await this.initProvider();let t=await this.provider.getBalance(e);return{wei:t.toString(),ether:re.formatEther(t),symbol:this.currentNetwork.symbol}}async getTokenBalance(e,t){this.provider||await this.initProvider();let n=["function balanceOf(address) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)"],s=new re.Contract(t,n,this.provider),[o,i,a,c]=await Promise.all([s.balanceOf(e),s.decimals(),s.symbol(),s.name()]);return{balance:o.toString(),formatted:re.formatUnits(o,i),decimals:Number(i),symbol:a,name:c}}async getTokenInfo(e){this.provider||await this.initProvider();let t=["function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function totalSupply() view returns (uint256)"],n=new re.Contract(e,t,this.provider),[s,o,i,a]=await Promise.all([n.decimals(),n.symbol(),n.name(),n.totalSupply().catch(()=>BigInt(0))]);return{address:e,decimals:Number(s),symbol:o,name:i,totalSupply:a.toString()}}async sendTransaction(e,t,n){this.provider||await this.initProvider();let s=parseFloat(n).toString();if(isNaN(parseFloat(s))||parseFloat(s)<=0)throw new Error("Invalid amount");return await(await new re.Wallet(e,this.provider).sendTransaction({to:t,value:re.parseEther(s)})).wait()}async sendToken(e,t,n,s){this.provider||await this.initProvider();let o=new re.Wallet(e,this.provider),i=["function transfer(address to, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],a=new re.Contract(t,i,o),c=await a.decimals(),l=re.parseUnits(s,c);return await(await a.transfer(n,l)).wait()}async estimateGas(e,t,n){this.provider||await this.initProvider();let s=await this.provider.estimateGas({from:e,to:t,value:re.parseEther(n)}),o=await this.provider.getFeeData();return{gasLimit:s.toString(),gasPrice:o.gasPrice?.toString()||"0",maxFeePerGas:o.maxFeePerGas?.toString()||"0",maxPriorityFeePerGas:o.maxPriorityFeePerGas?.toString()||"0"}}async signMessage(e,t){return await new re.Wallet(e).signMessage(t)}async signTypedData(e,t,n,s){return await new re.Wallet(e).signTypedData(t,n,s)}switchNetwork(e){if(le[e])this.currentNetwork=le[e],this.provider=null;else throw new Error(`Unknown network: ${e}`)}addCustomNetwork(e){let t=`custom_${e.chainId}`;return le[t]=e,t}async getTransactionHistory(e){if(!e)return[];let t=this.currentNetwork.explorerUrl;if(!t)return[];let n;t.includes("ramascan.com")?n=`https://ramascan.com/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("etherscan.io")?n=`https://api.etherscan.io/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("polygonscan.com")?n=`https://api.polygonscan.com/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("bscscan.com")?n=`https://api.bscscan.com/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("arbiscan.io")?n=`https://api.arbiscan.io/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("optimistic.etherscan.io")?n=`https://api-optimistic.etherscan.io/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("basescan.org")?n=`https://api.basescan.org/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("snowtrace.io")||t.includes("snowscan.xyz")?n=`https://api.snowscan.xyz/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:t.includes("ftmscan.com")?n=`https://api.ftmscan.com/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`:n=`${t.replace(/\/$/,"")}/api?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`;try{console.log("Fetching transactions from:",n);let s=await fetch(n);if(!s.ok)throw new Error(`HTTP ${s.status}`);let o=await s.json();return o.status==="1"&&Array.isArray(o.result)?o.result.map(i=>({hash:i.hash,from:i.from,to:i.to,value:i.value,timeStamp:i.timeStamp,blockNumber:i.blockNumber,gasPrice:i.gasPrice,gasUsed:i.gasUsed,isError:i.isError==="1",txreceipt_status:i.txreceipt_status,input:i.input,methodId:i.methodId,functionName:i.functionName})):Array.isArray(o.result)?o.result:o.message==="No transactions found"?[]:(console.warn("Unexpected API response:",o),[])}catch(s){return console.warn("Transaction history fetch failed:",s),[]}}},ni=class{constructor(){this.storageKey="ramapay_wallet_data"}async encrypt(e,t){let n=new TextEncoder,s=JSON.stringify(e),o=await crypto.subtle.importKey("raw",n.encode(t),"PBKDF2",!1,["deriveBits","deriveKey"]),i=crypto.getRandomValues(new Uint8Array(16)),a=crypto.getRandomValues(new Uint8Array(12)),c=await crypto.subtle.deriveKey({name:"PBKDF2",salt:i,iterations:1e5,hash:"SHA-256"},o,{name:"AES-GCM",length:256},!1,["encrypt"]),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},c,n.encode(s)),u=new Uint8Array(i.length+a.length+l.byteLength);return u.set(i,0),u.set(a,i.length),u.set(new Uint8Array(l),i.length+a.length),btoa(String.fromCharCode(...u))}async decrypt(e,t){let n=new TextEncoder,s=new TextDecoder,o=Uint8Array.from(atob(e),h=>h.charCodeAt(0)),i=o.slice(0,16),a=o.slice(16,28),c=o.slice(28),l=await crypto.subtle.importKey("raw",n.encode(t),"PBKDF2",!1,["deriveBits","deriveKey"]),u=await crypto.subtle.deriveKey({name:"PBKDF2",salt:i,iterations:1e5,hash:"SHA-256"},l,{name:"AES-GCM",length:256},!1,["decrypt"]),f=await crypto.subtle.decrypt({name:"AES-GCM",iv:a},u,c);return JSON.parse(s.decode(f))}async saveWallet(e,t){let n=await this.encrypt(e,t);return new Promise((s,o)=>{chrome.storage.local.set({[this.storageKey]:n},()=>{chrome.runtime.lastError?o(chrome.runtime.lastError):s()})})}async loadWallet(e){return new Promise((t,n)=>{chrome.storage.local.get([this.storageKey],async s=>{if(chrome.runtime.lastError){n(chrome.runtime.lastError);return}let o=s[this.storageKey];if(!o){t(null);return}try{let i=await this.decrypt(o,e);t(i)}catch{n(new Error("Invalid password"))}})})}async hasWallet(){return new Promise(e=>{chrome.storage.local.get([this.storageKey],t=>{e(!!t[this.storageKey])})})}async clearWallet(){return new Promise((e,t)=>{chrome.storage.local.remove([this.storageKey],()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()})})}async savePreferences(e){return new Promise((t,n)=>{chrome.storage.local.set({ramapay_preferences:e},()=>{chrome.runtime.lastError?n(chrome.runtime.lastError):t()})})}async loadPreferences(){return new Promise(e=>{chrome.storage.local.get(["ramapay_preferences"],t=>{e(t.ramapay_preferences||{network:"ramestta_mainnet",currency:"USD",theme:"dark"})})})}},dN=new ri,hN=new ni;var F=new ri,$=new ni,Qe=!1,X=null,x=null,rr=new Set,ap={5:5,15:15,30:30,60:60,120:120,never:0},Ka=30,cp=Date.now(),rt=[...Ga],un=new Map;async function mu(r){try{await chrome.storage.session.set({ramapay_session_password:r}),console.log("Session password saved to storage.session")}catch(e){console.error("Failed to save session password:",e)}}async function iy(){try{return(await chrome.storage.session.get(["ramapay_session_password"])).ramapay_session_password||null}catch(r){return console.error("Failed to get session password:",r),null}}async function ay(){try{await chrome.storage.session.remove(["ramapay_session_password"]),console.log("Session password cleared from storage.session")}catch(r){console.error("Failed to clear session password:",r)}}async function pe(){if(Qe&&x&&X)return!0;let r=await iy();if(!r)return!1;try{let e=await $.loadWallet(r);return e?(Qe=!0,X=r,x=e,mp(),console.log("Session restored from storage.session"),!0):!1}catch(e){return console.error("Failed to restore session:",e),!1}}async function cy(){console.log("RamaPay Extension initialized");let r=await $.loadPreferences();r.network&&le[r.network]&&F.switchNetwork(r.network),r.autoLockMinutes!==void 0&&(Ka=r.autoLockMinutes);let e=await $.hasWallet();console.log("Wallet exists:",e),e&&await pe(),ly()}function ly(){chrome.alarms.clear("autoLockCheck")}chrome.alarms.onAlarm.addListener(r=>{});function Wa(){cp=Date.now()}cy();chrome.runtime.onMessage.addListener((r,e,t)=>(uy(r,e).then(t).catch(n=>t({success:!1,error:n.message})),!0));async function uy(r,e){let{action:t,data:n}=r;switch(Qe&&!["getWalletStatus","getAutoLockSettings"].includes(t)&&Wa(),t){case"createWallet":return await fy(n);case"importWallet":return await dy(n);case"unlockWallet":return await hy(n);case"lockWallet":return lp();case"getWalletStatus":return my();case"generateQRCode":return await gy(n);case"getAccounts":return await by();case"getNextAccountIndex":return yy();case"addAccount":return await wy(n);case"createHDWallet":return await Ay(n);case"getMasterWallets":return await Ey();case"addAccountToMaster":return await ky(n);case"bulkAddToMaster":return await Ny(n);case"switchAccount":return await Iy(n);case"renameAccount":return await Py(n);case"removeAccount":return await vy(n);case"importPrivateKeyAccount":return await Ty(n);case"bulkAddAccounts":return await Cy(n);case"importSeedPhraseAccounts":return await By(n);case"addWatchWallet":return await Ry(n);case"recoverAccountByIndex":return await Sy(n);case"getBalance":return await up(n);case"getTokenBalance":return await Oy(n);case"sendTransaction":return await fp(n);case"sendToken":return await Uy(n);case"estimateGas":return await Ly(n);case"getTransactionHistory":return await Dy(n);case"signMessage":return await dp(n);case"signTypedData":return await hp(n);case"switchNetwork":return pp(n);case"getNetworks":return{success:!0,networks:le};case"getCurrentNetwork":return{success:!0,network:F.currentNetwork};case"addCustomNetwork":return await Zy(n);case"removeCustomNetwork":return await $y(n);case"getCustomNetworks":return await Xy();case"getEnabledNetworks":return ew();case"enableBuiltinNetwork":return await tw(n);case"disableBuiltinNetwork":return await rw(n);case"getAllAvailableNetworks":return{success:!0,networks:at};case"changePassword":return await nw(n);case"verifyPassword":return await sw(n);case"exportPrivateKey":return await ow(n);case"exportRecoveryPhrase":return await iw(n);case"getConnectedSites":return aw();case"getAutoLockSettings":return py();case"setAutoLockTimeout":return await xy(n);case"connectSite":return await xp(n,e);case"disconnectSite":return Gy(n);case"isConnected":return{success:!0,connected:rr.has(n.origin)};case"addToken":return await Wy(n);case"removeToken":return await Vy(n);case"getTokens":return await zy(n);case"getTokenInfo":return await Qy(n);case"scanTokenAllNetworks":return await Jy(n);case"autoFetchTokens":return await jy(n);case"getPendingDappRequest":return Fy();case"approveDappConnection":return await _y(n);case"rejectDappConnection":return Hy(n);case"getPrice":return await qy(n);case"getPrices":return await Yy(n);case"web3Request":return await Ky(n,e);default:return{success:!1,error:`Unknown action: ${t}`}}}async function fy({password:r}){try{let e=await F.createNewWallet(),t=eo(),n={mnemonic:e.mnemonic,masterWallets:[{id:t,name:"Master Wallet 1",mnemonic:e.mnemonic,createdAt:Date.now(),type:"master"}],accounts:[{address:e.address,privateKey:e.privateKey,name:"Account 1",type:"derived",derivationPath:e.derivationPath,accountIndex:0,masterWalletId:t}],activeAccountIndex:0};return await $.saveWallet(n,r),Qe=!0,X=r,x=n,await mu(r),{success:!0,mnemonic:e.mnemonic,address:e.address}}catch(e){return{success:!1,error:e.message}}}async function dy({password:r,mnemonic:e,privateKey:t,type:n}){try{let s,o;if(n==="mnemonic"&&e){s=await F.importFromMnemonic(e);let i=eo();o={mnemonic:e.trim(),masterWallets:[{id:i,name:"Master Wallet 1",mnemonic:e.trim(),createdAt:Date.now(),type:"master"}],accounts:[{address:s.address,privateKey:s.privateKey,name:"Account 1",type:"derived",derivationPath:s.derivationPath,accountIndex:0,masterWalletId:i}],activeAccountIndex:0}}else if(n==="privateKey"&&t)s=await F.importFromPrivateKey(t),o={accounts:[{address:s.address,privateKey:s.privateKey,name:"Account 1",type:"imported"}],activeAccountIndex:0};else throw new Error("Invalid import type or missing data");return await $.saveWallet(o,r),Qe=!0,X=r,x=o,await mu(r),{success:!0,address:s.address}}catch(s){return{success:!1,error:s.message}}}async function hy({password:r}){try{let e=await $.loadWallet(r);if(!e)return{success:!1,error:"No wallet found"};Qe=!0,X=r,x=e,await mu(r),Wa(),mp();let t=await $.loadPreferences();return t.autoLockMinutes!==void 0&&(Ka=t.autoLockMinutes),to()&&(await $.saveWallet(x,r),console.log("Migrated wallet data: linked accounts to master wallets")),{success:!0,address:e.accounts[e.activeAccountIndex].address}}catch(e){return{success:!1,error:e.message}}}async function lp(){return Qe=!1,X=null,x=null,await ay(),{success:!0}}function py(){return{success:!0,autoLockMinutes:Ka,options:ap,lastActivityTime:cp}}async function xy({minutes:r}){if(!Object.values(ap).includes(r))return{success:!1,error:"Invalid auto-lock timeout value"};Ka=r;let t=await $.loadPreferences();return t.autoLockMinutes=r,await $.savePreferences(t),Wa(),{success:!0,autoLockMinutes:r}}async function my(){return Qe||await pe(),Qe&&Wa(),{success:!0,hasWallet:x!==null||Qe,isUnlocked:Qe,hasMnemonic:Qe&&x?!!x.mnemonic:!1,address:Qe&&x?x.accounts[x.activeAccountIndex].address:null,network:F.currentNetwork}}async function gy({text:r}){try{console.log("Service worker generating QR for:",r);let e=await sp(r);return console.log("QR dataUrl generated:",e?"success":"null"),e?{success:!0,dataUrl:e}:{success:!1,error:"QR generation returned null"}}catch(e){return console.error("QR generation error:",e),{success:!1,error:e.message}}}async function by(){if(!x&&!await pe())return{success:!1,error:"No wallet data",accounts:[],masterWallets:[]};to()&&X&&await $.saveWallet(x,X);let e=(x.masterWallets||[]).map(n=>({id:n.id,name:n.name,type:"master"})),t=x.accounts.map((n,s)=>{let o=n.masterWalletId?e.find(i=>i.id===n.masterWalletId):null;return{address:n.address,name:n.name,type:n.type||"derived",isActive:s===x.activeAccountIndex,accountIndex:n.accountIndex,masterWalletId:n.masterWalletId||null,masterWalletName:o?.name||null,index:s}});return console.log("getAccounts - total accounts:",t.length),console.log("getAccounts - watch accounts:",t.filter(n=>n.type==="watch").length),console.log("getAccounts - master wallets:",e.length),{success:!0,accounts:t,masterWallets:e,hasMnemonic:!!x.mnemonic||x.masterWallets?.length>0}}async function yy(){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};let r=-1;x.accounts.forEach(t=>{t.type==="derived"&&t.accountIndex!==null&&t.accountIndex!==void 0&&(r=Math.max(r,t.accountIndex))});let e=r+1;return{success:!0,nextIndex:e,nextAccountNumber:e+1}}async function wy({name:r}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};if(!x.mnemonic)return{success:!1,error:"Cannot derive accounts from imported private key wallet"};try{let e=-1;x.accounts.forEach(o=>{o.type==="derived"&&o.accountIndex!==null&&o.accountIndex!==void 0&&(e=Math.max(e,o.accountIndex))});let t=e+1,n=await F.deriveAccount(x.mnemonic,t),s={address:n.address,privateKey:n.privateKey,name:r||`Account ${t+1}`,type:"derived",accountIndex:t};return x.accounts.push(s),await $.saveWallet(x,X),{success:!0,address:s.address,accountIndex:t}}catch(e){return{success:!1,error:e.message}}}async function Ay({name:r}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{if(!x.masterWallets&&(x.masterWallets=[],x.mnemonic)){let c={id:eo(),name:"Master Wallet 1",mnemonic:x.mnemonic,createdAt:Date.now(),type:"master"};x.masterWallets.push(c),x.accounts.forEach(l=>{l.type==="derived"&&!l.masterWalletId&&(l.masterWalletId=c.id)})}let e=await F.createNewWallet(),t=eo(),n=x.masterWallets.length+1,s={id:t,name:r||`Master Wallet ${n}`,mnemonic:e.mnemonic,createdAt:Date.now(),type:"master"};x.masterWallets.push(s),x.mnemonic||(x.mnemonic=e.mnemonic);let o=await F.deriveAccount(e.mnemonic,0),i=x.accounts.some(c=>c.address.toLowerCase()===o.address.toLowerCase()),a=null;if(!i){let c={address:o.address,privateKey:o.privateKey,name:"Account 1",type:"derived",accountIndex:0,masterWalletId:t};x.accounts.push(c),a=x.accounts.length-1,x.activeAccountIndex=a}return await $.saveWallet(x,X),{success:!0,masterWalletId:t,masterWalletName:s.name,mnemonic:e.mnemonic,hasMnemonic:!0,address:o.address,activeAccountIndex:a}}catch(e){return{success:!1,error:e.message}}}function eo(){return"mw_"+Date.now().toString(36)+"_"+Math.random().toString(36).substr(2,9)}async function Ey(){return!x&&!await pe()?{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."}:(to()&&X&&await $.saveWallet(x,X),{success:!0,masterWallets:(x.masterWallets||[]).map(t=>{let n=x.accounts.filter(o=>o.masterWalletId===t.id),s=n.find(o=>o.accountIndex===0)||n[0];return{id:t.id,name:t.name,createdAt:t.createdAt,accountCount:n.length,firstAddress:s?.address||null}})})}function to(){if(!x)return!1;let r=!1;if(x.masterWallets||(x.masterWallets=[],r=!0),x.mnemonic&&x.masterWallets.length===0){let e=eo();x.masterWallets.push({id:e,name:"Master Wallet 1",mnemonic:x.mnemonic,createdAt:Date.now(),type:"master"}),r=!0,x.accounts.forEach(t=>{t.type==="imported"||t.type==="imported-seed"||t.type==="watch"||t.masterWalletId||(t.masterWalletId=e,t.type="derived",(t.accountIndex===void 0||t.accountIndex===null)&&(t.accountIndex=0))})}if(x.masterWallets.length>0){let e=x.masterWallets[0].id;x.accounts.forEach(t=>{t.type==="imported"||t.type==="imported-seed"||t.type==="watch"||t.masterWalletId||(t.masterWalletId=e,t.type="derived",r=!0,(t.accountIndex===void 0||t.accountIndex===null)&&(t.accountIndex=0))})}return r}async function ky({masterWalletId:r,name:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};to();let t=x.masterWallets.find(n=>n.id===r);if(!t)return{success:!1,error:"Master wallet not found"};try{let n=-1;x.accounts.forEach(l=>{l.masterWalletId===r&&l.accountIndex!==null&&l.accountIndex!==void 0&&(n=Math.max(n,l.accountIndex))});let s=n+1,o=await F.deriveAccount(t.mnemonic,s);if(x.accounts.some(l=>l.address.toLowerCase()===o.address.toLowerCase()))return{success:!1,error:"Account already exists"};let a={address:o.address,privateKey:o.privateKey,name:e||`Account ${s+1}`,type:"derived",accountIndex:s,masterWalletId:r};x.accounts.push(a);let c=x.accounts.length-1;return x.activeAccountIndex=c,await $.saveWallet(x,X),{success:!0,address:a.address,name:a.name,accountIndex:s,activeAccountIndex:c}}catch(n){return{success:!1,error:n.message}}}async function Ny({masterWalletId:r,count:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};to();let t=x.masterWallets.find(n=>n.id===r);if(!t)return{success:!1,error:"Master wallet not found"};try{let n=[],s=null,o=-1;x.accounts.forEach(i=>{i.masterWalletId===r&&i.accountIndex!==null&&(o=Math.max(o,i.accountIndex))});for(let i=0;i<e;i++){let a=o+1+i,c=await F.deriveAccount(t.mnemonic,a);if(!x.accounts.some(u=>u.address.toLowerCase()===c.address.toLowerCase())){let u={address:c.address,privateKey:c.privateKey,name:`Account ${a+1}`,type:"derived",accountIndex:a,masterWalletId:r};x.accounts.push(u),s===null&&(s=x.accounts.length-1),n.push(u)}}return s!==null&&(x.activeAccountIndex=s),console.log("bulkAddToMaster - added accounts:",n.length),console.log("bulkAddToMaster - total accounts now:",x.accounts.length),console.log("bulkAddToMaster - switched to account index:",s),await $.saveWallet(x,X),{success:!0,addedCount:n.length,accounts:n.map(i=>({address:i.address,name:i.name})),activeAccountIndex:s}}catch(n){return{success:!1,error:n.message}}}async function Iy({accountIndex:r}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};if(r<0||r>=x.accounts.length)return{success:!1,error:"Invalid account index"};x.activeAccountIndex=r,await $.saveWallet(x,X);let e=x.accounts[r];return{success:!0,address:e.address,name:e.name,accountIndex:r}}async function Py({accountIndex:r,newName:e}){return!x&&!await pe()?{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."}:r<0||r>=x.accounts.length?{success:!1,error:"Invalid account index"}:(x.accounts[r].name=e,await $.saveWallet(x,X),{success:!0})}async function vy({accountIndex:r}){return!x&&!await pe()?{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."}:x.accounts.length<=1?{success:!1,error:"Cannot remove the last account"}:r<0||r>=x.accounts.length?{success:!1,error:"Invalid account index"}:r===0&&x.mnemonic?{success:!1,error:"Cannot remove the primary HD account"}:(x.accounts.splice(r,1),x.activeAccountIndex>=x.accounts.length&&(x.activeAccountIndex=x.accounts.length-1),await $.saveWallet(x,X),{success:!0})}async function Ty({privateKey:r,name:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{let t=await F.importFromPrivateKey(r);if(x.accounts.some(i=>i.address.toLowerCase()===t.address.toLowerCase()))return{success:!1,error:"Account already exists"};let s={address:t.address,privateKey:t.privateKey,name:e||`Imported ${x.accounts.length+1}`,type:"imported",accountIndex:null};x.accounts.push(s);let o=x.accounts.length-1;return x.activeAccountIndex=o,await $.saveWallet(x,X),{success:!0,address:s.address,accountIndex:o}}catch(t){return{success:!1,error:t.message}}}async function Cy({count:r,startIndex:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};if(!x.mnemonic)return{success:!1,error:"No seed phrase available - only HD wallets can derive accounts"};try{let t=[],n=-1;x.accounts.forEach(o=>{o.type==="derived"&&o.accountIndex!==null&&o.accountIndex!==void 0&&(n=Math.max(n,o.accountIndex))});let s=e!==void 0?e:n+1;for(let o=0;o<r;o++){let i=s+o,a=await F.deriveAccount(x.mnemonic,i);if(!x.accounts.some(l=>l.address.toLowerCase()===a.address.toLowerCase())){let l={address:a.address,privateKey:a.privateKey,name:`Account ${i+1}`,type:"derived",accountIndex:i};x.accounts.push(l),t.push({address:l.address,name:l.name,accountIndex:i})}}return await $.saveWallet(x,X),{success:!0,addedCount:t.length,accounts:t}}catch(t){return{success:!1,error:t.message}}}async function By({seedPhrase:r,mnemonic:e,count:t=1,name:n}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};let s=(r||e||"").trim();try{if(!re.Mnemonic.isValidMnemonic(s))return{success:!1,error:"Invalid seed phrase"};x.masterWallets||(x.masterWallets=[]);let i=eo(),a=x.masterWallets.length+1,c=n||`Master Wallet ${a}`,l={id:i,name:c,mnemonic:s,createdAt:Date.now(),type:"master"};x.masterWallets.push(l);let u=[],f=null;for(let h=0;h<t;h++){let p=await F.deriveAccount(s,h);if(!x.accounts.some(m=>m.address.toLowerCase()===p.address.toLowerCase())){let m=`Account ${h+1}`,y={address:p.address,privateKey:p.privateKey,name:m,type:"derived",accountIndex:h,masterWalletId:i};x.accounts.push(y),f===null&&(f=x.accounts.length-1),u.push({address:y.address,name:y.name,accountIndex:h})}}return f!==null&&(x.activeAccountIndex=f),console.log("importSeedPhraseAccounts - created master wallet:",c),console.log("importSeedPhraseAccounts - added accounts:",u.length),console.log("importSeedPhraseAccounts - switched to account index:",f),await $.saveWallet(x,X),{success:!0,addedCount:u.length,accounts:u,masterWalletId:i,masterWalletName:c,activeAccountIndex:f}}catch(o){return{success:!1,error:o.message}}}async function Ry({address:r,name:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{if(!re.isAddress(r))return{success:!1,error:"Invalid Ethereum address"};if(x.accounts.some(o=>o.address.toLowerCase()===r.toLowerCase()))return{success:!1,error:"This address is already in your wallet"};let n={address:re.getAddress(r),privateKey:null,name:e||"Watch Wallet",type:"watch",accountIndex:null,isWatchOnly:!0};x.accounts.push(n);let s=x.accounts.length-1;return x.activeAccountIndex=s,console.log("addWatchWallet - added account:",n.name,n.type,n.address),console.log("addWatchWallet - switched to account index:",s),console.log("addWatchWallet - total accounts now:",x.accounts.length),await $.saveWallet(x,X),{success:!0,address:n.address,name:n.name,activeAccountIndex:s}}catch(t){return{success:!1,error:t.message}}}async function Sy({masterWalletId:r,index:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};to();let t=x.masterWallets?.find(n=>n.id===r);if(!t)return{success:!1,error:"Master wallet not found"};try{let n=await F.deriveAccount(t.mnemonic,e);if(x.accounts.some(i=>i.address.toLowerCase()===n.address.toLowerCase()))return{success:!1,error:"This account already exists in your wallet"};let o={address:n.address,privateKey:n.privateKey,name:`Account ${e+1}`,type:"derived",accountIndex:e,masterWalletId:r};return x.accounts.push(o),await $.saveWallet(x,X),{success:!0,address:o.address,name:o.name,accountIndex:e}}catch(n){return{success:!1,error:n.message}}}async function up({address:r}){try{let e=r||x?.accounts[x.activeAccountIndex]?.address;return e?{success:!0,balance:await F.getBalance(e)}:{success:!1,error:"No address provided"}}catch(e){return{success:!1,error:e.message}}}async function Oy({address:r,tokenAddress:e}){try{return{success:!0,balance:await F.getTokenBalance(r,e)}}catch(t){return{success:!1,error:t.message}}}async function fp({to:r,amount:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{let t=x.accounts[x.activeAccountIndex],n=await F.sendTransaction(t.privateKey,r,e);return{success:!0,txHash:n.hash,receipt:n}}catch(t){return{success:!1,error:t.message}}}async function Uy({tokenAddress:r,to:e,amount:t}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{let n=x.accounts[x.activeAccountIndex],s=await F.sendToken(n.privateKey,r,e,t);return{success:!0,txHash:s.hash,receipt:s}}catch(n){return{success:!1,error:n.message}}}async function Ly({to:r,amount:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{let t=x.accounts[x.activeAccountIndex];return{success:!0,gasInfo:await F.estimateGas(t.address,r,e)}}catch(t){return{success:!1,error:t.message}}}async function Dy({address:r}){try{let e=r||x?.accounts[x.activeAccountIndex]?.address;return{success:!0,history:await F.getTransactionHistory(e)}}catch(e){return{success:!1,error:e.message}}}async function dp({message:r}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{let e=x.accounts[x.activeAccountIndex];return{success:!0,signature:await F.signMessage(e.privateKey,r)}}catch(e){return{success:!1,error:e.message}}}async function hp({domain:r,types:e,value:t}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{let n=x.accounts[x.activeAccountIndex];return{success:!0,signature:await F.signTypedData(n.privateKey,r,e,t)}}catch(n){return{success:!1,error:n.message}}}function pp({networkKey:r}){try{let e=null;if(r.startsWith("0x")){let t=parseInt(r,16);for(let[n,s]of Object.entries(le))if(s.chainId===t||s.chainIdHex===r){e=s,F.currentNetwork=e,F.provider=null;break}if(!e){for(let[n,s]of Object.entries(at))if(s.chainId===t||s.chainIdHex===r){e=s,F.currentNetwork=e,F.provider=null;break}}}else le[r]?(F.switchNetwork(r),e=F.currentNetwork):at[r]&&(pu(r),F.currentNetwork=at[r],F.provider=null,e=F.currentNetwork);return e?($.loadPreferences().then(t=>{t.network=r,$.savePreferences(t)}),{success:!0,network:F.currentNetwork}):{success:!1,error:"Network not found"}}catch(e){return{success:!1,error:e.message}}}async function My(r,e){return new Promise(t=>{let n=Date.now().toString();un.set(n,{origin:r,tabId:e.tab?.id,resolve:t,timestamp:Date.now()}),chrome.action.openPopup().catch(()=>{chrome.windows.create({url:chrome.runtime.getURL(`popup/popup.html?dappRequest=${n}&origin=${encodeURIComponent(r)}`),type:"popup",width:375,height:600,focused:!0})}),setTimeout(()=>{un.has(n)&&(un.delete(n),t({success:!1,error:"User rejected the request"}))},12e4)})}function Fy(){let r=Array.from(un.entries());if(r.length===0)return{success:!0,request:null};let[e,t]=r[r.length-1];return{success:!0,request:{id:e,origin:t.origin,timestamp:t.timestamp}}}async function _y({requestId:r}){let e=un.get(r);if(!e)return{success:!1,error:"Request not found or expired"};if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};rr.add(e.origin);let t=x.accounts[x.activeAccountIndex],n={success:!0,result:[t.address],accounts:[t.address],chainId:F.currentNetwork.chainIdHex};return e.resolve(n),un.delete(r),e.tabId&&chrome.tabs.sendMessage(e.tabId,{type:"RAMAPAY_STATE_CHANGE",data:{accounts:[t.address],chainId:F.currentNetwork.chainIdHex,connected:!0}}).catch(()=>{}),n}function Hy({requestId:r}){let e=un.get(r);return e?(e.resolve({success:!1,error:"User rejected the request"}),un.delete(r),{success:!0}):{success:!1,error:"Request not found or expired"}}async function xp({origin:r},e){if(!x)return{success:!1,error:"No wallet data"};let t=r||new URL(e.tab?.url||"").origin;rr.add(t);let n=x.accounts[x.activeAccountIndex];return{success:!0,result:[n.address],accounts:[n.address],chainId:F.currentNetwork.chainIdHex}}function Gy({origin:r}){return rr.delete(r),{success:!0}}async function Ky({method:r,params:e},t){let n=t.tab?.url?new URL(t.tab.url).origin:"";switch(r){case"eth_requestAccounts":return!Qe||!rr.has(n)?await My(n,t):await xp({origin:n},t);case"eth_accounts":return!Qe||!rr.has(n)?{success:!0,result:[]}:{success:!0,result:[x.accounts[x.activeAccountIndex].address]};case"eth_chainId":return{success:!0,result:F.currentNetwork.chainIdHex};case"net_version":return{success:!0,result:String(F.currentNetwork.chainId)};case"eth_getBalance":let s=await up({address:e[0]});return s.success?{success:!0,result:"0x"+BigInt(s.balance.wei).toString(16)}:s;case"personal_sign":return rr.has(n)?await dp({message:e[0]}):{success:!1,error:"Site not connected"};case"eth_signTypedData_v4":if(!rr.has(n))return{success:!1,error:"Site not connected"};let o=JSON.parse(e[1]);return await hp(o);case"eth_sendTransaction":if(!rr.has(n))return{success:!1,error:"Site not connected"};let i=e[0];return await fp({to:i.to,amount:i.value?(BigInt(i.value)/BigInt(10**18)).toString():"0"});case"wallet_switchEthereumChain":let a=parseInt(e[0].chainId,16),c=Object.keys(le).find(l=>le[l].chainId===a);return c?pp({networkKey:c}):{success:!1,error:"Unknown chain"};default:return{success:!1,error:`Method not supported: ${r}`}}}async function Wy({tokenAddress:r,chainId:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{let t=await F.getTokenInfo(r),n={address:r.toLowerCase(),chainId:e||F.currentNetwork.chainId,symbol:t.symbol,name:t.name,decimals:t.decimals,addedAt:Date.now()};return x.customTokens||(x.customTokens=[]),x.customTokens.some(o=>o.address===n.address&&o.chainId===n.chainId)?{success:!1,error:"Token already added"}:(x.customTokens.push(n),await $.saveWallet(x,X),{success:!0,token:n})}catch(t){return{success:!1,error:t.message}}}async function Vy({tokenAddress:r,chainId:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{if(!x.customTokens)return{success:!1,error:"No custom tokens found"};let t=e||F.currentNetwork.chainId;return x.customTokens=x.customTokens.filter(n=>!(n.address.toLowerCase()===r.toLowerCase()&&n.chainId===t)),await $.saveWallet(x,X),{success:!0}}catch(t){return{success:!1,error:t.message}}}async function zy({chainId:r}){if(!x)return{success:!1,error:"No wallet data"};let e=r||F.currentNetwork.chainId,t=(x.customTokens||[]).filter(s=>s.chainId===e);return{success:!0,tokens:await Promise.all(t.map(async s=>{try{let o=await F.getTokenBalance(x.accounts[x.activeAccountIndex].address,s.address);return{...s,balance:o.formatted}}catch{return{...s,balance:"0"}}}))}}async function Qy({tokenAddress:r}){try{return{success:!0,token:await F.getTokenInfo(r)}}catch(e){return{success:!1,error:e.message}}}async function Jy({tokenAddress:r}){if(!r||!r.startsWith("0x")||r.length!==42)return{success:!1,error:"Invalid token address"};let e=[],t=[],n=Object.entries(at),s=n.map(async([i,a])=>{try{let c=new re.JsonRpcProvider(a.rpcUrl),l=new Promise((y,w)=>setTimeout(()=>w(new Error("Timeout")),1e4)),u=["function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function totalSupply() view returns (uint256)"],f=new re.Contract(r,u,c),h=await Promise.race([Promise.all([f.decimals(),f.symbol(),f.name()]),l]),[p,b,m]=h;return{found:!0,networkKey:i,network:a.name,chainId:a.chainId,chainIdHex:a.chainIdHex,symbol:a.symbol,token:{address:r,name:m||"Unknown",symbol:b||"TOKEN",decimals:Number(p)||18,network:a.name,networkKey:i,chainId:a.chainId,chainIdHex:a.chainIdHex,networkSymbol:a.symbol}}}catch(c){return{found:!1,networkKey:i,error:c.message}}});return(await Promise.allSettled(s)).forEach(i=>{i.status==="fulfilled"&&i.value.found&&e.push(i.value)}),e.length===0?{success:!1,error:"Token not found on any network",scannedNetworks:n.length}:(e.sort((i,a)=>i.networkKey.startsWith("ramestta")&&!a.networkKey.startsWith("ramestta")?-1:!i.networkKey.startsWith("ramestta")&&a.networkKey.startsWith("ramestta")?1:i.network.localeCompare(a.network)),{success:!0,tokens:e.map(i=>i.token),scannedNetworks:n.length,foundCount:e.length})}async function jy({address:r}){if(!x)return{success:!1,error:"No wallet data"};let e=r||x.accounts[x.activeAccountIndex].address,t=F.currentNetwork;if(!t)return{success:!1,error:"No network selected"};let n={1370:[{address:"0x1234567890123456789012345678901234567890",symbol:"WRAMA"}],1:[{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT"},{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC"},{address:"0x6B175474E89094C44Da98b954EescdeCB5BB8fD6",symbol:"DAI"},{address:"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599",symbol:"WBTC"},{address:"0x514910771AF9Ca656af840dff83E8264EcF986CA",symbol:"LINK"},{address:"0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",symbol:"UNI"},{address:"0x7Fc66500c84A76Ad7e9c93437bFc5Ac33E2DDaE9",symbol:"AAVE"}],137:[{address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",symbol:"USDT"},{address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",symbol:"USDC"},{address:"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",symbol:"DAI"},{address:"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6",symbol:"WBTC"},{address:"0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39",symbol:"LINK"},{address:"0xb33EaAd8d922B1083446DC23f610c2567fB5180f",symbol:"UNI"},{address:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",symbol:"WMATIC"}],56:[{address:"0x55d398326f99059fF775485246999027B3197955",symbol:"USDT"},{address:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",symbol:"USDC"},{address:"0x1AF3F329e8BE154074D8769D1FFa4eE058B1DBc3",symbol:"DAI"},{address:"0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c",symbol:"BTCB"},{address:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",symbol:"WBNB"},{address:"0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",symbol:"CAKE"}],42161:[{address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",symbol:"USDT"},{address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",symbol:"USDC"},{address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",symbol:"DAI"},{address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",symbol:"WBTC"}],10:[{address:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",symbol:"USDT"},{address:"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",symbol:"USDC"},{address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",symbol:"DAI"}]},s=t.chainId.toString(),o=n[s]||[];if(o.length===0)return{success:!0,tokensFound:0,message:"No common tokens configured for this network"};let i=[],a=["function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function balanceOf(address) view returns (uint256)"],c=new re.JsonRpcProvider(t.rpcUrl);return await Promise.all(o.map(async l=>{try{let u=new re.Contract(l.address,a,c),[f,h,p,b]=await Promise.all([u.balanceOf(e),u.symbol(),u.name(),u.decimals()]);if(f>0n&&!(x.customTokens||[]).some(y=>y.address.toLowerCase()===l.address.toLowerCase()&&y.chainId===t.chainId)){let y={address:l.address,symbol:h||l.symbol,name:p||h||"Unknown",decimals:Number(b)||18,chainId:t.chainId,addedAt:Date.now()};x.customTokens||(x.customTokens=[]),x.customTokens.push(y),i.push(y)}}catch(u){console.log(`Token scan error for ${l.symbol}:`,u.message)}})),i.length>0&&await $.saveWallet(x,X),{success:!0,tokensFound:i.length,tokens:i.map(l=>l.symbol)}}var vr={data:{},lastUpdated:0,cacheDuration:6e4},ip={RAMA:"ramestta",ETH:"ethereum",BNB:"binancecoin",MATIC:"matic-network",POL:"matic-network",AVAX:"avalanche-2",FTM:"fantom",XDAI:"xdai",ETC:"ethereum-classic",KLAY:"klay-token",IOTX:"iotex",CRO:"crypto-com-chain",OKB:"okb",RBTC:"rootstock",MNT:"mantle",ADA:"cardano",ARB:"ethereum",OP:"ethereum",LINEA:"ethereum",BASE:"base",USDT:"tether",USDC:"usd-coin",DAI:"dai",BUSD:"binance-usd",TUSD:"true-usd",USDP:"paxos-standard",FRAX:"frax",LUSD:"liquity-usd",USDD:"usdd",BTC:"bitcoin",WBTC:"wrapped-bitcoin",WETH:"weth",stETH:"staked-ether",rETH:"rocket-pool-eth",cbETH:"coinbase-wrapped-staked-eth",UNI:"uniswap",AAVE:"aave",LINK:"chainlink",CRV:"curve-dao-token",MKR:"maker",SNX:"synthetix-network-token",COMP:"compound-governance-token",SUSHI:"sushi",YFI:"yearn-finance","1INCH":"1inch",BAL:"balancer",LDO:"lido-dao",RPL:"rocket-pool",GMX:"gmx",SHIB:"shiba-inu",DOGE:"dogecoin",APE:"apecoin",SAND:"the-sandbox",MANA:"decentraland",AXS:"axie-infinity",GALA:"gala",ENS:"ethereum-name-service",LRC:"loopring",IMX:"immutable-x",PEPE:"pepe",FLOKI:"floki",WBNB:"wbnb",WMATIC:"wmatic",WAVAX:"wrapped-avax",WFTM:"wrapped-fantom",AURORA:"aurora",NEAR:"near"};async function qy({symbol:r,currency:e="usd"}){try{return{success:!0,price:(await gu([r],e))[r.toUpperCase()]||0,symbol:r.toUpperCase(),currency:e.toUpperCase()}}catch(t){return{success:!1,error:t.message,price:0}}}async function Yy({symbols:r,currency:e="usd",chainId:t}){try{let n=t||F.currentNetwork?.chainId||1370,s=r?[...r]:[],o=F.currentNetwork?.symbol||"RAMA";return s.includes(o)||s.unshift(o),["ETH","BTC","USDT","USDC"].forEach(c=>{s.includes(c)||s.push(c)}),x?.customTokens&&x.customTokens.forEach(c=>{s.includes(c.symbol)||s.push(c.symbol)}),{success:!0,prices:await gu(s,e,n),currency:e.toUpperCase(),lastUpdated:vr.lastUpdated,nativeSymbol:o}}catch(n){return{success:!1,error:n.message,prices:{}}}}async function gu(r,e="usd",t=null){let n=Date.now();if(n-vr.lastUpdated<vr.cacheDuration){let i={},a=!0;for(let c of r){let l=`${c.toUpperCase()}_${e}`;vr.data[l]!==void 0?i[c.toUpperCase()]=vr.data[l]:a=!1}if(a)return i}let s=r.map(i=>ip[i.toUpperCase()]).filter(Boolean),o=[...new Set(s)].join(",");if(!o){let i={};return r.forEach(a=>i[a.toUpperCase()]=0),i}try{let i=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${o}&vs_currencies=${e}&include_24hr_change=true`);if(!i.ok)throw new Error("Price API request failed");let a=await i.json(),c={};vr.lastUpdated=n;for(let l of r){let u=ip[l.toUpperCase()];if(u&&a[u]){let f=a[u][e]||0,h=a[u][`${e}_24h_change`]||0;c[l.toUpperCase()]=f,vr.data[`${l.toUpperCase()}_${e}`]=f,vr.data[`${l.toUpperCase()}_${e}_change`]=h}else c[l.toUpperCase()]=0}return c}catch(i){console.error("Price fetch error:",i);let a={};return r.forEach(c=>{let l=`${c.toUpperCase()}_${e}`;a[c.toUpperCase()]=vr.data[l]||0}),a}}async function Zy({name:r,rpcUrl:e,chainId:t,symbol:n,explorerUrl:s}){if(!x)return{success:!1,error:"No wallet data"};try{if(!r||!e||!t||!n)return{success:!1,error:"Missing required network fields"};let o=parseInt(t);if(isNaN(o))return{success:!1,error:"Chain ID must be a number"};if(Object.keys(le).find(l=>le[l].chainId===o))return{success:!1,error:"Network with this Chain ID already exists"};try{let u=await(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_chainId",params:[],id:1})})).json();if(u.error)return{success:!1,error:"Invalid RPC URL: "+u.error.message}}catch{return{success:!1,error:"Cannot connect to RPC URL"}}let a={chainId:o,chainIdHex:"0x"+o.toString(16),name:r,symbol:n.toUpperCase(),decimals:18,rpcUrl:e,rpcUrls:[e],explorerUrl:s||"",isTestnet:!1,isCustom:!0},c=`custom_${o}`;return le[c]=a,x.customNetworks||(x.customNetworks={}),x.customNetworks[c]=a,await $.saveWallet(x,X),{success:!0,network:a,networkKey:c}}catch(o){return{success:!1,error:o.message}}}async function $y({networkKey:r,chainId:e}){if(!x)return{success:!1,error:"No wallet data"};try{let t=r;if(!t&&e){let s=typeof e=="string"&&e.startsWith("0x")?parseInt(e,16):e;for(let[o,i]of Object.entries(le))if(i.isCustom&&(i.chainId===s||i.chainIdHex===e)){t=o;break}}if(!t)return{success:!1,error:"Network not found"};if(!t.startsWith("custom_")&&!le[t]?.isCustom)return{success:!1,error:"Cannot remove built-in networks"};if(!le[t])return{success:!1,error:"Network not found"};let n=le[t];return delete le[t],x.customNetworks&&(delete x.customNetworks[t],await $.saveWallet(x,X)),F.currentNetwork.chainId===n.chainId&&F.switchNetwork("ramestta_mainnet"),{success:!0}}catch(t){return{success:!1,error:t.message}}}async function Xy(){let r=[];return Object.entries(le).forEach(([e,t])=>{t.isCustom&&r.push({key:e,...t})}),{success:!0,networks:r}}function mp(){x?.customNetworks&&Object.keys(x.customNetworks).forEach(r=>{le[r]=x.customNetworks[r]}),x?.enabledNetworks?(rt=x.enabledNetworks,xu(rt)):(rt=[...Ga],xu(rt))}function ew(){return{success:!0,enabledNetworks:rt}}async function tw({networkKey:r}){if(!x)return{success:!1,error:"No wallet data"};try{return at[r]?rt.includes(r)?{success:!0,enabledNetworks:rt}:(rt.push(r),pu(r),x.enabledNetworks=rt,await $.saveWallet(x,X),{success:!0,enabledNetworks:rt}):{success:!1,error:"Network not found"}}catch(e){return{success:!1,error:e.message}}}async function rw({networkKey:r}){if(!x)return{success:!1,error:"No wallet data"};try{if(r==="ramestta_mainnet")return{success:!1,error:"Cannot disable primary network"};let e=rt.indexOf(r);return e===-1?{success:!0,enabledNetworks:rt}:(rt.splice(e,1),op(r),F.currentNetwork.chainId===at[r]?.chainId&&F.switchNetwork("ramestta_mainnet"),x.enabledNetworks=rt,await $.saveWallet(x,X),{success:!0,enabledNetworks:rt})}catch(e){return{success:!1,error:e.message}}}async function nw({currentPassword:r,newPassword:e}){if(!x)return{success:!1,error:"No wallet data"};try{return r!==X?{success:!1,error:"Current password is incorrect"}:!e||e.length<8?{success:!1,error:"New password must be at least 8 characters"}:(await $.saveWallet(x,e),X=e,{success:!0})}catch(t){return{success:!1,error:t.message}}}async function sw({password:r}){return Qe?{success:!0,verified:r===X}:{success:!1,error:"No wallet data"}}async function ow({password:r,accountIndex:e}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{if(r!==X)return{success:!1,error:"Incorrect password"};let t=e??x.activeAccountIndex,n=x.accounts[t];return n?{success:!0,privateKey:n.privateKey,address:n.address}:{success:!1,error:"Account not found"}}catch(t){return{success:!1,error:t.message}}}async function iw({password:r}){if(!x&&!await pe())return{success:!1,error:"Wallet not unlocked. Please unlock your wallet first."};try{return r!==X?{success:!1,error:"Incorrect password"}:x.mnemonic?{success:!0,mnemonic:x.mnemonic}:{success:!1,error:"This wallet was imported via private key and has no recovery phrase"}}catch(e){return{success:!1,error:e.message}}}function aw(){return{success:!0,sites:Array.from(rr)}}chrome.action.onClicked.addListener(r=>{});chrome.runtime.onSuspend.addListener(()=>{lp()});setInterval(async()=>{if(Qe)try{await gu(["RAMA","ETH"],"usd")}catch(r){console.log("Background price update failed:",r)}},3e5);
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

aes-js/lib.esm/aes.js:
  (*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. *)
*/
