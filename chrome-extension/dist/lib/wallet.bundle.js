var _h=Object.create;var Ba=Object.defineProperty;var Hh=Object.getOwnPropertyDescriptor;var Gh=Object.getOwnPropertyNames;var Vh=Object.getPrototypeOf,Kh=Object.prototype.hasOwnProperty;var se=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),r0=(n,e)=>{for(var t in e)Ba(n,t,{get:e[t],enumerable:!0})},zh=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Gh(e))!Kh.call(n,s)&&s!==t&&Ba(n,s,{get:()=>e[s],enumerable:!(r=Hh(e,s))||r.enumerable});return n};var Qh=(n,e,t)=>(t=n!=null?_h(Vh(n)):{},zh(e||!n||!n.__esModule?Ba(t,"default",{value:n,enumerable:!0}):t,n));var _d=se((sE,Md)=>{Md.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var jr=se(Qn=>{var Bl,Lb=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Qn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Qn.getSymbolTotalCodewords=function(e){return Lb[e]};Qn.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Qn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Bl=e};Qn.isKanjiModeEnabled=function(){return typeof Bl<"u"};Qn.toSJIS=function(e){return Bl(e)}});var ma=se(gt=>{gt.L={bit:1};gt.M={bit:0};gt.Q={bit:3};gt.H={bit:2};function Db(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return gt.L;case"m":case"medium":return gt.M;case"q":case"quartile":return gt.Q;case"h":case"high":return gt.H;default:throw new Error("Unknown EC Level: "+n)}}gt.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};gt.from=function(e,t){if(gt.isValid(e))return e;try{return Db(e)}catch{return t}}});var Vd=se((aE,Gd)=>{function Hd(){this.buffer=[],this.length=0}Hd.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};Gd.exports=Hd});var zd=se((cE,Kd)=>{function Li(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}Li.prototype.set=function(n,e,t,r){let s=n*this.size+e;this.data[s]=t,r&&(this.reservedBit[s]=!0)};Li.prototype.get=function(n,e){return this.data[n*this.size+e]};Li.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};Li.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};Kd.exports=Li});var Qd=se(ga=>{var Fb=jr().getSymbolSize;ga.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,r=Fb(e),s=r===145?26:Math.ceil((r-13)/(2*t-2))*2,i=[r-7];for(let o=1;o<t-1;o++)i[o]=i[o-1]-s;return i.push(6),i.reverse()};ga.getPositions=function(e){let t=[],r=ga.getRowColCoords(e),s=r.length;for(let i=0;i<s;i++)for(let o=0;o<s;o++)i===0&&o===0||i===0&&o===s-1||i===s-1&&o===0||t.push([r[i],r[o]]);return t}});var jd=se(Wd=>{var Mb=jr().getSymbolSize,Jd=7;Wd.getPositions=function(e){let t=Mb(e);return[[0,0],[t-Jd,0],[0,t-Jd]]}});var qd=se(de=>{de.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Jn={N1:3,N2:3,N3:40,N4:10};de.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};de.from=function(e){return de.isValid(e)?parseInt(e,10):void 0};de.getPenaltyN1=function(e){let t=e.size,r=0,s=0,i=0,o=null,a=null;for(let c=0;c<t;c++){s=i=0,o=a=null;for(let l=0;l<t;l++){let f=e.get(c,l);f===o?s++:(s>=5&&(r+=Jn.N1+(s-5)),o=f,s=1),f=e.get(l,c),f===a?i++:(i>=5&&(r+=Jn.N1+(i-5)),a=f,i=1)}s>=5&&(r+=Jn.N1+(s-5)),i>=5&&(r+=Jn.N1+(i-5))}return r};de.getPenaltyN2=function(e){let t=e.size,r=0;for(let s=0;s<t-1;s++)for(let i=0;i<t-1;i++){let o=e.get(s,i)+e.get(s,i+1)+e.get(s+1,i)+e.get(s+1,i+1);(o===4||o===0)&&r++}return r*Jn.N2};de.getPenaltyN3=function(e){let t=e.size,r=0,s=0,i=0;for(let o=0;o<t;o++){s=i=0;for(let a=0;a<t;a++)s=s<<1&2047|e.get(o,a),a>=10&&(s===1488||s===93)&&r++,i=i<<1&2047|e.get(a,o),a>=10&&(i===1488||i===93)&&r++}return r*Jn.N3};de.getPenaltyN4=function(e){let t=0,r=e.data.length;for(let i=0;i<r;i++)t+=e.data[i];return Math.abs(Math.ceil(t*100/r/5)-10)*Jn.N4};function _b(n,e,t){switch(n){case de.Patterns.PATTERN000:return(e+t)%2===0;case de.Patterns.PATTERN001:return e%2===0;case de.Patterns.PATTERN010:return t%3===0;case de.Patterns.PATTERN011:return(e+t)%3===0;case de.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case de.Patterns.PATTERN101:return e*t%2+e*t%3===0;case de.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case de.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}de.applyMask=function(e,t){let r=t.size;for(let s=0;s<r;s++)for(let i=0;i<r;i++)t.isReserved(i,s)||t.xor(i,s,_b(e,i,s))};de.getBestMask=function(e,t){let r=Object.keys(de.Patterns).length,s=0,i=1/0;for(let o=0;o<r;o++){t(o),de.applyMask(o,e);let a=de.getPenaltyN1(e)+de.getPenaltyN2(e)+de.getPenaltyN3(e)+de.getPenaltyN4(e);de.applyMask(o,e),a<i&&(i=a,s=o)}return s}});var Cl=se(vl=>{var qr=ma(),ba=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ya=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];vl.getBlocksCount=function(e,t){switch(t){case qr.L:return ba[(e-1)*4+0];case qr.M:return ba[(e-1)*4+1];case qr.Q:return ba[(e-1)*4+2];case qr.H:return ba[(e-1)*4+3];default:return}};vl.getTotalCodewordsCount=function(e,t){switch(t){case qr.L:return ya[(e-1)*4+0];case qr.M:return ya[(e-1)*4+1];case qr.Q:return ya[(e-1)*4+2];case qr.H:return ya[(e-1)*4+3];default:return}}});var Zd=se(Aa=>{var Di=new Uint8Array(512),wa=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Di[t]=e,wa[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Di[t]=Di[t-255]})();Aa.log=function(e){if(e<1)throw new Error("log("+e+")");return wa[e]};Aa.exp=function(e){return Di[e]};Aa.mul=function(e,t){return e===0||t===0?0:Di[wa[e]+wa[t]]}});var Yd=se(Fi=>{var Rl=Zd();Fi.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let s=0;s<e.length;s++)for(let i=0;i<t.length;i++)r[s+i]^=Rl.mul(e[s],t[i]);return r};Fi.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let s=r[0];for(let o=0;o<t.length;o++)r[o]^=Rl.mul(t[o],s);let i=0;for(;i<r.length&&r[i]===0;)i++;r=r.slice(i)}return r};Fi.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let r=0;r<e;r++)t=Fi.mul(t,new Uint8Array([1,Rl.exp(r)]));return t}});var eh=se((xE,Xd)=>{var $d=Yd();function Sl(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Sl.prototype.initialize=function(e){this.degree=e,this.genPoly=$d.generateECPolynomial(this.degree)};Sl.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=$d.mod(t,this.genPoly),s=this.degree-r.length;if(s>0){let i=new Uint8Array(this.degree);return i.set(r,s),i}return r};Xd.exports=Sl});var Ol=se(th=>{th.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Ul=se(gr=>{var rh="[0-9]+",Hb="[A-Z $%*+\\-./:]+",Mi="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mi=Mi.replace(/u/g,"\\u");var Gb="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mi+`)(?:.|[\r
]))+`;gr.KANJI=new RegExp(Mi,"g");gr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");gr.BYTE=new RegExp(Gb,"g");gr.NUMERIC=new RegExp(rh,"g");gr.ALPHANUMERIC=new RegExp(Hb,"g");var Vb=new RegExp("^"+Mi+"$"),Kb=new RegExp("^"+rh+"$"),zb=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");gr.testKanji=function(e){return Vb.test(e)};gr.testNumeric=function(e){return Kb.test(e)};gr.testAlphanumeric=function(e){return zb.test(e)}});var Zr=se(Te=>{var Qb=Ol(),Ll=Ul();Te.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Te.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Te.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Te.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Te.MIXED={bit:-1};Te.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Qb.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Te.getBestModeForData=function(e){return Ll.testNumeric(e)?Te.NUMERIC:Ll.testAlphanumeric(e)?Te.ALPHANUMERIC:Ll.testKanji(e)?Te.KANJI:Te.BYTE};Te.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Te.isValid=function(e){return e&&e.bit&&e.ccBits};function Jb(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return Te.NUMERIC;case"alphanumeric":return Te.ALPHANUMERIC;case"kanji":return Te.KANJI;case"byte":return Te.BYTE;default:throw new Error("Unknown mode: "+n)}}Te.from=function(e,t){if(Te.isValid(e))return e;try{return Jb(e)}catch{return t}}});var ah=se(Wn=>{var Ea=jr(),Wb=Cl(),nh=ma(),Yr=Zr(),Dl=Ol(),ih=7973,sh=Ea.getBCHDigit(ih);function jb(n,e,t){for(let r=1;r<=40;r++)if(e<=Wn.getCapacity(r,t,n))return r}function oh(n,e){return Yr.getCharCountIndicator(n,e)+4}function qb(n,e){let t=0;return n.forEach(function(r){let s=oh(r.mode,e);t+=s+r.getBitsLength()}),t}function Zb(n,e){for(let t=1;t<=40;t++)if(qb(n,t)<=Wn.getCapacity(t,e,Yr.MIXED))return t}Wn.from=function(e,t){return Dl.isValid(e)?parseInt(e,10):t};Wn.getCapacity=function(e,t,r){if(!Dl.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=Yr.BYTE);let s=Ea.getSymbolTotalCodewords(e),i=Wb.getTotalCodewordsCount(e,t),o=(s-i)*8;if(r===Yr.MIXED)return o;let a=o-oh(r,e);switch(r){case Yr.NUMERIC:return Math.floor(a/10*3);case Yr.ALPHANUMERIC:return Math.floor(a/11*2);case Yr.KANJI:return Math.floor(a/13);case Yr.BYTE:default:return Math.floor(a/8)}};Wn.getBestVersionForData=function(e,t){let r,s=nh.from(t,nh.M);if(Array.isArray(e)){if(e.length>1)return Zb(e,s);if(e.length===0)return 1;r=e[0]}else r=e;return jb(r.mode,r.getLength(),s)};Wn.getEncodedBits=function(e){if(!Dl.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Ea.getBCHDigit(t)-sh>=0;)t^=ih<<Ea.getBCHDigit(t)-sh;return e<<12|t}});var uh=se(fh=>{var Fl=jr(),lh=1335,Yb=21522,ch=Fl.getBCHDigit(lh);fh.getEncodedBits=function(e,t){let r=e.bit<<3|t,s=r<<10;for(;Fl.getBCHDigit(s)-ch>=0;)s^=lh<<Fl.getBCHDigit(s)-ch;return(r<<10|s)^Yb}});var hh=se((AE,dh)=>{var $b=Zr();function _s(n){this.mode=$b.NUMERIC,this.data=n.toString()}_s.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};_s.prototype.getLength=function(){return this.data.length};_s.prototype.getBitsLength=function(){return _s.getBitsLength(this.data.length)};_s.prototype.write=function(e){let t,r,s;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),s=parseInt(r,10),e.put(s,10);let i=this.data.length-t;i>0&&(r=this.data.substr(t),s=parseInt(r,10),e.put(s,i*3+1))};dh.exports=_s});var xh=se((EE,ph)=>{var Xb=Zr(),Ml=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hs(n){this.mode=Xb.ALPHANUMERIC,this.data=n}Hs.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Hs.prototype.getLength=function(){return this.data.length};Hs.prototype.getBitsLength=function(){return Hs.getBitsLength(this.data.length)};Hs.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=Ml.indexOf(this.data[t])*45;r+=Ml.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(Ml.indexOf(this.data[t]),6)};ph.exports=Hs});var gh=se((kE,mh)=>{var e1=Zr();function Gs(n){this.mode=e1.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Gs.getBitsLength=function(e){return e*8};Gs.prototype.getLength=function(){return this.data.length};Gs.prototype.getBitsLength=function(){return Gs.getBitsLength(this.data.length)};Gs.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};mh.exports=Gs});var yh=se((NE,bh)=>{var t1=Zr(),r1=jr();function Vs(n){this.mode=t1.KANJI,this.data=n}Vs.getBitsLength=function(e){return e*13};Vs.prototype.getLength=function(){return this.data.length};Vs.prototype.getBitsLength=function(){return Vs.getBitsLength(this.data.length)};Vs.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=r1.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};bh.exports=Vs});var wh=se((PE,_l)=>{"use strict";var _i={single_source_shortest_paths:function(n,e,t){var r={},s={};s[e]=0;var i=_i.PriorityQueue.make();i.push(e,0);for(var o,a,c,l,f,u,h,p,g;!i.empty();){o=i.pop(),a=o.value,l=o.cost,f=n[a]||{};for(c in f)f.hasOwnProperty(c)&&(u=f[c],h=l+u,p=s[c],g=typeof s[c]>"u",(g||p>h)&&(s[c]=h,i.push(c,h),r[c]=a))}if(typeof t<"u"&&typeof s[t]>"u"){var x=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(x)}return r},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],r=e,s;r;)t.push(r),s=n[r],r=n[r];return t.reverse(),t},find_path:function(n,e,t){var r=_i.single_source_shortest_paths(n,e,t);return _i.extract_shortest_path_from_predecessor_list(r,t)},PriorityQueue:{make:function(n){var e=_i.PriorityQueue,t={},r;n=n||{};for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof _l<"u"&&(_l.exports=_i)});var Bh=se(Ks=>{var ne=Zr(),kh=hh(),Nh=xh(),Ph=gh(),Th=yh(),Hi=Ul(),ka=jr(),n1=wh();function Ah(n){return unescape(encodeURIComponent(n)).length}function Gi(n,e,t){let r=[],s;for(;(s=n.exec(t))!==null;)r.push({data:s[0],index:s.index,mode:e,length:s[0].length});return r}function Ih(n){let e=Gi(Hi.NUMERIC,ne.NUMERIC,n),t=Gi(Hi.ALPHANUMERIC,ne.ALPHANUMERIC,n),r,s;return ka.isKanjiModeEnabled()?(r=Gi(Hi.BYTE,ne.BYTE,n),s=Gi(Hi.KANJI,ne.KANJI,n)):(r=Gi(Hi.BYTE_KANJI,ne.BYTE,n),s=[]),e.concat(t,r,s).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function Hl(n,e){switch(e){case ne.NUMERIC:return kh.getBitsLength(n);case ne.ALPHANUMERIC:return Nh.getBitsLength(n);case ne.KANJI:return Th.getBitsLength(n);case ne.BYTE:return Ph.getBitsLength(n)}}function s1(n){return n.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function i1(n){let e=[];for(let t=0;t<n.length;t++){let r=n[t];switch(r.mode){case ne.NUMERIC:e.push([r,{data:r.data,mode:ne.ALPHANUMERIC,length:r.length},{data:r.data,mode:ne.BYTE,length:r.length}]);break;case ne.ALPHANUMERIC:e.push([r,{data:r.data,mode:ne.BYTE,length:r.length}]);break;case ne.KANJI:e.push([r,{data:r.data,mode:ne.BYTE,length:Ah(r.data)}]);break;case ne.BYTE:e.push([{data:r.data,mode:ne.BYTE,length:Ah(r.data)}])}}return e}function o1(n,e){let t={},r={start:{}},s=["start"];for(let i=0;i<n.length;i++){let o=n[i],a=[];for(let c=0;c<o.length;c++){let l=o[c],f=""+i+c;a.push(f),t[f]={node:l,lastCount:0},r[f]={};for(let u=0;u<s.length;u++){let h=s[u];t[h]&&t[h].node.mode===l.mode?(r[h][f]=Hl(t[h].lastCount+l.length,l.mode)-Hl(t[h].lastCount,l.mode),t[h].lastCount+=l.length):(t[h]&&(t[h].lastCount=l.length),r[h][f]=Hl(l.length,l.mode)+4+ne.getCharCountIndicator(l.mode,e))}}s=a}for(let i=0;i<s.length;i++)r[s[i]].end=0;return{map:r,table:t}}function Eh(n,e){let t,r=ne.getBestModeForData(n);if(t=ne.from(e,r),t!==ne.BYTE&&t.bit<r.bit)throw new Error('"'+n+'" cannot be encoded with mode '+ne.toString(t)+`.
 Suggested mode is: `+ne.toString(r));switch(t===ne.KANJI&&!ka.isKanjiModeEnabled()&&(t=ne.BYTE),t){case ne.NUMERIC:return new kh(n);case ne.ALPHANUMERIC:return new Nh(n);case ne.KANJI:return new Th(n);case ne.BYTE:return new Ph(n)}}Ks.fromArray=function(e){return e.reduce(function(t,r){return typeof r=="string"?t.push(Eh(r,null)):r.data&&t.push(Eh(r.data,r.mode)),t},[])};Ks.fromString=function(e,t){let r=Ih(e,ka.isKanjiModeEnabled()),s=i1(r),i=o1(s,t),o=n1.find_path(i.map,"start","end"),a=[];for(let c=1;c<o.length-1;c++)a.push(i.table[o[c]].node);return Ks.fromArray(s1(a))};Ks.rawSplit=function(e){return Ks.fromArray(Ih(e,ka.isKanjiModeEnabled()))}});var Ch=se(vh=>{var Pa=jr(),Gl=ma(),a1=Vd(),c1=zd(),l1=Qd(),f1=jd(),zl=qd(),Ql=Cl(),u1=eh(),Na=ah(),d1=uh(),h1=Zr(),Vl=Bh();function p1(n,e){let t=n.size,r=f1.getPositions(e);for(let s=0;s<r.length;s++){let i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||t<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||t<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?n.set(i+a,o+c,!0,!0):n.set(i+a,o+c,!1,!0))}}function x1(n){let e=n.size;for(let t=8;t<e-8;t++){let r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function m1(n,e){let t=l1.getPositions(e);for(let r=0;r<t.length;r++){let s=t[r][0],i=t[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(s+o,i+a,!0,!0):n.set(s+o,i+a,!1,!0)}}function g1(n,e){let t=n.size,r=Na.getEncodedBits(e),s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+t-8-3,o=(r>>a&1)===1,n.set(s,i,o,!0),n.set(i,s,o,!0)}function Kl(n,e,t){let r=n.size,s=d1.getEncodedBits(e,t),i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?n.set(i,8,o,!0):i<8?n.set(i+1,8,o,!0):n.set(r-15+i,8,o,!0),i<8?n.set(8,r-i-1,o,!0):i<9?n.set(8,15-i-1+1,o,!0):n.set(8,15-i-1,o,!0);n.set(r-8,8,1,!0)}function b1(n,e){let t=n.size,r=-1,s=t-1,i=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!n.isReserved(s,a-c)){let l=!1;o<e.length&&(l=(e[o]>>>i&1)===1),n.set(s,a-c,l),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||t<=s){s-=r,r=-r;break}}}function y1(n,e,t){let r=new a1;t.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),h1.getCharCountIndicator(c.mode,n)),c.write(r)});let s=Pa.getSymbolTotalCodewords(n),i=Ql.getTotalCodewordsCount(n,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return w1(r,n,e)}function w1(n,e,t){let r=Pa.getSymbolTotalCodewords(e),s=Ql.getTotalCodewordsCount(e,t),i=r-s,o=Ql.getBlocksCount(e,t),a=r%o,c=o-a,l=Math.floor(r/o),f=Math.floor(i/o),u=f+1,h=l-f,p=new u1(h),g=0,x=new Array(o),b=new Array(o),y=0,P=new Uint8Array(n.buffer);for(let R=0;R<o;R++){let C=R<c?f:u;x[R]=P.slice(g,g+C),b[R]=p.encode(x[R]),g+=C,y=Math.max(y,C)}let k=new Uint8Array(r),L=0,T,B;for(T=0;T<y;T++)for(B=0;B<o;B++)T<x[B].length&&(k[L++]=x[B][T]);for(T=0;T<h;T++)for(B=0;B<o;B++)k[L++]=b[B][T];return k}function A1(n,e,t,r){let s;if(Array.isArray(n))s=Vl.fromArray(n);else if(typeof n=="string"){let l=e;if(!l){let f=Vl.rawSplit(n);l=Na.getBestVersionForData(f,t)}s=Vl.fromString(n,l||40)}else throw new Error("Invalid data");let i=Na.getBestVersionForData(s,t);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);let o=y1(e,t,s),a=Pa.getSymbolSize(e),c=new c1(a);return p1(c,e),x1(c),m1(c,e),Kl(c,t,0),e>=7&&g1(c,e),b1(c,o),isNaN(r)&&(r=zl.getBestMask(c,Kl.bind(null,c,t))),zl.applyMask(r,c),Kl(c,t,r),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:r,segments:s}}vh.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Gl.M,s,i;return typeof t<"u"&&(r=Gl.from(t.errorCorrectionLevel,Gl.M),s=Na.from(t.version),i=zl.from(t.maskPattern),t.toSJISFunc&&Pa.setToSJISFunction(t.toSJISFunc)),A1(e,s,r,i)}});var Jl=se(jn=>{function Rh(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}jn.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,s=e.scale||4;return{width:r,scale:r?4:s,margin:t,color:{dark:Rh(e.color.dark||"#000000ff"),light:Rh(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};jn.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};jn.getImageWidth=function(e,t){let r=jn.getScale(e,t);return Math.floor((e+t.margin*2)*r)};jn.qrToImageData=function(e,t,r){let s=t.modules.size,i=t.modules.data,o=jn.getScale(s,r),a=Math.floor((s+r.margin*2)*o),c=r.margin*o,l=[r.color.light,r.color.dark];for(let f=0;f<a;f++)for(let u=0;u<a;u++){let h=(f*a+u)*4,p=r.color.light;if(f>=c&&u>=c&&f<a-c&&u<a-c){let g=Math.floor((f-c)/o),x=Math.floor((u-c)/o);p=l[i[g*s+x]?1:0]}e[h++]=p.r,e[h++]=p.g,e[h++]=p.b,e[h]=p.a}}});var Sh=se(Ta=>{var Wl=Jl();function E1(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function k1(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Ta.render=function(e,t,r){let s=r,i=t;typeof s>"u"&&(!t||!t.getContext)&&(s=t,t=void 0),t||(i=k1()),s=Wl.getOptions(s);let o=Wl.getImageWidth(e.modules.size,s),a=i.getContext("2d"),c=a.createImageData(o,o);return Wl.qrToImageData(c.data,e,s),E1(a,i,o),a.putImageData(c,0,0),i};Ta.renderToDataURL=function(e,t,r){let s=r;typeof s>"u"&&(!t||!t.getContext)&&(s=t,t=void 0),s||(s={});let i=Ta.render(e,t,s),o=s.type||"image/png",a=s.rendererOpts||{};return i.toDataURL(o,a.quality)}});var Lh=se(Uh=>{var N1=Jl();function Oh(n,e){let t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function jl(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function P1(n,e,t){let r="",s=0,i=!1,o=0;for(let a=0;a<n.length;a++){let c=Math.floor(a%e),l=Math.floor(a/e);!c&&!i&&(i=!0),n[a]?(o++,a>0&&c>0&&n[a-1]||(r+=i?jl("M",c+t,.5+l+t):jl("m",s,0),s=0,i=!1),c+1<e&&n[a+1]||(r+=jl("h",o),o=0)):s++}return r}Uh.render=function(e,t,r){let s=N1.getOptions(t),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+Oh(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+Oh(s.color.dark,"stroke")+' d="'+P1(o,i,s.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,h),h}});var Fh=se(Vi=>{var T1=_d(),ql=Ch(),Dh=Sh(),I1=Lh();function Zl(n,e,t,r,s){let i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!T1())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=t,t=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=r=void 0):o===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(c,l){try{let f=ql.create(t,r);c(n(f,e,r))}catch(f){l(f)}})}try{let c=ql.create(t,r);s(null,n(c,e,r))}catch(c){s(c)}}Vi.create=ql.create;Vi.toCanvas=Zl.bind(null,Dh.render);Vi.toDataURL=Zl.bind(null,Dh.renderToDataURL);Vi.toString=Zl.bind(null,function(n,e,t){return I1.render(n,t)})});var xe={};r0(xe,{AbiCoder:()=>lt,AbstractProvider:()=>ut,AbstractSigner:()=>dt,AlchemyProvider:()=>Sn,AnkrProvider:()=>Rn,BaseContract:()=>ur,BaseWallet:()=>hr,Block:()=>Nn,BlockscoutProvider:()=>Pi,BrowserProvider:()=>Ni,ChainstackProvider:()=>On,CloudflareProvider:()=>Un,ConstructorFragment:()=>_t,Contract:()=>Ye,ContractEventPayload:()=>Pn,ContractFactory:()=>xi,ContractTransactionReceipt:()=>ks,ContractTransactionResponse:()=>fr,ContractUnknownEventPayload:()=>Mr,EnsPlugin:()=>Gr,EnsResolver:()=>_r,ErrorDescription:()=>As,ErrorFragment:()=>je,EtherSymbol:()=>hc,EtherscanPlugin:()=>Ai,EtherscanProvider:()=>Ln,EventFragment:()=>Mt,EventLog:()=>lr,EventPayload:()=>Yt,FallbackFragment:()=>En,FallbackProvider:()=>Mn,FeeData:()=>Dr,FeeDataNetworkPlugin:()=>bi,FetchCancelSignal:()=>rs,FetchRequest:()=>re,FetchResponse:()=>wt,FetchUrlFeeDataNetworkPlugin:()=>Bn,FixedNumber:()=>Er,Fragment:()=>Gt,FunctionFragment:()=>Ht,GasCostPlugin:()=>Hr,HDNodeVoidWallet:()=>zn,HDNodeWallet:()=>mr,Indexed:()=>kn,InfuraProvider:()=>Jr,InfuraWebSocketProvider:()=>Cs,Interface:()=>ar,IpcSocketProvider:()=>pl,JsonRpcApiProvider:()=>zr,JsonRpcProvider:()=>pe,JsonRpcSigner:()=>Kr,LangEn:()=>$e,Log:()=>st,LogDescription:()=>ys,MaxInt256:()=>dc,MaxUint256:()=>fc,MessagePrefix:()=>ni,MinInt256:()=>uc,Mnemonic:()=>Kt,MulticoinProviderPlugin:()=>Ns,N:()=>cc,NamedFragment:()=>or,Network:()=>Q,NetworkPlugin:()=>Lt,NonceManager:()=>ki,ParamType:()=>ye,PocketProvider:()=>Ti,QuickNodeProvider:()=>Fn,Result:()=>Et,Signature:()=>ke,SigningKey:()=>Ue,SocketBlockSubscriber:()=>Is,SocketEventSubscriber:()=>vs,SocketPendingSubscriber:()=>Bs,SocketProvider:()=>Dn,SocketSubscriber:()=>Qr,StructFragment:()=>Ur,Transaction:()=>nt,TransactionDescription:()=>ws,TransactionReceipt:()=>cr,TransactionResponse:()=>Vt,Typed:()=>ie,TypedDataEncoder:()=>ct,UndecodedEventLog:()=>Fr,UnmanagedSubscriber:()=>Dt,Utf8ErrorFuncs:()=>Ji,VoidSigner:()=>Cn,Wallet:()=>Oi,WebSocketProvider:()=>dr,WeiPerEther:()=>lc,Wordlist:()=>_n,WordlistOwl:()=>pr,WordlistOwlA:()=>Ui,ZeroAddress:()=>vt,ZeroHash:()=>fs,accessListify:()=>Le,assert:()=>m,assertArgument:()=>d,assertArgumentCount:()=>en,assertNormalize:()=>tn,assertPrivate:()=>Se,authorizationify:()=>gn,checkResultErrors:()=>eo,computeAddress:()=>Rt,computeHmac:()=>Pt,concat:()=>D,copyRequest:()=>ft,dataLength:()=>qe,dataSlice:()=>Y,decodeBase58:()=>Ws,decodeBase64:()=>js,decodeBytes32String:()=>Jc,decodeRlp:()=>$t,decryptCrowdsaleJson:()=>Ms,decryptKeystoreJson:()=>Si,decryptKeystoreJsonSync:()=>Ri,defaultPath:()=>Ds,defineProperties:()=>E,dnsEncode:()=>ui,encodeBase58:()=>nn,encodeBase64:()=>qs,encodeBytes32String:()=>Qc,encodeRlp:()=>Ge,encryptKeystoreJson:()=>Kn,encryptKeystoreJsonSync:()=>Vn,ensNormalize:()=>_o,formatEther:()=>Ua,formatUnits:()=>Zi,fromTwos:()=>qt,getAccountPath:()=>Pl,getAddress:()=>U,getBigInt:()=>N,getBytes:()=>A,getBytesCopy:()=>fe,getCreate2Address:()=>bc,getCreateAddress:()=>xn,getDefaultProvider:()=>hl,getIcapAddress:()=>gc,getIndexedAccountPath:()=>Tl,getNumber:()=>S,getUint:()=>rn,hashAuthorization:()=>hs,hashMessage:()=>bs,hexlify:()=>w,id:()=>De,isAddress:()=>wc,isAddressable:()=>us,isBytesLike:()=>bt,isCallException:()=>Ar,isCrowdsaleJson:()=>Fs,isError:()=>$,isHexString:()=>G,isKeystoreJson:()=>Ls,isValidName:()=>Fc,keccak256:()=>M,lock:()=>zf,makeError:()=>z,mask:()=>et,namehash:()=>Or,parseEther:()=>La,parseUnits:()=>Yi,pbkdf2:()=>Je,randomBytes:()=>Ke,recoverAddress:()=>St,resolveAddress:()=>ue,resolveProperties:()=>ae,ripemd160:()=>Tt,scrypt:()=>It,scryptSync:()=>Bt,sha256:()=>Ee,sha512:()=>ln,showThrottleMessage:()=>Me,solidityPacked:()=>di,solidityPackedKeccak256:()=>_c,solidityPackedSha256:()=>Hc,stripZerosLeft:()=>va,toBeArray:()=>q,toBeHex:()=>Ce,toBigInt:()=>ot,toNumber:()=>Js,toQuantity:()=>Ie,toTwos:()=>Zt,toUtf8Bytes:()=>te,toUtf8CodePoints:()=>Ra,toUtf8String:()=>Qe,uuidV4:()=>Ys,verifyAuthorization:()=>Pc,verifyMessage:()=>Mc,verifyTypedData:()=>Kc,version:()=>Xn,wordlists:()=>Il,zeroPadBytes:()=>jt,zeroPadValue:()=>Ae});var Xn="6.16.0";function Jh(n,e,t){let r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}let s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=n,s}async function ae(n){let e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function E(n,e,t){for(let r in e){let s=e[r],i=t?t[r]:null;i&&Jh(s,i,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function es(n,e){if(n==null)return"null";if(e==null&&(e=new Set),typeof n=="object"){if(e.has(n))return"[Circular]";e.add(n)}if(Array.isArray(n))return"[ "+n.map(t=>es(t,e)).join(", ")+" ]";if(n instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let s=0;s<n.length;s++)r+=t[n[s]>>4],r+=t[n[s]&15];return r}if(typeof n=="object"&&typeof n.toJSON=="function")return es(n.toJSON(),e);switch(typeof n){case"boolean":case"number":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{let t=Object.keys(n);return t.sort(),"{ "+t.map(r=>`${es(r,e)}: ${es(n[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function $(n,e){return n&&n.code===e}function Ar(n){return $(n,"CALL_EXCEPTION")}function z(n,e,t){let r=n;{let i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${es(t)}`);for(let o in t){if(o==="shortMessage")continue;let a=t[o];i.push(o+"="+es(a))}}i.push(`code=${e}`),i.push(`version=${Xn}`),i.length&&(n+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return E(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&E(s,{shortMessage:r}),s}function m(n,e,t,r){if(!n)throw z(e,t,r)}function d(n,e,t,r){m(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function en(n,e,t){t==null&&(t=""),t&&(t=": "+t),m(n>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),m(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}var Wh=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken");n.push(e)}catch{}return n},[]);function tn(n){m(Wh.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function Se(n,e,t){if(t==null&&(t=""),n!==e){let r=t,s="new";t&&(r+=".",s+=" "+t),m(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function s0(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.length%2===0&&n.match(/^0x[0-9a-f]*$/i)){let r=new Uint8Array((n.length-2)/2),s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(n.substring(s,s+2),16),s+=2;return r}d(!1,"invalid BytesLike value",e||"value",n)}function A(n,e){return s0(n,e,!1)}function fe(n,e){return s0(n,e,!0)}function G(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function bt(n){return G(n,!0)||n instanceof Uint8Array}var n0="0123456789abcdef";function w(n){let e=A(n),t="0x";for(let r=0;r<e.length;r++){let s=e[r];t+=n0[(s&240)>>4]+n0[s&15]}return t}function D(n){return"0x"+n.map(e=>w(e).substring(2)).join("")}function qe(n){return G(n,!0)?(n.length-2)/2:A(n).length}function Y(n,e,t){let r=A(n);return t!=null&&t>r.length&&m(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),w(r.slice(e??0,t??r.length))}function va(n){let e=w(n).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function i0(n,e,t){let r=A(n);m(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});let s=new Uint8Array(e);return s.fill(0),t?s.set(r,e-r.length):s.set(r,0),w(s)}function Ae(n,e){return i0(n,e,!0)}function jt(n,e){return i0(n,e,!1)}var Qs=BigInt(0),yt=BigInt(1),ts=9007199254740991;function qt(n,e){let t=rn(n,"value"),r=BigInt(S(e,"width"));if(m(t>>r===Qs,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-yt){let s=(yt<<r)-yt;return-((~t&s)+yt)}return t}function Zt(n,e){let t=N(n,"value"),r=BigInt(S(e,"width")),s=yt<<r-yt;if(t<Qs){t=-t,m(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});let i=(yt<<r)-yt;return(~t&i)+yt}else m(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function et(n,e){let t=rn(n,"value"),r=BigInt(S(e,"bits"));return t&(yt<<r)-yt}function N(n,e){switch(typeof n){case"bigint":return n;case"number":return d(Number.isInteger(n),"underflow",e||"value",n),d(n>=-ts&&n<=ts,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){d(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}d(!1,"invalid BigNumberish value",e||"value",n)}function rn(n,e){let t=N(n,e);return m(t>=Qs,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}var o0="0123456789abcdef";function ot(n){if(n instanceof Uint8Array){let e="0x0";for(let t of n)e+=o0[t>>4],e+=o0[t&15];return BigInt(e)}return N(n)}function S(n,e){switch(typeof n){case"bigint":return d(n>=-ts&&n<=ts,"overflow",e||"value",n),Number(n);case"number":return d(Number.isInteger(n),"underflow",e||"value",n),d(n>=-ts&&n<=ts,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return S(BigInt(n),e)}catch(t){d(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}d(!1,"invalid numeric value",e||"value",n)}function Js(n){return S(ot(n))}function Ce(n,e){let t=rn(n,"value"),r=t.toString(16);if(e==null)r.length%2&&(r="0"+r);else{let s=S(e,"width");if(s===0&&t===Qs)return"0x";for(m(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<s*2;)r="0"+r}return"0x"+r}function q(n,e){let t=rn(n,"value");if(t===Qs){let i=e!=null?S(e,"width"):0;return new Uint8Array(i)}let r=t.toString(16);if(r.length%2&&(r="0"+r),e!=null){let i=S(e,"width");for(;r.length<i*2;)r="00"+r;m(i*2===r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:n})}let s=new Uint8Array(r.length/2);for(let i=0;i<s.length;i++){let o=i*2;s[i]=parseInt(r.substring(o,o+2),16)}return s}function Ie(n){let e=w(bt(n)?n:q(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var Qi="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",zi=null;function jh(n){if(zi==null){zi={};for(let t=0;t<Qi.length;t++)zi[Qi[t]]=BigInt(t)}let e=zi[n];return d(e!=null,"invalid base58 value","letter",n),e}var qh=BigInt(0),Ca=BigInt(58);function nn(n){let e=A(n),t=ot(e),r="";for(;t;)r=Qi[Number(t%Ca)]+r,t/=Ca;for(let s=0;s<e.length&&!e[s];s++)r=Qi[0]+r;return r}function Ws(n){let e=qh;for(let t=0;t<n.length;t++)e*=Ca,e+=jh(n[t]);return e}function js(n){n=atob(n);let e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return A(e)}function qs(n){let e=A(n),t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Yt=class{filter;emitter;#e;constructor(e,t,r){this.#e=t,E(this,{emitter:e,filter:r})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}};function Zh(n,e,t,r,s){d(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function a0(n,e,t,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return n==="OVERRUN"?t.length-e-1:0}function Yh(n,e,t,r,s){return n==="OVERLONG"?(d(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),a0(n,e,t,r,s))}var Ji=Object.freeze({error:Zh,ignore:a0,replace:Yh});function c0(n,e){e==null&&(e=Ji.error);let t=A(n,"bytes"),r=[],s=0;for(;s<t.length;){let i=t[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,r):s+=e("BAD_PREFIX",s-1,t,r);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,r);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let f=t[s];if((f&192)!=128){s+=e("MISSING_CONTINUE",s,t,r),c=null;break}c=c<<6|f&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,r,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,t,r,c);continue}r.push(c)}}return r}function te(n,e){d(typeof n=="string","invalid string value","str",n),e!=null&&(tn(e),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){r++;let i=n.charCodeAt(r);d(r<n.length&&(i&64512)===56320,"invalid surrogate pair","str",n);let o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function $h(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Qe(n,e){return $h(c0(n,e))}function Ra(n,e){return c0(te(n,e))}function Wi(n){async function e(t,r){m(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");let s=t.url.split(":")[0].toLowerCase();m(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),m(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,o=new AbortController,a=setTimeout(()=>{i=z("request timeout","TIMEOUT"),o.abort()},t.timeout);r&&r.addListener(()=>{i=z("request cancelled","CANCELLED"),o.abort()});let c=Object.assign({},n,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal}),l;try{l=await fetch(t.url,c)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);let f={};l.headers.forEach((p,g)=>{f[g.toLowerCase()]=p});let u=await l.arrayBuffer(),h=u==null?null:new Uint8Array(u);return{statusCode:l.status,statusMessage:l.statusText,headers:f,body:h}}return e}var $1=Wi({});var Xh=12,ep=250,l0=Wi(),tp=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),rp=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),Sa=!1;async function u0(n,e){try{let t=n.match(tp);if(!t)throw new Error("invalid data");return new wt(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?js(t[3]):np(t[3]))}catch{return new wt(599,"BAD REQUEST (invalid data: URI)",{},null,new re(n))}}function d0(n){async function e(t,r){try{let s=t.match(rp);if(!s)throw new Error("invalid link");return new re(`${n}${s[2]}`)}catch{return new wt(599,"BAD REQUEST (invalid IPFS URI)",{},null,new re(t))}}return e}var ji={data:u0,ipfs:d0("https://gateway.ipfs.io/ipfs/")},h0=new WeakMap,rs=class{#e;#t;constructor(e){this.#e=[],this.#t=!1,h0.set(e,()=>{if(!this.#t){this.#t=!0;for(let t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){m(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){m(!this.cancelled,"cancelled","CANCELLED",{})}};function qi(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var re=class n{#e;#t;#r;#n;#s;#o;#i;#a;#u;#l;#p;#x;#c;#f;#d;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(e){if(e==null)this.#i=void 0,this.#a=void 0;else if(typeof e=="string")this.#i=te(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#i=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#i=te(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#r);return this.#u&&(e.authorization=`Basic ${qs(te(this.#u))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#r[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#r={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#u||null}setCredentials(e,t){d(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#u=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#s}set timeout(e){d(e>=0,"timeout must be non-zero","timeout",e),this.#s=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#x||null}set retryFunc(e){this.#x=e}get getUrlFunc(){return this.#d||l0}set getUrlFunc(e){this.#d=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#s=3e5,this.#f={slotInterval:ep,maxAttempts:Xh},this.#d=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?w(this.#i):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#f.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#f.maxAttempts=e.maxAttempts)}async#h(e,t,r,s,i){if(e>=this.#f.maxAttempts)return i.makeServerError("exceeded maximum retry limit");m(f0()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await sp(r);let o=this.clone(),a=(o.url.split(":")[0]||"").toLowerCase();if(a in ji){let f=await ji[a](o.url,qi(s.#c));if(f instanceof wt){let u=f;if(this.processFunc){qi(s.#c);try{u=await this.processFunc(o,u)}catch(h){(h.throttle==null||typeof h.stall!="number")&&u.makeServerError("error in post-processing function",h).assertOk()}}return u}o=f}this.preflightFunc&&(o=await this.preflightFunc(o));let c=await this.getUrlFunc(o,qi(s.#c)),l=new wt(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{let f=l.headers.location||"";return o.redirect(f).#h(e+1,t,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){let f=l.headers["retry-after"],u=this.#f.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(u=parseInt(f)),o.clone().#h(e+1,t,u,s,l)}if(this.processFunc){qi(s.#c);try{l=await this.processFunc(o,l)}catch(f){(f.throttle==null||typeof f.stall!="number")&&l.makeServerError("error in post-processing function",f).assertOk();let u=this.#f.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(u=f.stall),o.clone().#h(e+1,t,u,s,l)}}return l}send(){return m(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new rs(this),this.#h(0,f0()+this.timeout,0,this,new wt(0,"",{},null,this))}cancel(){m(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=h0.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();m(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let s=new n(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#r=Object.assign({},this.#r),this.#i&&(s.#i=new Uint8Array(this.#i)),s.#a=this.#a,s}clone(){let e=new n(this.url);return e.#n=this.#n,this.#i&&(e.#i=this.#i),e.#a=this.#a,e.#r=Object.assign({},this.#r),e.#u=this.#u,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#p=this.#p,e.#x=this.#x,e.#f=Object.assign({},this.#f),e.#d=this.#d,e}static lockConfig(){Sa=!0}static getGateway(e){return ji[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Sa)throw new Error("gateways locked");ji[e]=t}static registerGetUrl(e){if(Sa)throw new Error("gateways locked");l0=e}static createGetUrlFunc(e){return Wi(e)}static createDataGateway(){return u0}static createIpfsGatewayFunc(e){return d0(e)}},wt=class n{#e;#t;#r;#n;#s;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?w(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":Qe(this.#n)}catch{m(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{m(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,s,i){this.#e=e,this.#t=t,this.#r=Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{}),this.#n=s==null?null:new Uint8Array(s),this.#s=i||null,this.#o={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let s=new n(599,r,this.headers,this.body,this.#s||void 0);return s.#o={message:e,error:t},s}throwThrottleError(e,t){t==null?t=-1:d(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=new Error(e||"throttling requests");throw E(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#s}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{this.#n&&(s=Qe(this.#n))}catch{}m(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function f0(){return new Date().getTime()}function np(n){return te(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function sp(n){return new Promise(e=>setTimeout(e,n))}var ip=BigInt(-1),At=BigInt(0),ss=BigInt(1),op=BigInt(5),ns={},is="0000";for(;is.length<80;)is+=is;function sn(n){let e=is;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function Zs(n,e,t){let r=BigInt(e.width);if(e.signed){let s=ss<<r-ss;m(t==null||n>=-s&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>At?n=qt(et(n,r),r):n=-qt(et(-n,r),r)}else{let s=ss<<r;m(t==null||n>=0&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%s+s)%s&s-ss}return n}function Oa(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{let i=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);d(i,"invalid fixed format","format",n),e=i[1]!=="u",t=parseInt(i[2]),r=parseInt(i[3])}}else if(n){let i=n,o=(a,c,l)=>i[a]==null?l:(d(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),r=o("decimals","number",r)}d(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),d(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);let s=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:s}}function ap(n,e){let t="";n<At&&(t="-",n*=ip);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=is+r;let s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var Er=class n{format;#e;#t;#r;_value;constructor(e,t,r){Se(e,ns,"FixedNumber"),this.#t=t,this.#e=r;let s=ap(t,r.decimals);E(this,{format:r.name,_value:s}),this.#r=sn(r.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(e){d(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#s(e,t){return e=Zs(e,this.#e,t),new n(ns,e,this.#e)}#o(e,t){return this.#n(e),this.#s(this.#t+e.#t,t)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#i(e,t){return this.#n(e),this.#s(this.#t-e.#t,t)}subUnsafe(e){return this.#i(e)}sub(e){return this.#i(e,"sub")}#a(e,t){return this.#n(e),this.#s(this.#t*e.#t/this.#r,t)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#n(e);let t=this.#t*e.#t;return m(t%this.#r===At,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#s(t/this.#r,"mulSignal")}#u(e,t){return m(e.#t!==At,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e),this.#s(this.#t*this.#r/e.#t,t)}divUnsafe(e){return this.#u(e)}div(e){return this.#u(e,"div")}divSignal(e){m(e.#t!==At,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e);let t=this.#t*this.#r;return m(t%e.#t===At,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#s(t/e.#t,"divSignal")}cmp(e){let t=this.value,r=e.value,s=this.decimals-e.decimals;return s>0?r*=sn(s):s<0&&(t*=sn(-s)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<At&&(e-=this.#r-ss),e=this.#t/this.#r*this.#r,this.#s(e,"floor")}ceiling(){let e=this.#t;return this.#t>At&&(e+=this.#r-ss),e=this.#t/this.#r*this.#r,this.#s(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,r=op*sn(t-1),s=this.value+r,i=sn(t);return s=s/i*i,Zs(s,this.#e,"round"),new n(ns,s,this.#e)}isZero(){return this.#t===At}isNegative(){return this.#t<At}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return n.fromString(this.toString(),e)}static fromValue(e,t,r){let s=t==null?0:S(t),i=Oa(r),o=N(e,"value"),a=s-i.decimals;if(a>0){let c=sn(a);m(o%c===At,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=sn(-a));return Zs(o,i,"fromValue"),new n(ns,o,i)}static fromString(e,t){let r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);d(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);let s=Oa(t),i=r[2]||"0",o=r[3]||"";for(;o.length<s.decimals;)o+=is;m(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);let a=BigInt(r[1]+i+o);return Zs(a,s,"fromString"),new n(ns,a,s)}static fromBytes(e,t){let r=ot(A(e,"value")),s=Oa(t);return s.signed&&(r=qt(r,s.width)),Zs(r,s,"fromBytes"),new n(ns,r,s)}};function cp(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function p0(n,e,t){let r=0;for(let s=0;s<t;s++)r=r*256+n[e+s];return r}function x0(n,e,t,r){let s=[];for(;t<e+1+r;){let i=m0(n,t);s.push(i.result),t+=i.consumed,m(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:s}}function m0(n,e){m(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});let t=r=>{m(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){let r=n[e]-247;t(e+1+r);let s=p0(n,e+1,r);return t(e+1+r+s),x0(n,e,e+1+r,r+s)}else if(n[e]>=192){let r=n[e]-192;return t(e+1+r),x0(n,e,e+1,r)}else if(n[e]>=184){let r=n[e]-183;t(e+1+r);let s=p0(n,e+1,r);t(e+1+r+s);let i=w(n.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(n[e]>=128){let r=n[e]-128;t(e+1+r);let s=w(n.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:cp(n[e])}}function $t(n){let e=A(n,"data"),t=m0(e,0);return d(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function g0(n){let e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function y0(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(i){r=r.concat(y0(i))}),r.length<=55)return r.unshift(192+r.length),r;let s=g0(r.length);return s.unshift(247+s.length),s.concat(r)}let e=Array.prototype.slice.call(A(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let t=g0(e.length);return t.unshift(183+t.length),t.concat(e)}var b0="0123456789abcdef";function Ge(n){let e="0x";for(let t of y0(n))e+=b0[t>>4],e+=b0[t&15];return e}var w0=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Zi(n,e){let t=18;if(typeof e=="string"){let r=w0.indexOf(e);d(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=S(e,"unit"));return Er.fromValue(n,t,{decimals:t,width:512}).toString()}function Yi(n,e){d(typeof n=="string","value must be a string","value",n);let t=18;if(typeof e=="string"){let r=w0.indexOf(e);d(r>=0,"invalid unit","unit",e),t=3*r}else e!=null&&(t=S(e,"unit"));return Er.fromString(n,{decimals:t,width:512}).value}function Ua(n){return Zi(n,18)}function La(n){return Yi(n,18)}function Ys(n){let e=A(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=w(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}var Oe=32,Da=new Uint8Array(Oe),lp=["then"],$i={},k0=new WeakMap;function on(n){return k0.get(n)}function A0(n,e){k0.set(n,e)}function $s(n,e){let t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function Fa(n,e,t){return n.indexOf(null)>=0?e.map((r,s)=>r instanceof Et?Fa(on(r),r,t):r):n.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(t&&o instanceof Et&&(o=Fa(on(o),o,t)),r[s]=o),r},{})}var Et=class n extends Array{#e;constructor(...e){let t=e[0],r=e[1],s=(e[2]||[]).slice(),i=!0;t!==$i&&(r=e,s=[],i=!1),super(r.length),r.forEach((c,l)=>{this[l]=c});let o=s.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(A0(this,Object.freeze(r.map((c,l)=>{let f=s[l];return f!=null&&o.get(f)===1?f:null}))),this.#e=[],this.#e==null&&this.#e,!i)return;Object.freeze(this);let a=new Proxy(this,{get:(c,l,f)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){let h=S(l,"%index");if(h<0||h>=this.length)throw new RangeError("out of result range");let p=c[h];return p instanceof Error&&$s(`index ${h}`,p),p}if(lp.indexOf(l)>=0)return Reflect.get(c,l,f);let u=c[l];if(u instanceof Function)return function(...h){return u.apply(this===f?c:this,h)};if(!(l in c))return c.getValue.apply(this===f?c:this,[l])}return Reflect.get(c,l,f)}});return A0(a,on(this)),a}toArray(e){let t=[];return this.forEach((r,s)=>{r instanceof Error&&$s(`index ${s}`,r),e&&r instanceof n&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=on(this);return t.reduce((r,s,i)=>(m(s!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Fa(t,this,e)),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);let r=on(this),s=[],i=[];for(let o=e;o<t;o++)s.push(this[o]),i.push(r[o]);return new n($i,s,i)}filter(e,t){let r=on(this),s=[],i=[];for(let o=0;o<this.length;o++){let a=this[o];a instanceof Error&&$s(`index ${o}`,a),e.call(t,a,o,this)&&(s.push(a),i.push(r[o]))}return new n($i,s,i)}map(e,t){let r=[];for(let s=0;s<this.length;s++){let i=this[s];i instanceof Error&&$s(`index ${s}`,i),r.push(e.call(t,i,s,this))}return r}getValue(e){let t=on(this).indexOf(e);if(t===-1)return;let r=this[t];return r instanceof Error&&$s(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new n($i,e,t)}};function eo(n){let e=[],t=function(r,s){if(Array.isArray(s))for(let i in s){let o=r.slice();o.push(i);try{t(o,s[i])}catch(a){e.push({path:o,error:a})}}};return t([],n),e}function E0(n){let e=q(n);return m(e.length<=Oe,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Oe,offset:e.length}),e.length!==Oe&&(e=fe(D([Da.slice(e.length%Oe),e]))),e}var Pe=class{name;type;localName;dynamic;constructor(e,t,r,s){E(this,{name:e,type:t,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){d(!1,e,this.localName,t)}},an=class{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return D(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(fe(e.data))}writeBytes(e){let t=fe(e),r=t.length%Oe;return r&&(t=fe(D([t,Da.slice(r)]))),this.#r(t)}writeValue(e){return this.#r(E0(e))}writeUpdatableValue(){let e=this.#e.length;return this.#e.push(Da),this.#t+=Oe,t=>{this.#e[e]=E0(t)}}},Xi=class n{allowLoose;#e;#t;#r;#n;#s;constructor(e,t,r){E(this,{allowLoose:!!t}),this.#e=fe(e),this.#r=0,this.#n=null,this.#s=r??1024,this.#t=0}get data(){return w(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#n)return this.#n.#o(e);this.#r+=e,m(this.#s<1||this.#r<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:fe(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#i(e,t,r){let s=Math.ceil(t/Oe)*Oe;return this.#t+s>this.#e.length&&(this.allowLoose&&r&&this.#t+t<=this.#e.length?s=t:m(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:fe(this.#e),length:this.#e.length,offset:this.#t+s})),this.#e.slice(this.#t,this.#t+s)}subReader(e){let t=new n(this.#e.slice(this.#t+e),this.allowLoose,this.#s);return t.#n=this,t}readBytes(e,t){let r=this.#i(0,e,!!t);return this.#o(e),this.#t+=r.length,r.slice(0,e)}readValue(){return ot(this.readBytes(Oe))}readIndex(){return Js(this.readBytes(Oe))}};function Ve(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function Xs(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function to(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ve(n.outputLen),Ve(n.blockLen)}function Xt(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function ro(n,e){Xs(n);let t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var no=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var N0=n=>n instanceof Uint8Array;var os=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),as=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),kt=(n,e)=>n<<32-e|n>>>e,fp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!fp)throw new Error("Non little-endian hardware is not supported");var up=async()=>{};async function so(n,e,t){let r=Date.now();for(let s=0;s<n;s++){t(s);let i=Date.now()-r;i>=0&&i<e||(await up(),r+=i)}}function dp(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Nt(n){if(typeof n=="string"&&(n=dp(n)),!N0(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function P0(...n){let e=new Uint8Array(n.reduce((r,s)=>r+s.length,0)),t=0;return n.forEach(r=>{if(!N0(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}var kr=class{clone(){return this._cloneInto()}},hp={}.toString;function io(n,e){if(e!==void 0&&hp.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function Nr(n){let e=r=>n().update(Nt(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function T0(n){let e=(r,s)=>n(s).update(Nt(r)).digest(),t=n({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=r=>n(r),e}function I0(n=32){if(no&&typeof no.getRandomValues=="function")return no.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}var oo=class extends kr{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,to(e);let r=Nt(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Xt(this),this.iHash.update(e),this}digestInto(e){Xt(this),Xs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},cn=(n,e,t)=>new oo(n,e).update(t).digest();cn.create=(n,e)=>new oo(n,e);function pp(n,e,t,r){to(n);let s=io({dkLen:32,asyncTick:10},r),{c:i,dkLen:o,asyncTick:a}=s;if(Ve(i),Ve(o),Ve(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=Nt(e),l=Nt(t),f=new Uint8Array(o),u=cn.create(n,c),h=u._cloneInto().update(l);return{c:i,dkLen:o,asyncTick:a,DK:f,PRF:u,PRFSalt:h}}function xp(n,e,t,r,s){return n.destroy(),e.destroy(),r&&r.destroy(),s.fill(0),t}function ei(n,e,t,r){let{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=pp(n,e,t,r),l,f=new Uint8Array(4),u=as(f),h=new Uint8Array(a.outputLen);for(let p=1,g=0;g<i;p++,g+=a.outputLen){let x=o.subarray(g,g+a.outputLen);u.setInt32(0,p,!1),(l=c._cloneInto(l)).update(f).digestInto(h),x.set(h.subarray(0,x.length));for(let b=1;b<s;b++){a._cloneInto(l).update(h).digestInto(h);for(let y=0;y<x.length;y++)x[y]^=h[y]}}return xp(a,c,o,l,h)}function mp(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);let s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,l=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+l,a,r)}var Pr=class extends kr{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=as(this.buffer)}update(e){Xt(this);let{view:t,buffer:r,blockLen:s}=this;e=Nt(e);let i=e.length;for(let o=0;o<i;){let a=Math.min(s-this.pos,i-o);if(a===s){let c=as(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Xt(this),ro(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:s,isLE:i}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let u=o;u<s;u++)t[u]=0;mp(r,s-8,BigInt(this.length*8),i),this.process(r,0);let a=as(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,f[u],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}};var gp=(n,e,t)=>n&e^~n&t,bp=(n,e,t)=>n&e^n&t^e&t,yp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ir=new Uint32Array(64),Ma=class extends Pr{constructor(){super(64,32,8,!1),this.A=Tr[0]|0,this.B=Tr[1]|0,this.C=Tr[2]|0,this.D=Tr[3]|0,this.E=Tr[4]|0,this.F=Tr[5]|0,this.G=Tr[6]|0,this.H=Tr[7]|0}get(){let{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let u=0;u<16;u++,t+=4)Ir[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){let h=Ir[u-15],p=Ir[u-2],g=kt(h,7)^kt(h,18)^h>>>3,x=kt(p,17)^kt(p,19)^p>>>10;Ir[u]=x+Ir[u-7]+g+Ir[u-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:f}=this;for(let u=0;u<64;u++){let h=kt(a,6)^kt(a,11)^kt(a,25),p=f+h+gp(a,c,l)+yp[u]+Ir[u]|0,x=(kt(r,2)^kt(r,13)^kt(r,22))+bp(r,s,i)|0;f=l,l=c,c=a,a=o+p|0,o=i,i=s,s=r,r=p+x|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,s,i,o,a,c,l,f)}roundClean(){Ir.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var er=Nr(()=>new Ma);var ao=BigInt(4294967295),_a=BigInt(32);function B0(n,e=!1){return e?{h:Number(n&ao),l:Number(n>>_a&ao)}:{h:Number(n>>_a&ao)|0,l:Number(n&ao)|0}}function Ha(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){let{h:i,l:o}=B0(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}var wp=(n,e)=>BigInt(n>>>0)<<_a|BigInt(e>>>0),Ap=(n,e,t)=>n>>>t,Ep=(n,e,t)=>n<<32-t|e>>>t,kp=(n,e,t)=>n>>>t|e<<32-t,Np=(n,e,t)=>n<<32-t|e>>>t,Pp=(n,e,t)=>n<<64-t|e>>>t-32,Tp=(n,e,t)=>n>>>t-32|e<<64-t,Ip=(n,e)=>e,Bp=(n,e)=>n,Ga=(n,e,t)=>n<<t|e>>>32-t,Va=(n,e,t)=>e<<t|n>>>32-t,Ka=(n,e,t)=>e<<t-32|n>>>64-t,za=(n,e,t)=>n<<t-32|e>>>64-t;function vp(n,e,t,r){let s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}var Cp=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Rp=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Sp=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Op=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Up=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Lp=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;var Dp={fromBig:B0,split:Ha,toBig:wp,shrSH:Ap,shrSL:Ep,rotrSH:kp,rotrSL:Np,rotrBH:Pp,rotrBL:Tp,rotr32H:Ip,rotr32L:Bp,rotlSH:Ga,rotlSL:Va,rotlBH:Ka,rotlBL:za,add:vp,add3L:Cp,add3H:Rp,add4L:Sp,add4H:Op,add5H:Lp,add5L:Up},V=Dp;var[Fp,Mp]=V.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),Br=new Uint32Array(80),vr=new Uint32Array(80),Qa=class extends Pr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:f,Fh:u,Fl:h,Gh:p,Gl:g,Hh:x,Hl:b}=this;return[e,t,r,s,i,o,a,c,l,f,u,h,p,g,x,b]}set(e,t,r,s,i,o,a,c,l,f,u,h,p,g,x,b){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=f|0,this.Fh=u|0,this.Fl=h|0,this.Gh=p|0,this.Gl=g|0,this.Hh=x|0,this.Hl=b|0}process(e,t){for(let k=0;k<16;k++,t+=4)Br[k]=e.getUint32(t),vr[k]=e.getUint32(t+=4);for(let k=16;k<80;k++){let L=Br[k-15]|0,T=vr[k-15]|0,B=V.rotrSH(L,T,1)^V.rotrSH(L,T,8)^V.shrSH(L,T,7),R=V.rotrSL(L,T,1)^V.rotrSL(L,T,8)^V.shrSL(L,T,7),C=Br[k-2]|0,K=vr[k-2]|0,_=V.rotrSH(C,K,19)^V.rotrBH(C,K,61)^V.shrSH(C,K,6),H=V.rotrSL(C,K,19)^V.rotrBL(C,K,61)^V.shrSL(C,K,6),ce=V.add4L(R,H,vr[k-7],vr[k-16]),he=V.add4H(ce,B,_,Br[k-7],Br[k-16]);Br[k]=he|0,vr[k]=ce|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:f,Eh:u,El:h,Fh:p,Fl:g,Gh:x,Gl:b,Hh:y,Hl:P}=this;for(let k=0;k<80;k++){let L=V.rotrSH(u,h,14)^V.rotrSH(u,h,18)^V.rotrBH(u,h,41),T=V.rotrSL(u,h,14)^V.rotrSL(u,h,18)^V.rotrBL(u,h,41),B=u&p^~u&x,R=h&g^~h&b,C=V.add5L(P,T,R,Mp[k],vr[k]),K=V.add5H(C,y,L,B,Fp[k],Br[k]),_=C|0,H=V.rotrSH(r,s,28)^V.rotrBH(r,s,34)^V.rotrBH(r,s,39),ce=V.rotrSL(r,s,28)^V.rotrBL(r,s,34)^V.rotrBL(r,s,39),he=r&i^r&a^i&a,ve=s&o^s&c^o&c;y=x|0,P=b|0,x=p|0,b=g|0,p=u|0,g=h|0,{h:u,l:h}=V.add(l|0,f|0,K|0,_|0),l=a|0,f=c|0,a=i|0,c=o|0,i=r|0,o=s|0;let I=V.add3L(_,ce,ve);r=V.add3H(I,K,H,he),s=I|0}({h:r,l:s}=V.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=V.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=V.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:f}=V.add(this.Dh|0,this.Dl|0,l|0,f|0),{h:u,l:h}=V.add(this.Eh|0,this.El|0,u|0,h|0),{h:p,l:g}=V.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:x,l:b}=V.add(this.Gh|0,this.Gl|0,x|0,b|0),{h:y,l:P}=V.add(this.Hh|0,this.Hl|0,y|0,P|0),this.set(r,s,i,o,a,c,l,f,u,h,p,g,x,b,y,P)}roundClean(){Br.fill(0),vr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var co=Nr(()=>new Qa);function _p(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var v0=_p(),C0=v0.crypto||v0.msCrypto;function Ja(n){switch(n){case"sha256":return er.create();case"sha512":return co.create()}d(!1,"invalid hashing algorithm name","algorithm",n)}function R0(n,e){let t={sha256:er,sha512:co}[n];return d(t!=null,"invalid hmac algorithm","algorithm",n),cn.create(t,e)}function S0(n,e,t,r,s){let i={sha256:er,sha512:co}[s];return d(i!=null,"invalid pbkdf2 algorithm","algorithm",s),ei(i,n,e,{c:t,dkLen:r})}function O0(n){m(C0!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),d(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);let e=new Uint8Array(n);return C0.getRandomValues(e),e}var U0=!1,L0=function(n,e,t){return R0(n,e).update(t).digest()},D0=L0;function Pt(n,e,t){let r=A(e,"key"),s=A(t,"data");return w(D0(n,r,s))}Pt._=L0;Pt.lock=function(){U0=!0};Pt.register=function(n){if(U0)throw new Error("computeHmac is locked");D0=n};Object.freeze(Pt);var[_0,H0,G0]=[[],[],[]],Hp=BigInt(0),ti=BigInt(1),Gp=BigInt(2),Vp=BigInt(7),Kp=BigInt(256),zp=BigInt(113);for(let n=0,e=ti,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],_0.push(2*(5*r+t)),H0.push((n+1)*(n+2)/2%64);let s=Hp;for(let i=0;i<7;i++)e=(e<<ti^(e>>Vp)*zp)%Kp,e&Gp&&(s^=ti<<(ti<<BigInt(i))-ti);G0.push(s)}var[Qp,Jp]=Ha(G0,!0),F0=(n,e,t)=>t>32?Ka(n,e,t):Ga(n,e,t),M0=(n,e,t)=>t>32?za(n,e,t):Va(n,e,t);function Wp(n,e=24){let t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,c=(o+2)%10,l=t[c],f=t[c+1],u=F0(l,f,1)^t[a],h=M0(l,f,1)^t[a+1];for(let p=0;p<50;p+=10)n[o+p]^=u,n[o+p+1]^=h}let s=n[2],i=n[3];for(let o=0;o<24;o++){let a=H0[o],c=F0(s,i,a),l=M0(s,i,a),f=_0[o];s=n[f],i=n[f+1],n[f]=c,n[f+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Qp[r],n[1]^=Jp[r]}t.fill(0)}var lo=class n extends kr{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ve(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=os(this.state)}keccak(){Wp(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Xt(this);let{blockLen:t,state:r}=this;e=Nt(e);let s=e.length;for(let i=0;i<s;){let o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,t&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Xt(this,!1),Xs(e),this.finish();let t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();let o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ve(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(ro(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new n(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}},Cr=(n,e,t)=>Nr(()=>new lo(e,n,t)),A2=Cr(6,144,224/8),E2=Cr(6,136,256/8),k2=Cr(6,104,384/8),N2=Cr(6,72,512/8),P2=Cr(1,144,224/8),V0=Cr(1,136,256/8),T2=Cr(1,104,384/8),I2=Cr(1,72,512/8),K0=(n,e,t)=>T0((r={})=>new lo(e,n,r.dkLen===void 0?t:r.dkLen,!0)),B2=K0(31,168,128/8),v2=K0(31,136,256/8);var z0=!1,Q0=function(n){return V0(n)},J0=Q0;function M(n){let e=A(n,"data");return w(J0(e))}M._=Q0;M.lock=function(){z0=!0};M.register=function(n){if(z0)throw new TypeError("keccak256 is locked");J0=n};Object.freeze(M);var jp=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),j0=Uint8Array.from({length:16},(n,e)=>e),qp=j0.map(n=>(9*n+5)%16),ja=[j0],qa=[qp];for(let n=0;n<4;n++)for(let e of[ja,qa])e.push(e[n].map(t=>jp[t]));var q0=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(n=>new Uint8Array(n)),Zp=ja.map((n,e)=>n.map(t=>q0[e][t])),Yp=qa.map((n,e)=>n.map(t=>q0[e][t])),$p=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Xp=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),fo=(n,e)=>n<<e|n>>>32-e;function W0(n,e,t,r){return n===0?e^t^r:n===1?e&t|~e&r:n===2?(e|~t)^r:n===3?e&r|t&~r:e^(t|~r)}var uo=new Uint32Array(16),Wa=class extends Pr{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:t,h2:r,h3:s,h4:i}=this;return[e,t,r,s,i]}set(e,t,r,s,i){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let p=0;p<16;p++,t+=4)uo[p]=e.getUint32(t,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,a=this.h2|0,c=a,l=this.h3|0,f=l,u=this.h4|0,h=u;for(let p=0;p<5;p++){let g=4-p,x=$p[p],b=Xp[p],y=ja[p],P=qa[p],k=Zp[p],L=Yp[p];for(let T=0;T<16;T++){let B=fo(r+W0(p,i,a,l)+uo[y[T]]+x,k[T])+u|0;r=u,u=l,l=fo(a,10)|0,a=i,i=B}for(let T=0;T<16;T++){let B=fo(s+W0(g,o,c,f)+uo[P[T]]+b,L[T])+h|0;s=h,h=f,f=fo(c,10)|0,c=o,o=B}}this.set(this.h1+a+f|0,this.h2+l+h|0,this.h3+u+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){uo.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},Z0=Nr(()=>new Wa);var Y0=!1,$0=function(n){return Z0(n)},X0=$0;function Tt(n){let e=A(n,"data");return w(X0(e))}Tt._=$0;Tt.lock=function(){Y0=!0};Tt.register=function(n){if(Y0)throw new TypeError("ripemd160 is locked");X0=n};Object.freeze(Tt);var ef=!1,tf=function(n,e,t,r,s){return S0(n,e,t,r,s)},rf=tf;function Je(n,e,t,r,s){let i=A(n,"password"),o=A(e,"salt");return w(rf(i,o,t,r,s))}Je._=tf;Je.lock=function(){ef=!0};Je.register=function(n){if(ef)throw new Error("pbkdf2 is locked");rf=n};Object.freeze(Je);var nf=!1,sf=function(n){return new Uint8Array(O0(n))},of=sf;function Ke(n){return of(n)}Ke._=sf;Ke.lock=function(){nf=!0};Ke.register=function(n){if(nf)throw new Error("randomBytes is locked");of=n};Object.freeze(Ke);var X=(n,e)=>n<<e|n>>>32-e;function af(n,e,t,r,s,i){let o=n[e++]^t[r++],a=n[e++]^t[r++],c=n[e++]^t[r++],l=n[e++]^t[r++],f=n[e++]^t[r++],u=n[e++]^t[r++],h=n[e++]^t[r++],p=n[e++]^t[r++],g=n[e++]^t[r++],x=n[e++]^t[r++],b=n[e++]^t[r++],y=n[e++]^t[r++],P=n[e++]^t[r++],k=n[e++]^t[r++],L=n[e++]^t[r++],T=n[e++]^t[r++],B=o,R=a,C=c,K=l,_=f,H=u,ce=h,he=p,ve=g,I=x,v=b,F=y,Z=P,J=k,le=L,we=T;for(let He=0;He<8;He+=2)_^=X(B+Z|0,7),ve^=X(_+B|0,9),Z^=X(ve+_|0,13),B^=X(Z+ve|0,18),I^=X(H+R|0,7),J^=X(I+H|0,9),R^=X(J+I|0,13),H^=X(R+J|0,18),le^=X(v+ce|0,7),C^=X(le+v|0,9),ce^=X(C+le|0,13),v^=X(ce+C|0,18),K^=X(we+F|0,7),he^=X(K+we|0,9),F^=X(he+K|0,13),we^=X(F+he|0,18),R^=X(B+K|0,7),C^=X(R+B|0,9),K^=X(C+R|0,13),B^=X(K+C|0,18),ce^=X(H+_|0,7),he^=X(ce+H|0,9),_^=X(he+ce|0,13),H^=X(_+he|0,18),F^=X(v+I|0,7),ve^=X(F+v|0,9),I^=X(ve+F|0,13),v^=X(I+ve|0,18),Z^=X(we+le|0,7),J^=X(Z+we|0,9),le^=X(J+Z|0,13),we^=X(le+J|0,18);s[i++]=o+B|0,s[i++]=a+R|0,s[i++]=c+C|0,s[i++]=l+K|0,s[i++]=f+_|0,s[i++]=u+H|0,s[i++]=h+ce|0,s[i++]=p+he|0,s[i++]=g+ve|0,s[i++]=x+I|0,s[i++]=b+v|0,s[i++]=y+F|0,s[i++]=P+Z|0,s[i++]=k+J|0,s[i++]=L+le|0,s[i++]=T+we|0}function cs(n,e,t,r,s){let i=r+0,o=r+16*s;for(let a=0;a<16;a++)t[o+a]=n[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)af(t,o,n,e,t,i),a>0&&(o+=16),af(t,i,n,e+=16,t,o)}function cf(n,e,t){let r=io({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:l,onProgress:f}=r;if(Ve(s),Ve(i),Ve(o),Ve(a),Ve(c),Ve(l),f!==void 0&&typeof f!="function")throw new Error("progressCb should be function");let u=128*i,h=u/4;if(s<=1||s&s-1||s>=2**(u/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/u)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let p=u*(s+o);if(p>l)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${l} (maxmem)`);let g=ei(er,n,e,{c:1,dkLen:u*o}),x=os(g),b=os(new Uint8Array(u*s)),y=os(new Uint8Array(u)),P=()=>{};if(f){let k=2*s*o,L=Math.max(Math.floor(k/1e4),1),T=0;P=()=>{T++,f&&(!(T%L)||T===k)&&f(T/k)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:h,V:b,B32:x,B:g,tmp:y,blockMixCb:P,asyncTick:c}}function lf(n,e,t,r,s){let i=ei(er,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),s.fill(0),i}function ff(n,e,t){let{N:r,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:l,B:f,tmp:u,blockMixCb:h}=cf(n,e,t);for(let p=0;p<i;p++){let g=a*p;for(let x=0;x<a;x++)c[x]=l[g+x];for(let x=0,b=0;x<r-1;x++)cs(c,b,c,b+=a,s),h();cs(c,(r-1)*a,l,g,s),h();for(let x=0;x<r;x++){let b=l[g+a-16]%r;for(let y=0;y<a;y++)u[y]=l[g+y]^c[b*a+y];cs(u,0,l,g,s),h()}}return lf(n,o,f,c,u)}async function uf(n,e,t){let{N:r,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:l,B:f,tmp:u,blockMixCb:h,asyncTick:p}=cf(n,e,t);for(let g=0;g<i;g++){let x=a*g;for(let y=0;y<a;y++)c[y]=l[x+y];let b=0;await so(r-1,p,()=>{cs(c,b,c,b+=a,s),h()}),cs(c,(r-1)*a,l,x,s),h(),await so(r,p,()=>{let y=l[x+a-16]%r;for(let P=0;P<a;P++)u[P]=l[x+P]^c[y*a+P];cs(u,0,l,x,s),h()})}return lf(n,o,f,c,u)}var df=!1,hf=!1,pf=async function(n,e,t,r,s,i,o){return await uf(n,e,{N:t,r,p:s,dkLen:i,onProgress:o})},xf=function(n,e,t,r,s,i){return ff(n,e,{N:t,r,p:s,dkLen:i})},mf=pf,gf=xf;async function It(n,e,t,r,s,i,o){let a=A(n,"passwd"),c=A(e,"salt");return w(await mf(a,c,t,r,s,i,o))}It._=pf;It.lock=function(){hf=!0};It.register=function(n){if(hf)throw new Error("scrypt is locked");mf=n};Object.freeze(It);function Bt(n,e,t,r,s,i){let o=A(n,"passwd"),a=A(e,"salt");return w(gf(o,a,t,r,s,i))}Bt._=xf;Bt.lock=function(){df=!0};Bt.register=function(n){if(df)throw new Error("scryptSync is locked");gf=n};Object.freeze(Bt);var bf=function(n){return Ja("sha256").update(n).digest()},yf=function(n){return Ja("sha512").update(n).digest()},wf=bf,Af=yf,Ef=!1,kf=!1;function Ee(n){let e=A(n,"data");return w(wf(e))}Ee._=bf;Ee.lock=function(){Ef=!0};Ee.register=function(n){if(Ef)throw new Error("sha256 is locked");wf=n};Object.freeze(Ee);function ln(n){let e=A(n,"data");return w(Af(e))}ln._=yf;ln.lock=function(){kf=!0};ln.register=function(n){if(kf)throw new Error("sha512 is locked");Af=n};Object.freeze(Ee);var Xa={};r0(Xa,{bitGet:()=>ox,bitLen:()=>ix,bitMask:()=>ri,bitSet:()=>ax,bytesToHex:()=>fn,bytesToNumberBE:()=>tr,bytesToNumberLE:()=>xo,concatBytes:()=>ls,createHmacDrbg:()=>$a,ensureBytes:()=>tt,equalBytes:()=>nx,hexToBytes:()=>un,hexToNumber:()=>Ya,numberToBytesBE:()=>Rr,numberToBytesLE:()=>mo,numberToHexUnpadded:()=>Tf,numberToVarBytesBE:()=>rx,utf8ToBytes:()=>sx,validateObject:()=>Sr});var Pf=BigInt(0),ho=BigInt(1),ex=BigInt(2),po=n=>n instanceof Uint8Array,tx=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function fn(n){if(!po(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=tx[n[t]];return e}function Tf(n){let e=n.toString(16);return e.length&1?`0${e}`:e}function Ya(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function un(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);let e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){let s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function tr(n){return Ya(fn(n))}function xo(n){if(!po(n))throw new Error("Uint8Array expected");return Ya(fn(Uint8Array.from(n).reverse()))}function Rr(n,e){return un(n.toString(16).padStart(e*2,"0"))}function mo(n,e){return Rr(n,e).reverse()}function rx(n){return un(Tf(n))}function tt(n,e,t){let r;if(typeof e=="string")try{r=un(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(po(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);let s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function ls(...n){let e=new Uint8Array(n.reduce((r,s)=>r+s.length,0)),t=0;return n.forEach(r=>{if(!po(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function nx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function sx(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function ix(n){let e;for(e=0;n>Pf;n>>=ho,e+=1);return e}function ox(n,e){return n>>BigInt(e)&ho}var ax=(n,e,t)=>n|(t?ho:Pf)<<BigInt(e),ri=n=>(ex<<BigInt(n-1))-ho,Za=n=>new Uint8Array(n),Nf=n=>Uint8Array.from(n);function $a(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Za(n),s=Za(n),i=0,o=()=>{r.fill(1),s.fill(0),i=0},a=(...u)=>t(s,r,...u),c=(u=Za())=>{s=a(Nf([0]),u),r=a(),u.length!==0&&(s=a(Nf([1]),u),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let u=0,h=[];for(;u<e;){r=a();let p=r.slice();h.push(p),u+=r.length}return ls(...h)};return(u,h)=>{o(),c(u);let p;for(;!(p=h(l()));)c();return o(),p}}var cx={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Sr(n,e,t={}){let r=(s,i,o)=>{let a=cx[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);let c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(let[s,i]of Object.entries(e))r(s,i,!1);for(let[s,i]of Object.entries(t))r(s,i,!0);return n}var Be=BigInt(0),be=BigInt(1),dn=BigInt(2),lx=BigInt(3),ec=BigInt(4),If=BigInt(5),Bf=BigInt(8),fx=BigInt(9),ux=BigInt(16);function ze(n,e){let t=n%e;return t>=Be?t:e+t}function dx(n,e,t){if(t<=Be||e<Be)throw new Error("Expected power/modulo > 0");if(t===be)return Be;let r=be;for(;e>Be;)e&be&&(r=r*n%t),n=n*n%t,e>>=be;return r}function rt(n,e,t){let r=n;for(;e-- >Be;)r*=r,r%=t;return r}function go(n,e){if(n===Be||e<=Be)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=ze(n,e),r=e,s=Be,i=be,o=be,a=Be;for(;t!==Be;){let l=r/t,f=r%t,u=s-o*l,h=i-a*l;r=t,t=f,s=o,i=a,o=u,a=h}if(r!==be)throw new Error("invert: does not exist");return ze(s,e)}function hx(n){let e=(n-be)/dn,t,r,s;for(t=n-be,r=0;t%dn===Be;t/=dn,r++);for(s=dn;s<n&&dx(s,e,n)!==n-be;s++);if(r===1){let o=(n+be)/ec;return function(c,l){let f=c.pow(l,o);if(!c.eql(c.sqr(f),l))throw new Error("Cannot find square root");return f}}let i=(t+be)/dn;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,f=a.pow(a.mul(a.ONE,s),t),u=a.pow(c,i),h=a.pow(c,t);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let p=1;for(let x=a.sqr(h);p<l&&!a.eql(x,a.ONE);p++)x=a.sqr(x);let g=a.pow(f,be<<BigInt(l-p-1));f=a.sqr(g),u=a.mul(u,g),h=a.mul(h,f),l=p}return u}}function px(n){if(n%ec===lx){let e=(n+be)/ec;return function(r,s){let i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Bf===If){let e=(n-If)/Bf;return function(r,s){let i=r.mul(s,dn),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,dn),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),s))throw new Error("Cannot find square root");return l}}return n%ux,hx(n)}var xx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tc(n){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=xx.reduce((r,s)=>(r[s]="function",r),e);return Sr(n,t)}function mx(n,e,t){if(t<Be)throw new Error("Expected power > 0");if(t===Be)return n.ONE;if(t===be)return e;let r=n.ONE,s=e;for(;t>Be;)t&be&&(r=n.mul(r,s)),s=n.sqr(s),t>>=be;return r}function gx(n,e){let t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function rc(n,e){let t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function vf(n,e,t=!1,r={}){if(n<=Be)throw new Error(`Expected Field ORDER > 0, got ${n}`);let{nBitLength:s,nByteLength:i}=rc(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=px(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:ri(s),ZERO:Be,ONE:be,create:c=>ze(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Be<=c&&c<n},is0:c=>c===Be,isOdd:c=>(c&be)===be,neg:c=>ze(-c,n),eql:(c,l)=>c===l,sqr:c=>ze(c*c,n),add:(c,l)=>ze(c+l,n),sub:(c,l)=>ze(c-l,n),mul:(c,l)=>ze(c*l,n),pow:(c,l)=>mx(a,c,l),div:(c,l)=>ze(c*go(l,n),n),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>go(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>gx(a,c),cmov:(c,l,f)=>f?l:c,toBytes:c=>t?mo(c,i):Rr(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?xo(c):tr(c)}});return Object.freeze(a)}function Cf(n){if(typeof n!="bigint")throw new Error("field order must be bigint");let e=n.toString(2).length;return Math.ceil(e/8)}function nc(n){let e=Cf(n);return e+Math.ceil(e/2)}function Rf(n,e,t=!1){let r=n.length,s=Cf(e),i=nc(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);let o=t?tr(n):xo(n),a=ze(o,e-be)+be;return t?mo(a,s):Rr(a,s)}var yx=BigInt(0),sc=BigInt(1);function Sf(n,e){let t=(s,i)=>{let o=i.negate();return s?o:i},r=s=>{let i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>yx;)i&sc&&(o=o.add(a)),a=a.double(),i>>=sc;return o},precomputeWindow(s,i){let{windows:o,windowSize:a}=r(i),c=[],l=s,f=l;for(let u=0;u<o;u++){f=l,c.push(f);for(let h=1;h<a;h++)f=f.add(l),c.push(f);l=f.double()}return c},wNAF(s,i,o){let{windows:a,windowSize:c}=r(s),l=n.ZERO,f=n.BASE,u=BigInt(2**s-1),h=2**s,p=BigInt(s);for(let g=0;g<a;g++){let x=g*c,b=Number(o&u);o>>=p,b>c&&(b-=h,o+=sc);let y=x,P=x+Math.abs(b)-1,k=g%2!==0,L=b<0;b===0?f=f.add(t(k,i[y])):l=l.add(t(L,i[P]))}return{p:l,f}},wNAFCached(s,i,o,a){let c=s._WINDOW_SIZE||1,l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function ic(n){return tc(n.Fp),Sr(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...rc(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}function wx(n){let e=ic(n);Sr(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:Ax,hexToBytes:Ex}=Xa,hn={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){let{Err:e}=hn;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");let t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Ax(r),l:n.subarray(t+2)}},toSig(n){let{Err:e}=hn,t=typeof n=="string"?Ex(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");let{d:s,l:i}=hn._parseInt(t.subarray(2)),{d:o,l:a}=hn._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){let e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,t=l=>{let f=l.toString(16);return f.length&1?`0${f}`:f},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},rr=BigInt(0),at=BigInt(1),lw=BigInt(2),Of=BigInt(3),fw=BigInt(4);function kx(n){let e=wx(n),{Fp:t}=e,r=e.toBytes||((g,x,b)=>{let y=x.toAffine();return ls(Uint8Array.from([4]),t.toBytes(y.x),t.toBytes(y.y))}),s=e.fromBytes||(g=>{let x=g.subarray(1),b=t.fromBytes(x.subarray(0,t.BYTES)),y=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:b,y}});function i(g){let{a:x,b}=e,y=t.sqr(g),P=t.mul(y,g);return t.add(t.add(P,t.mul(g,x)),b)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&rr<g&&g<e.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){let{allowedPrivateKeyLengths:x,nByteLength:b,wrapPrivateKey:y,n:P}=e;if(x&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=fn(g)),typeof g!="string"||!x.includes(g.length))throw new Error("Invalid key");g=g.padStart(b*2,"0")}let k;try{k=typeof g=="bigint"?g:tr(tt("private key",g,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof g}`)}return y&&(k=ze(k,P)),a(k),k}let l=new Map;function f(g){if(!(g instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(x,b,y){if(this.px=x,this.py=b,this.pz=y,x==null||!t.isValid(x))throw new Error("x required");if(b==null||!t.isValid(b))throw new Error("y required");if(y==null||!t.isValid(y))throw new Error("z required")}static fromAffine(x){let{x:b,y}=x||{};if(!x||!t.isValid(b)||!t.isValid(y))throw new Error("invalid affine point");if(x instanceof u)throw new Error("projective point not allowed");let P=k=>t.eql(k,t.ZERO);return P(b)&&P(y)?u.ZERO:new u(b,y,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){let b=t.invertBatch(x.map(y=>y.pz));return x.map((y,P)=>y.toAffine(b[P])).map(u.fromAffine)}static fromHex(x){let b=u.fromAffine(s(tt("pointHex",x)));return b.assertValidity(),b}static fromPrivateKey(x){return u.BASE.multiply(c(x))}_setWindowSize(x){this._WINDOW_SIZE=x,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}let{x,y:b}=this.toAffine();if(!t.isValid(x)||!t.isValid(b))throw new Error("bad point: x or y not FE");let y=t.sqr(b),P=i(x);if(!t.eql(y,P))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:x}=this.toAffine();if(t.isOdd)return!t.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){f(x);let{px:b,py:y,pz:P}=this,{px:k,py:L,pz:T}=x,B=t.eql(t.mul(b,T),t.mul(k,P)),R=t.eql(t.mul(y,T),t.mul(L,P));return B&&R}negate(){return new u(this.px,t.neg(this.py),this.pz)}double(){let{a:x,b}=e,y=t.mul(b,Of),{px:P,py:k,pz:L}=this,T=t.ZERO,B=t.ZERO,R=t.ZERO,C=t.mul(P,P),K=t.mul(k,k),_=t.mul(L,L),H=t.mul(P,k);return H=t.add(H,H),R=t.mul(P,L),R=t.add(R,R),T=t.mul(x,R),B=t.mul(y,_),B=t.add(T,B),T=t.sub(K,B),B=t.add(K,B),B=t.mul(T,B),T=t.mul(H,T),R=t.mul(y,R),_=t.mul(x,_),H=t.sub(C,_),H=t.mul(x,H),H=t.add(H,R),R=t.add(C,C),C=t.add(R,C),C=t.add(C,_),C=t.mul(C,H),B=t.add(B,C),_=t.mul(k,L),_=t.add(_,_),C=t.mul(_,H),T=t.sub(T,C),R=t.mul(_,K),R=t.add(R,R),R=t.add(R,R),new u(T,B,R)}add(x){f(x);let{px:b,py:y,pz:P}=this,{px:k,py:L,pz:T}=x,B=t.ZERO,R=t.ZERO,C=t.ZERO,K=e.a,_=t.mul(e.b,Of),H=t.mul(b,k),ce=t.mul(y,L),he=t.mul(P,T),ve=t.add(b,y),I=t.add(k,L);ve=t.mul(ve,I),I=t.add(H,ce),ve=t.sub(ve,I),I=t.add(b,P);let v=t.add(k,T);return I=t.mul(I,v),v=t.add(H,he),I=t.sub(I,v),v=t.add(y,P),B=t.add(L,T),v=t.mul(v,B),B=t.add(ce,he),v=t.sub(v,B),C=t.mul(K,I),B=t.mul(_,he),C=t.add(B,C),B=t.sub(ce,C),C=t.add(ce,C),R=t.mul(B,C),ce=t.add(H,H),ce=t.add(ce,H),he=t.mul(K,he),I=t.mul(_,I),ce=t.add(ce,he),he=t.sub(H,he),he=t.mul(K,he),I=t.add(I,he),H=t.mul(ce,I),R=t.add(R,H),H=t.mul(v,I),B=t.mul(ve,B),B=t.sub(B,H),H=t.mul(ve,ce),C=t.mul(v,C),C=t.add(C,H),new u(B,R,C)}subtract(x){return this.add(x.negate())}is0(){return this.equals(u.ZERO)}wNAF(x){return p.wNAFCached(this,l,x,b=>{let y=t.invertBatch(b.map(P=>P.pz));return b.map((P,k)=>P.toAffine(y[k])).map(u.fromAffine)})}multiplyUnsafe(x){let b=u.ZERO;if(x===rr)return b;if(a(x),x===at)return this;let{endo:y}=e;if(!y)return p.unsafeLadder(this,x);let{k1neg:P,k1:k,k2neg:L,k2:T}=y.splitScalar(x),B=b,R=b,C=this;for(;k>rr||T>rr;)k&at&&(B=B.add(C)),T&at&&(R=R.add(C)),C=C.double(),k>>=at,T>>=at;return P&&(B=B.negate()),L&&(R=R.negate()),R=new u(t.mul(R.px,y.beta),R.py,R.pz),B.add(R)}multiply(x){a(x);let b=x,y,P,{endo:k}=e;if(k){let{k1neg:L,k1:T,k2neg:B,k2:R}=k.splitScalar(b),{p:C,f:K}=this.wNAF(T),{p:_,f:H}=this.wNAF(R);C=p.constTimeNegate(L,C),_=p.constTimeNegate(B,_),_=new u(t.mul(_.px,k.beta),_.py,_.pz),y=C.add(_),P=K.add(H)}else{let{p:L,f:T}=this.wNAF(b);y=L,P=T}return u.normalizeZ([y,P])[0]}multiplyAndAddUnsafe(x,b,y){let P=u.BASE,k=(T,B)=>B===rr||B===at||!T.equals(P)?T.multiplyUnsafe(B):T.multiply(B),L=k(this,b).add(k(x,y));return L.is0()?void 0:L}toAffine(x){let{px:b,py:y,pz:P}=this,k=this.is0();x==null&&(x=k?t.ONE:t.inv(P));let L=t.mul(b,x),T=t.mul(y,x),B=t.mul(P,x);if(k)return{x:t.ZERO,y:t.ZERO};if(!t.eql(B,t.ONE))throw new Error("invZ was invalid");return{x:L,y:T}}isTorsionFree(){let{h:x,isTorsionFree:b}=e;if(x===at)return!0;if(b)return b(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:x,clearCofactor:b}=e;return x===at?this:b?b(u,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),r(u,this,x)}toHex(x=!0){return fn(this.toRawBytes(x))}}u.BASE=new u(e.Gx,e.Gy,t.ONE),u.ZERO=new u(t.ZERO,t.ONE,t.ZERO);let h=e.nBitLength,p=Sf(u,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function Nx(n){let e=ic(n);return Sr(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Uf(n){let e=Nx(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(I){return rr<I&&I<t.ORDER}function a(I){return ze(I,r)}function c(I){return go(I,r)}let{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:u,isWithinCurveOrder:h}=kx({...e,toBytes(I,v,F){let Z=v.toAffine(),J=t.toBytes(Z.x),le=ls;return F?le(Uint8Array.from([v.hasEvenY()?2:3]),J):le(Uint8Array.from([4]),J,t.toBytes(Z.y))},fromBytes(I){let v=I.length,F=I[0],Z=I.subarray(1);if(v===s&&(F===2||F===3)){let J=tr(Z);if(!o(J))throw new Error("Point is not on curve");let le=u(J),we=t.sqrt(le),He=(we&at)===at;return(F&1)===1!==He&&(we=t.neg(we)),{x:J,y:we}}else if(v===i&&F===4){let J=t.fromBytes(Z.subarray(0,t.BYTES)),le=t.fromBytes(Z.subarray(t.BYTES,2*t.BYTES));return{x:J,y:le}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=I=>fn(Rr(I,e.nByteLength));function g(I){let v=r>>at;return I>v}function x(I){return g(I)?a(-I):I}let b=(I,v,F)=>tr(I.slice(v,F));class y{constructor(v,F,Z){this.r=v,this.s=F,this.recovery=Z,this.assertValidity()}static fromCompact(v){let F=e.nByteLength;return v=tt("compactSignature",v,F*2),new y(b(v,0,F),b(v,F,2*F))}static fromDER(v){let{r:F,s:Z}=hn.toSig(tt("DER",v));return new y(F,Z)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(v){return new y(this.r,this.s,v)}recoverPublicKey(v){let{r:F,s:Z,recovery:J}=this,le=R(tt("msgHash",v));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");let we=J===2||J===3?F+e.n:F;if(we>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let He=J&1?"03":"02",br=l.fromHex(He+p(we)),yr=c(we),Zn=a(-le*yr),zs=a(Z*yr),wr=l.BASE.multiplyAndAddUnsafe(br,Zn,zs);if(!wr)throw new Error("point at infinify");return wr.assertValidity(),wr}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return un(this.toDERHex())}toDERHex(){return hn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return un(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let P={isValidPrivateKey(I){try{return f(I),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{let I=nc(e.n);return Rf(e.randomBytes(I),e.n)},precompute(I=8,v=l.BASE){return v._setWindowSize(I),v.multiply(BigInt(3)),v}};function k(I,v=!0){return l.fromPrivateKey(I).toRawBytes(v)}function L(I){let v=I instanceof Uint8Array,F=typeof I=="string",Z=(v||F)&&I.length;return v?Z===s||Z===i:F?Z===2*s||Z===2*i:I instanceof l}function T(I,v,F=!0){if(L(I))throw new Error("first arg must be private key");if(!L(v))throw new Error("second arg must be public key");return l.fromHex(v).multiply(f(I)).toRawBytes(F)}let B=e.bits2int||function(I){let v=tr(I),F=I.length*8-e.nBitLength;return F>0?v>>BigInt(F):v},R=e.bits2int_modN||function(I){return a(B(I))},C=ri(e.nBitLength);function K(I){if(typeof I!="bigint")throw new Error("bigint expected");if(!(rr<=I&&I<C))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Rr(I,e.nByteLength)}function _(I,v,F=H){if(["recovered","canonical"].some(Xr=>Xr in F))throw new Error("sign() legacy options not supported");let{hash:Z,randomBytes:J}=e,{lowS:le,prehash:we,extraEntropy:He}=F;le==null&&(le=!0),I=tt("msgHash",I),we&&(I=tt("prehashed msgHash",Z(I)));let br=R(I),yr=f(v),Zn=[K(yr),K(br)];if(He!=null){let Xr=He===!0?J(t.BYTES):He;Zn.push(tt("extraEntropy",Xr))}let zs=ls(...Zn),wr=br;function Ia(Xr){let Yn=B(Xr);if(!h(Yn))return;let Xl=c(Yn),Ft=l.BASE.multiply(Yn).toAffine(),$n=a(Ft.x);if($n===rr)return;let Ki=a(Xl*a(wr+$n*yr));if(Ki===rr)return;let e0=(Ft.x===$n?0:2)|Number(Ft.y&at),t0=Ki;return le&&g(Ki)&&(t0=x(Ki),e0^=1),new y($n,t0,e0)}return{seed:zs,k2sig:Ia}}let H={lowS:e.lowS,prehash:!1},ce={lowS:e.lowS,prehash:!1};function he(I,v,F=H){let{seed:Z,k2sig:J}=_(I,v,F),le=e;return $a(le.hash.outputLen,le.nByteLength,le.hmac)(Z,J)}l.BASE._setWindowSize(8);function ve(I,v,F,Z=ce){let J=I;if(v=tt("msgHash",v),F=tt("publicKey",F),"strict"in Z)throw new Error("options.strict was renamed to lowS");let{lowS:le,prehash:we}=Z,He,br;try{if(typeof J=="string"||J instanceof Uint8Array)try{He=y.fromDER(J)}catch(Ft){if(!(Ft instanceof hn.Err))throw Ft;He=y.fromCompact(J)}else if(typeof J=="object"&&typeof J.r=="bigint"&&typeof J.s=="bigint"){let{r:Ft,s:$n}=J;He=new y(Ft,$n)}else throw new Error("PARSE");br=l.fromHex(F)}catch(Ft){if(Ft.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&He.hasHighS())return!1;we&&(v=e.hash(v));let{r:yr,s:Zn}=He,zs=R(v),wr=c(Zn),Ia=a(zs*wr),Xr=a(yr*wr),Yn=l.BASE.multiplyAndAddUnsafe(br,Ia,Xr)?.toAffine();return Yn?a(Yn.x)===yr:!1}return{CURVE:e,getPublicKey:k,getSharedSecret:T,sign:he,verify:ve,ProjectivePoint:l,Signature:y,utils:P}}function Px(n){return{hash:n,hmac:(e,...t)=>cn(n,e,P0(...t)),randomBytes:I0}}function Lf(n,e){let t=r=>Uf({...n,...Px(r)});return Object.freeze({...t(e),create:t})}var Mf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Df=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tx=BigInt(1),oc=BigInt(2),Ff=(n,e)=>(n+e/oc)/e;function Ix(n){let e=Mf,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=n*n*n%e,f=l*l*n%e,u=rt(f,t,e)*f%e,h=rt(u,t,e)*f%e,p=rt(h,oc,e)*l%e,g=rt(p,s,e)*p%e,x=rt(g,i,e)*g%e,b=rt(x,a,e)*x%e,y=rt(b,c,e)*b%e,P=rt(y,a,e)*x%e,k=rt(P,t,e)*f%e,L=rt(k,o,e)*g%e,T=rt(L,r,e)*l%e,B=rt(T,oc,e);if(!ac.eql(ac.sqr(B),n))throw new Error("Cannot find square root");return B}var ac=vf(Mf,void 0,void 0,{sqrt:Ix}),nr=Lf({a:BigInt(0),b:BigInt(7),Fp:ac,n:Df,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{let e=Df,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Tx*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Ff(i*n,e),c=Ff(-r*n,e),l=ze(n-a*t-c*s,e),f=ze(-a*r-c*i,e),u=l>o,h=f>o;if(u&&(l=e-l),h&&(f=e-f),l>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:u,k1:l,k2neg:h,k2:f}}}},er),yw=BigInt(0);var ww=nr.ProjectivePoint;var vt="0x0000000000000000000000000000000000000000";var fs="0x0000000000000000000000000000000000000000000000000000000000000000";var cc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lc=BigInt("1000000000000000000"),fc=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),uc=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),dc=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var hc="\u039E",ni=`Ethereum Signed Message:
`;var _f=BigInt(0),Hf=BigInt(1),xc=BigInt(2),Gf=BigInt(27),Vf=BigInt(28),bo=BigInt(35),Kf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Bx=Kf/xc,vx=Symbol.for("nodejs.util.inspect.custom"),pn={};function pc(n){return Ae(q(n),32)}var ke=class n{#e;#t;#r;#n;get r(){return this.#e}set r(e){d(qe(e)===32,"invalid r","value",e),this.#e=w(e)}get s(){return d(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){d(qe(e)===32,"invalid s","value",e),this.#t=w(e)}get _s(){return this.#t}isValid(){return BigInt(this.#t)<=Bx}get v(){return this.#r}set v(e){let t=S(e,"value");d(t===27||t===28,"invalid v","v",e),this.#r=t}get networkV(){return this.#n}get legacyChainId(){let e=this.networkV;return e==null?null:n.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){let e=A(this.s);return this.yParity&&(e[0]|=128),w(e)}get compactSerialized(){return D([this.r,this.yParityAndS])}get serialized(){return D([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,s){Se(e,pn,"Signature"),this.#e=t,this.#t=r,this.#r=s,this.#n=null}getCanonical(){if(this.isValid())return this;let e=Kf-BigInt(this._s),t=55-this.v,r=new n(pn,this.r,pc(e),t);return this.networkV&&(r.#n=this.networkV),r}clone(){let e=new n(pn,this.r,this._s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[vx](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let t=N(e,"v");return t==Gf||t==Vf?_f:(d(t>=bo,"invalid EIP-155 v","v",e),(t-bo)/xc)}static getChainIdV(e,t){return N(e)*xc+BigInt(35+t-27)}static getNormalizedV(e){let t=N(e);return t===_f||t===Gf?27:t===Hf||t===Vf?28:(d(t>=bo,"invalid v","v",e),t&Hf?27:28)}static from(e){function t(l,f){d(l,f,"signature",e)}if(e==null)return new n(pn,fs,fs,27);if(typeof e=="string"){let l=A(e,"signature");if(l.length===64){let f=w(l.slice(0,32)),u=l.slice(32,64),h=u[0]&128?28:27;return u[0]&=127,new n(pn,f,w(u),h)}if(l.length===65){let f=w(l.slice(0,32)),u=w(l.slice(32,64)),h=n.getNormalizedV(l[64]);return new n(pn,f,u,h)}t(!1,"invalid raw signature length")}if(e instanceof n)return e.clone();let r=e.r;t(r!=null,"missing r");let s=pc(r),i=function(l,f){if(l!=null)return pc(l);if(f!=null){t(G(f,32),"invalid yParityAndS");let u=A(f);return u[0]&=127,w(u)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(l,f,u){if(l!=null){let h=N(l);return{networkV:h>=bo?h:void 0,v:n.getNormalizedV(h)}}if(f!=null)return t(G(f,32),"invalid yParityAndS"),{v:A(f)[0]&128?28:27};if(u!=null){switch(S(u,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new n(pn,s,i,a);return o&&(c.#n=o),t(e.yParity==null||S(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};var Ue=class n{#e;constructor(e){d(qe(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=w(e)}get privateKey(){return this.#e}get publicKey(){return n.computePublicKey(this.#e)}get compressedPublicKey(){return n.computePublicKey(this.#e,!0)}sign(e){d(qe(e)===32,"invalid digest length","digest",e);let t=nr.sign(fe(e),fe(this.#e),{lowS:!0});return ke.from({r:Ce(t.r,32),s:Ce(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=n.computePublicKey(e);return w(nr.getSharedSecret(fe(this.#e),A(t),!1))}static computePublicKey(e,t){let r=A(e,"key");if(r.length===32){let i=nr.getPublicKey(r,!!t);return w(i)}if(r.length===64){let i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}let s=nr.ProjectivePoint.fromHex(r);return w(s.toRawBytes(t))}static recoverPublicKey(e,t){d(qe(e)===32,"invalid digest length","digest",e);let r=ke.from(t),s=nr.Signature.fromCompact(fe(D([r.r,r.s])));s=s.addRecoveryBit(r.yParity);let i=s.recoverPublicKey(fe(e));return d(i!=null,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){let s=nr.ProjectivePoint.fromHex(n.computePublicKey(e).substring(2)),i=nr.ProjectivePoint.fromHex(n.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!r)}};function zf(){Pt.lock(),M.lock(),Je.lock(),Ke.lock(),Tt.lock(),It.lock(),Bt.lock(),Ee.lock(),ln.lock(),Ke.lock()}var Cx=BigInt(0),Rx=BigInt(36);function Qf(n){n=n.toLowerCase();let e=n.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);let r=A(M(t));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}var mc={};for(let n=0;n<10;n++)mc[String(n)]=String(n);for(let n=0;n<26;n++)mc[String.fromCharCode(65+n)]=String(10+n);var Jf=15;function Wf(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>mc[r]).join("");for(;e.length>=Jf;){let r=e.substring(0,Jf);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}var Sx=function(){let n={};for(let e=0;e<36;e++){let t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function Ox(n){n=n.toLowerCase();let e=Cx;for(let t=0;t<n.length;t++)e=e*Rx+Sx[n[t]];return e}function U(n){if(d(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);let e=Qf(n);return d(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){d(n.substring(2,4)===Wf(n),"bad icap checksum","address",n);let e=Ox(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Qf("0x"+e)}d(!1,"invalid address","address",n)}function gc(n){let e=BigInt(U(n)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Wf("XE00"+e)+e}function xn(n){let e=U(n.from),r=N(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,U(Y(M(Ge([e,r])),12))}function bc(n,e,t){let r=U(n),s=A(e,"salt"),i=A(t,"initCodeHash");return d(s.length===32,"salt must be 32 bytes","salt",e),d(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),U(Y(M(D(["0xff",r,s,i])),12))}function us(n){return n&&typeof n.getAddress=="function"}function wc(n){try{return U(n),!0}catch{}return!1}async function yc(n,e){let t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(m(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),d(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),U(t)}function ue(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?U(n):(m(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),yc(n,e.resolveName(n)));if(us(n))return yc(n,n.getAddress());if(n&&typeof n.then=="function")return yc(n,n);d(!1,"unsupported addressable value","target",n)}var Ct={};function O(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new ie(Ct,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function ee(n,e){return new ie(Ct,`bytes${e||""}`,n,{size:e})}var jf=Symbol.for("_ethers_typed"),ie=class n{type;value;#e;_typedSymbol;constructor(e,t,r,s){s==null&&(s=null),Se(Ct,e,"Typed"),E(this,{_typedSymbol:jf,type:t,value:r}),this.#e=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new n(Ct,e,t)}static uint8(e){return O(e,8)}static uint16(e){return O(e,16)}static uint24(e){return O(e,24)}static uint32(e){return O(e,32)}static uint40(e){return O(e,40)}static uint48(e){return O(e,48)}static uint56(e){return O(e,56)}static uint64(e){return O(e,64)}static uint72(e){return O(e,72)}static uint80(e){return O(e,80)}static uint88(e){return O(e,88)}static uint96(e){return O(e,96)}static uint104(e){return O(e,104)}static uint112(e){return O(e,112)}static uint120(e){return O(e,120)}static uint128(e){return O(e,128)}static uint136(e){return O(e,136)}static uint144(e){return O(e,144)}static uint152(e){return O(e,152)}static uint160(e){return O(e,160)}static uint168(e){return O(e,168)}static uint176(e){return O(e,176)}static uint184(e){return O(e,184)}static uint192(e){return O(e,192)}static uint200(e){return O(e,200)}static uint208(e){return O(e,208)}static uint216(e){return O(e,216)}static uint224(e){return O(e,224)}static uint232(e){return O(e,232)}static uint240(e){return O(e,240)}static uint248(e){return O(e,248)}static uint256(e){return O(e,256)}static uint(e){return O(e,256)}static int8(e){return O(e,-8)}static int16(e){return O(e,-16)}static int24(e){return O(e,-24)}static int32(e){return O(e,-32)}static int40(e){return O(e,-40)}static int48(e){return O(e,-48)}static int56(e){return O(e,-56)}static int64(e){return O(e,-64)}static int72(e){return O(e,-72)}static int80(e){return O(e,-80)}static int88(e){return O(e,-88)}static int96(e){return O(e,-96)}static int104(e){return O(e,-104)}static int112(e){return O(e,-112)}static int120(e){return O(e,-120)}static int128(e){return O(e,-128)}static int136(e){return O(e,-136)}static int144(e){return O(e,-144)}static int152(e){return O(e,-152)}static int160(e){return O(e,-160)}static int168(e){return O(e,-168)}static int176(e){return O(e,-176)}static int184(e){return O(e,-184)}static int192(e){return O(e,-192)}static int200(e){return O(e,-200)}static int208(e){return O(e,-208)}static int216(e){return O(e,-216)}static int224(e){return O(e,-224)}static int232(e){return O(e,-232)}static int240(e){return O(e,-240)}static int248(e){return O(e,-248)}static int256(e){return O(e,-256)}static int(e){return O(e,-256)}static bytes1(e){return ee(e,1)}static bytes2(e){return ee(e,2)}static bytes3(e){return ee(e,3)}static bytes4(e){return ee(e,4)}static bytes5(e){return ee(e,5)}static bytes6(e){return ee(e,6)}static bytes7(e){return ee(e,7)}static bytes8(e){return ee(e,8)}static bytes9(e){return ee(e,9)}static bytes10(e){return ee(e,10)}static bytes11(e){return ee(e,11)}static bytes12(e){return ee(e,12)}static bytes13(e){return ee(e,13)}static bytes14(e){return ee(e,14)}static bytes15(e){return ee(e,15)}static bytes16(e){return ee(e,16)}static bytes17(e){return ee(e,17)}static bytes18(e){return ee(e,18)}static bytes19(e){return ee(e,19)}static bytes20(e){return ee(e,20)}static bytes21(e){return ee(e,21)}static bytes22(e){return ee(e,22)}static bytes23(e){return ee(e,23)}static bytes24(e){return ee(e,24)}static bytes25(e){return ee(e,25)}static bytes26(e){return ee(e,26)}static bytes27(e){return ee(e,27)}static bytes28(e){return ee(e,28)}static bytes29(e){return ee(e,29)}static bytes30(e){return ee(e,30)}static bytes31(e){return ee(e,31)}static bytes32(e){return ee(e,32)}static address(e){return new n(Ct,"address",e)}static bool(e){return new n(Ct,"bool",!!e)}static bytes(e){return new n(Ct,"bytes",e)}static string(e){return new n(Ct,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new n(Ct,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===jf}static dereference(e,t){if(n.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};var yo=class extends Pe{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=ie.dereference(t,"string");try{r=U(r)}catch(s){return this._throwError(s.message,t)}return e.writeValue(r)}decode(e){return U(Ce(e.readValue(),20))}};var wo=class extends Pe{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}};function Ac(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let c={};r=e.map(l=>{let f=l.localName;return m(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),m(!c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),c[f]=!0,t[f]})}else d(!1,"invalid tuple value","tuple",t);d(e.length===r.length,"types/value length mismatch","tuple",t);let s=new an,i=new an,o=[];e.forEach((c,l)=>{let f=r[l];if(c.dynamic){let u=i.length;c.encode(i,f);let h=s.writeUpdatableValue();o.push(p=>{h(p+u)})}else c.encode(s,f)}),o.forEach(c=>{c(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(i),a}function Ec(n,e){let t=[],r=[],s=n.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=n.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if($(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(n)}catch(a){if($(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),r.push(i.localName||null)}),Et.fromItems(t,r)}var Ao=class extends Pe{coder;length;constructor(e,t,r){let s=e.type+"["+(t>=0?t:"")+"]",i=t===-1||e.dynamic;super("array",s,r,i),E(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=ie.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;s===-1&&(s=r.length,e.writeValue(r.length)),en(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<r.length;o++)i.push(this.coder);return Ac(e,i,r)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),m(t*Oe<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Oe,length:e.dataLength}));let r=[];for(let s=0;s<t;s++)r.push(new wo(this.coder));return Ec(e,r)}};var Eo=class extends Pe{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=ie.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}};var si=class extends Pe{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=fe(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}},ko=class extends si{constructor(e){super("bytes",e)}decode(e){return w(super.decode(e))}};var No=class extends Pe{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),E(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=fe(ie.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return w(e.readBytes(this.size))}};var Ux=new Uint8Array([]),Po=class extends Pe{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(Ux)}decode(e){return e.readBytes(0),null}};var Lx=BigInt(0),Dx=BigInt(1),Fx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),To=class extends Pe{size;signed;constructor(e,t,r){let s=(t?"int":"uint")+e*8;super(s,s,r,!1),E(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=N(ie.dereference(t,this.type)),s=et(Fx,Oe*8);if(this.signed){let i=et(s,this.size*8-1);(r>i||r<-(i+Dx))&&this._throwError("value out-of-bounds",t),r=Zt(r,8*Oe)}else(r<Lx||r>et(s,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=et(e.readValue(),this.size*8);return this.signed&&(t=qt(t,this.size*8)),t}};var Io=class extends si{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,te(ie.dereference(t,"string")))}decode(e){return Qe(super.decode(e))}};var mn=class extends Pe{coders;constructor(e,t){let r=!1,s=[];e.forEach(o=>{o.dynamic&&(r=!0),s.push(o.type)});let i="tuple("+s.join(",")+")";super("tuple",i,t,r),E(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});let t=this.coders.reduce((r,s)=>{let i=s.localName;return i&&(r[i]||(r[i]=0),r[i]++),r},{});return this.coders.forEach((r,s)=>{let i=r.localName;!i||t[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,t){let r=ie.dereference(t,"tuple");return Ac(e,this.coders,r)}decode(e){return Ec(e,this.coders)}};function kc(n,e){return{address:U(n),storageKeys:e.map((t,r)=>(d(G(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Le(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(d(t.length===2,"invalid slot set",`value[${r}]`,t),kc(t[0],t[1])):(d(t!=null&&typeof t=="object","invalid address-slot set","value",n),kc(t.address,t.storageKeys)));d(n!=null&&typeof n=="object","invalid access list","value",n);let e=Object.keys(n).map(t=>{let r=n[t].reduce((s,i)=>(s[i]=!0,s),{});return kc(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function gn(n){return{address:U(n.address),nonce:N(n.nonce!=null?n.nonce:0),chainId:N(n.chainId!=null?n.chainId:0),signature:ke.from(n.signature)}}function Rt(n){let e;return typeof n=="string"?e=Ue.computePublicKey(n,!1):e=n.publicKey,U(M("0x"+e.substring(4)).substring(26))}function St(n,e){return Rt(Ue.recoverPublicKey(n,e))}var Re=BigInt(0),Mx=BigInt(2),_x=BigInt(27),Hx=BigInt(28),Gx=BigInt(35),Vx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Kx=Symbol.for("nodejs.util.inspect.custom"),Nc=4096*32,Bo=128;function zx(n){return{blobToKzgCommitment:r=>{if("computeBlobProof"in n){if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return A(n.blobToKzgCommitment(w(r)))}else if("blobToKzgCommitment"in n&&typeof n.blobToKzgCommitment=="function")return A(n.blobToKzgCommitment(r));if("blobToKZGCommitment"in n&&typeof n.blobToKZGCommitment=="function")return A(n.blobToKZGCommitment(w(r)));d(!1,"unsupported KZG library","kzg",n)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in n&&typeof n.computeBlobProof=="function")return A(n.computeBlobProof(w(r),w(s)));if("computeBlobKzgProof"in n&&typeof n.computeBlobKzgProof=="function")return n.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in n&&typeof n.computeBlobKZGProof=="function")return A(n.computeBlobKZGProof(w(r),w(s)));d(!1,"unsupported KZG library","kzg",n)}}}function qf(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=Ee(e).substring(4),"0x"+t}function ds(n){return n==="0x"?null:U(n)}function vo(n,e){try{return Le(n)}catch(t){d(!1,t.message,e,n)}}function Qx(n,e){try{if(!Array.isArray(n))throw new Error("authorizationList: invalid array");let t=[];for(let r=0;r<n.length;r++){let s=n[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);t.push({address:ds(s[1]),nonce:oe(s[2],"nonce"),chainId:oe(s[0],"chainId"),signature:ke.from({yParity:bn(s[3],"yParity"),r:Ae(s[4],32),s:Ae(s[5],32)})})}return t}catch(t){d(!1,t.message,e,n)}}function bn(n,e){return n==="0x"?0:S(n,e)}function oe(n,e){if(n==="0x")return Re;let t=N(n,e);return d(t<=Vx,"value exceeds uint size",e,t),t}function W(n,e){let t=N(n,"value"),r=q(t);return d(r.length<=32,"value too large",`tx.${e}`,t),r}function Co(n){return Le(n).map(e=>[e.address,e.storageKeys])}function Jx(n){return n.map(e=>[W(e.chainId,"chainId"),e.address,W(e.nonce,"nonce"),W(e.signature.yParity,"yParity"),q(e.signature.r),q(e.signature._s)])}function Wx(n,e){d(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)d(G(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function jx(n){let e=$t(n);d(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);let t={type:0,nonce:bn(e[0],"nonce"),gasPrice:oe(e[1],"gasPrice"),gasLimit:oe(e[2],"gasLimit"),to:ds(e[3]),value:oe(e[4],"value"),data:w(e[5]),chainId:Re};if(e.length===6)return t;let r=oe(e[6],"v"),s=oe(e[7],"r"),i=oe(e[8],"s");if(s===Re&&i===Re)t.chainId=r;else{let o=(r-Gx)/Mx;o<Re&&(o=Re),t.chainId=o,d(o!==Re||r===_x||r===Hx,"non-canonical legacy v","v",e[6]),t.signature=ke.from({r:Ae(e[7],32),s:Ae(e[8],32),v:r})}return t}function qx(n,e){let t=[W(n.nonce,"nonce"),W(n.gasPrice||0,"gasPrice"),W(n.gasLimit,"gasLimit"),n.to||"0x",W(n.value,"value"),n.data],r=Re;if(n.chainId!=Re)r=N(n.chainId,"tx.chainId"),d(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){let i=n.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==Re&&(t.push(q(r)),t.push("0x"),t.push("0x")),Ge(t);let s=BigInt(27+e.yParity);return r!==Re?s=ke.getChainIdV(r,e.v):BigInt(e.v)!==s&&d(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(q(s)),t.push(q(e.r)),t.push(q(e._s)),Ge(t)}function Ro(n,e){let t;try{if(t=bn(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{d(!1,"invalid yParity","yParity",e[0])}let r=Ae(e[1],32),s=Ae(e[2],32),i=ke.from({r,s,yParity:t});n.signature=i}function Zx(n){let e=$t(A(n).slice(1));d(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",w(n));let t={type:2,chainId:oe(e[0],"chainId"),nonce:bn(e[1],"nonce"),maxPriorityFeePerGas:oe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:oe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:oe(e[4],"gasLimit"),to:ds(e[5]),value:oe(e[6],"value"),data:w(e[7]),accessList:vo(e[8],"accessList")};return e.length===9||Ro(t,e.slice(9)),t}function Yx(n,e){let t=[W(n.chainId,"chainId"),W(n.nonce,"nonce"),W(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),W(n.maxFeePerGas||0,"maxFeePerGas"),W(n.gasLimit,"gasLimit"),n.to||"0x",W(n.value,"value"),n.data,Co(n.accessList||[])];return e&&(t.push(W(e.yParity,"yParity")),t.push(q(e.r)),t.push(q(e.s))),D(["0x02",Ge(t)])}function $x(n){let e=$t(A(n).slice(1));d(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",w(n));let t={type:1,chainId:oe(e[0],"chainId"),nonce:bn(e[1],"nonce"),gasPrice:oe(e[2],"gasPrice"),gasLimit:oe(e[3],"gasLimit"),to:ds(e[4]),value:oe(e[5],"value"),data:w(e[6]),accessList:vo(e[7],"accessList")};return e.length===8||Ro(t,e.slice(8)),t}function Xx(n,e){let t=[W(n.chainId,"chainId"),W(n.nonce,"nonce"),W(n.gasPrice||0,"gasPrice"),W(n.gasLimit,"gasLimit"),n.to||"0x",W(n.value,"value"),n.data,Co(n.accessList||[])];return e&&(t.push(W(e.yParity,"recoveryParam")),t.push(q(e.r)),t.push(q(e.s))),D(["0x01",Ge(t)])}function em(n){let e=$t(A(n).slice(1)),t="3",r=null,s=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";let o=e[1],a=e[2],c=e[3];d(Array.isArray(o),"invalid network format: blobs not an array","fields[1]",o),d(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),d(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),d(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),d(o.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<e[1].length;l++)s.push({data:o[l],commitment:a[l],proof:c[l]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){t="3 (EIP-7594 network format)",r=S(e[1]);let o=e[2],a=e[3],c=e[4];d(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),d(Array.isArray(o),"invalid EIP-7594 network format: blobs not an array","fields[2]",o),d(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),d(Array.isArray(c),"invalid EIP-7594 network format: proofs not an array","fields[4]",c),d(o.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),d(o.length*Bo===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let l=0;l<o.length;l++){let f=[];for(let u=0;u<Bo;u++)f.push(c[l*Bo+u]);s.push({data:o[l],commitment:a[l],proof:D(f)})}e=e[0]}d(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",w(n));let i={type:3,chainId:oe(e[0],"chainId"),nonce:bn(e[1],"nonce"),maxPriorityFeePerGas:oe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:oe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:oe(e[4],"gasLimit"),to:ds(e[5]),value:oe(e[6],"value"),data:w(e[7]),accessList:vo(e[8],"accessList"),maxFeePerBlobGas:oe(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};s&&(i.blobs=s),d(i.to!=null,`invalid address for transaction type: ${t}`,"data",n),d(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let o=0;o<i.blobVersionedHashes.length;o++)d(G(i.blobVersionedHashes[o],32),`invalid blobVersionedHash at index ${o}: must be length 32`,"data",n);return e.length===11||Ro(i,e.slice(11)),i}function tm(n,e,t){let r=[W(n.chainId,"chainId"),W(n.nonce,"nonce"),W(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),W(n.maxFeePerGas||0,"maxFeePerGas"),W(n.gasLimit,"gasLimit"),n.to||vt,W(n.value,"value"),n.data,Co(n.accessList||[]),W(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Wx(n.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(W(e.yParity,"yParity")),r.push(q(e.r)),r.push(q(e.s)),t)){if(n.blobWrapperVersion!=null){let s=q(n.blobWrapperVersion),i=[];for(let{proof:o}of t){let a=A(o),c=a.length/Bo;for(let l=0;l<a.length;l+=c)i.push(a.subarray(l,l+c))}return D(["0x03",Ge([r,s,t.map(o=>o.data),t.map(o=>o.commitment),i])])}return D(["0x03",Ge([r,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])])}return D(["0x03",Ge(r)])}function rm(n){let e=$t(A(n).slice(1));d(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",w(n));let t={type:4,chainId:oe(e[0],"chainId"),nonce:bn(e[1],"nonce"),maxPriorityFeePerGas:oe(e[2],"maxPriorityFeePerGas"),maxFeePerGas:oe(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:oe(e[4],"gasLimit"),to:ds(e[5]),value:oe(e[6],"value"),data:w(e[7]),accessList:vo(e[8],"accessList"),authorizationList:Qx(e[9],"authorizationList")};return e.length===10||Ro(t,e.slice(10)),t}function nm(n,e){let t=[W(n.chainId,"chainId"),W(n.nonce,"nonce"),W(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),W(n.maxFeePerGas||0,"maxFeePerGas"),W(n.gasLimit,"gasLimit"),n.to||"0x",W(n.value,"value"),n.data,Co(n.accessList||[]),Jx(n.authorizationList||[])];return e&&(t.push(W(e.yParity,"yParity")),t.push(q(e.r)),t.push(q(e.s))),D(["0x04",Ge(t)])}var nt=class n{#e;#t;#r;#n;#s;#o;#i;#a;#u;#l;#p;#x;#c;#f;#d;#h;#b;#m;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:d(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#t;return e==null&&this.type===3?vt:e}set to(e){this.#t=e==null?null:U(e)}get nonce(){return this.#n}set nonce(e){this.#n=S(e,"value")}get gasLimit(){return this.#s}set gasLimit(e){this.#s=N(e)}get gasPrice(){let e=this.#o;return e==null&&(this.type===0||this.type===1)?Re:e}set gasPrice(e){this.#o=e==null?null:N(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#i;return e??(this.type===2||this.type===3?Re:null)}set maxPriorityFeePerGas(e){this.#i=e==null?null:N(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#a;return e??(this.type===2||this.type===3?Re:null)}set maxFeePerGas(e){this.#a=e==null?null:N(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=w(e)}get value(){return this.#u}set value(e){this.#u=N(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=N(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:ke.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let t=this.authorizationList;if(t){for(let r of t)if(!r.signature.isValid())return!1}return!0}get accessList(){let e=this.#x||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#x=e==null?null:Le(e)}get authorizationList(){let e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(t=>gn(t))}get maxFeePerBlobGas(){let e=this.#c;return e==null&&this.type===3?Re:e}set maxFeePerBlobGas(e){this.#c=e==null?null:N(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#f;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){d(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)d(G(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#f=e}get blobs(){return this.#h==null?null:this.#h.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#h=null;return}let t=[],r=[];for(let s=0;s<e.length;s++){let i=e[s];if(bt(i)){m(this.#d,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=A(i);if(d(o.length<=Nc,"blob is too large",`blobs[${s}]`,i),o.length!==Nc){let l=new Uint8Array(Nc);l.set(o),o=l}let a=this.#d.blobToKzgCommitment(o),c=w(this.#d.computeBlobKzgProof(o,a));t.push({data:w(o),commitment:w(a),proof:c}),r.push(qf(1,a))}else{let o=w(i.data),a=w(i.commitment),c=w(i.proof);t.push({data:o,commitment:a,proof:c}),r.push(qf(1,a))}}this.#h=t,this.#f=r}get kzg(){return this.#d}set kzg(e){e==null?this.#d=null:this.#d=zx(e)}get blobWrapperVersion(){return this.#m}set blobWrapperVersion(e){this.#m=e}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#s=Re,this.#o=null,this.#i=null,this.#a=null,this.#r="0x",this.#u=Re,this.#l=Re,this.#p=null,this.#x=null,this.#c=null,this.#f=null,this.#d=null,this.#h=null,this.#b=null,this.#m=null}get hash(){return this.signature==null?null:M(this.#g(!0,!1))}get unsignedHash(){return M(this.unsignedSerialized)}get from(){return this.signature==null?null:St(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:Ue.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}#g(e,t){m(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return qx(this,r);case 1:return Xx(this,r);case 2:return Yx(this,r);case 3:return tm(this,r,t?this.blobs:null);case 4:return nm(this,r)}m(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#g(!0,!0)}get unsignedSerialized(){return this.#g(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=this.#c!=null||this.#f;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&m(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),m(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),m(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return n.from(this)}toJSON(){let e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[Kx](){return this.toString()}toString(){let e=[],t=s=>{let i=this[s];typeof i=="string"&&(i=JSON.stringify(i)),e.push(`${s}: ${i}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),this.chainId!=null&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));let r=this.authorizationList;if(r){let s=[];for(let i of r){let o=[];o.push(`address: ${JSON.stringify(i.address)}`),i.nonce!=null&&o.push(`nonce: ${i.nonce}`),i.chainId!=null&&o.push(`chainId: ${i.chainId}`),i.signature&&o.push(`signature: ${i.signature.toString()}`),s.push(`Authorization { ${o.join(", ")} }`)}e.push(`authorizations: [ ${s.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new n;if(typeof e=="string"){let r=A(e);if(r[0]>=127)return n.from(jx(r));switch(r[0]){case 1:return n.from($x(r));case 2:return n.from(Zx(r));case 3:return n.from(em(r));case 4:return n.from(rm(r))}m(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new n;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ke.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobWrapperVersion!=null&&(t.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(d(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),d(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(d(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),d(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};function hs(n){return d(typeof n.address=="string","invalid address for hashAuthorization","auth.address",n),M(D(["0x05",Ge([n.chainId!=null?q(n.chainId):"0x",U(n.address),n.nonce!=null?q(n.nonce):"0x"])]))}function Pc(n,e){return St(hs(n),e)}function De(n){return M(te(n))}var sm="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",Zf=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Yf=4;function im(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),s=1,i=[0,1];for(let T=1;T<r;T++)i.push(s+=t());let o=t(),a=e;e+=o;let c=0,l=0;function f(){return c==0&&(l=l<<8|n[e++],c=8),l>>--c&1}let u=31,h=2**u,p=h>>>1,g=p>>1,x=h-1,b=0;for(let T=0;T<u;T++)b=b<<1|f();let y=[],P=0,k=h;for(;;){let T=Math.floor(((b-P+1)*s-1)/k),B=0,R=r;for(;R-B>1;){let _=B+R>>>1;T<i[_]?R=_:B=_}if(B==0)break;y.push(B);let C=P+Math.floor(k*i[B]/s),K=P+Math.floor(k*i[B+1]/s)-1;for(;!((C^K)&p);)b=b<<1&x|f(),C=C<<1&x,K=K<<1&x|1;for(;C&~K&g;)b=b&p|b<<1&x>>>1|f(),C=C<<1^p,K=(K^p)<<1|p|1;P=C,k=1+K-C}let L=r-4;return y.map(T=>{switch(T-L){case 3:return L+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return L+256+(n[a++]<<8|n[a++]);case 1:return L+n[a++];default:return T-1}})}function om(n){let e=0;return()=>n[e++]}function tu(n){return om(im(am(n)))}function am(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=n.length,r=new Uint8Array(6*t>>3);for(let s=0,i=0,o=0,a=0;s<t;s++)a=a<<6|e[n.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function cm(n){return n&1?~n>>1:n>>1}function lm(n,e){let t=Array(n);for(let r=0,s=0;r<n;r++)t[r]=s+=cm(e());return t}function ai(n,e=0){let t=[];for(;;){let r=n(),s=n();if(!s)break;e+=r;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function ru(n){return ci(()=>{let e=ai(n);if(e.length)return e})}function nu(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(fm(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(um(t,n))}return e.flat()}function ci(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function su(n,e,t){let r=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)lm(n,t).forEach((i,o)=>r[o].push(i));return r}function fm(n,e){let t=1+e(),r=e(),s=ci(e);return su(s.length,1+n,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((f,u)=>{let h=u*r;return[c+u*t,l.map(p=>p+h)]})})}function um(n,e){let t=1+e();return su(t,1+n,e).map(s=>[s[0],s.slice(1)])}function dm(n){let e=[],t=ai(n);return s(r([]),[]),e;function r(i){let o=n(),a=ci(()=>{let c=ai(n).map(l=>t[l]);if(c.length)return r(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let f of l.Q)s(l,[...a,f],c)}}}function hm(n){return n.toString(16).toUpperCase().padStart(2,"0")}function iu(n){return`{${hm(n)}}`}function pm(n){let e=[];for(let t=0,r=n.length;t<r;){let s=n.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function ms(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<t;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function xm(n,e){let t=n.length,r=t-e.length;for(let s=0;r==0&&s<t;s++)r=n[s]-e[s];return r}var mm="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",li=44032,Oo=4352,Uo=4449,Lo=4519,ou=19,au=21,gs=28,Do=au*gs,gm=ou*Do,bm=li+gm,ym=Oo+ou,wm=Uo+au,Am=Lo+gs;function ii(n){return n>>24&255}function cu(n){return n&16777215}var Ic,$f,Bc,So;function Em(){let n=tu(mm);Ic=new Map(ru(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),$f=new Set(ai(n)),Bc=new Map,So=new Map;for(let[e,t]of nu(n)){if(!$f.has(e)&&t.length==2){let[r,s]=t,i=So.get(r);i||(i=new Map,So.set(r,i)),i.set(s,e)}Bc.set(e,t.reverse())}}function lu(n){return n>=li&&n<bm}function km(n,e){if(n>=Oo&&n<ym&&e>=Uo&&e<wm)return li+(n-Oo)*Do+(e-Uo)*gs;if(lu(n)&&e>Lo&&e<Am&&(n-li)%gs==0)return n+(e-Lo);{let t=So.get(n);return t&&(t=t.get(e),t)?t:-1}}function fu(n){Ic||Em();let e=[],t=[],r=!1;function s(i){let o=Ic.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of n)for(;;){if(i<128)e.push(i);else if(lu(i)){let o=i-li,a=o/Do|0,c=o%Do/gs|0,l=o%gs;s(Oo+a),s(Uo+c),l>0&&s(Lo+l)}else{let o=Bc.get(i);o?t.push(...o):s(i)}if(!t.length)break;i=t.pop()}if(r&&e.length>1){let i=ii(e[0]);for(let o=1;o<e.length;o++){let a=ii(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=ii(e[--c]),i<=a))break}i=ii(e[o])}}return e}function Nm(n){let e=[],t=[],r=-1,s=0;for(let i of n){let o=ii(i),a=cu(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...t),t.length=0,r=a):t.push(a),s=o;else{let c=km(r,a);c>=0?r=c:s==0&&o==0?(e.push(r),r=a):(t.push(a),s=o)}}return r>=0&&e.push(r,...t),e}function uu(n){return fu(n).map(cu)}function Pm(n){return Nm(fu(n))}var Xf=45;var du=".",hu=65039,pu=1,Fo=n=>Array.from(n);function fi(n,e){return n.P.has(e)||n.Q.has(e)}var vc=class extends Array{get is_emoji(){return!0}},Cc,xu,wn,Rc,mu,Tm,xs,Tc,ps,yn,eu,Sc;function Oc(){if(Cc)return;let n=tu(sm),e=()=>ai(n),t=()=>new Set(e()),r=(f,u)=>u.forEach(h=>f.add(h));Cc=new Map(nu(n)),xu=t(),wn=e(),Rc=new Set(e().map(f=>wn[f])),wn=new Set(wn),mu=t(),Tm=t();let s=ru(n),i=n(),o=()=>{let f=new Set;return e().forEach(u=>r(f,s[u])),r(f,e()),f};xs=ci(f=>{let u=ci(n).map(h=>h+96);if(u.length){let h=f>=i;u[0]-=32,u=ms(u),h&&(u=`Restricted[${u}]`);let p=o(),g=o(),x=!n();return{N:u,P:p,Q:g,M:x,R:h}}}),Tc=t(),ps=new Map;let a=e().concat(Fo(Tc)).sort((f,u)=>f-u);a.forEach((f,u)=>{let h=n(),p=a[u]=h?a[u-h]:{V:[],M:new Map};p.V.push(f),Tc.has(f)||ps.set(f,p)});for(let{V:f,M:u}of new Set(ps.values())){let h=[];for(let g of f){let x=xs.filter(y=>fi(y,g)),b=h.find(({G:y})=>x.some(P=>y.has(P)));b||(b={G:new Set,V:[]},h.push(b)),b.V.push(g),r(b.G,x)}let p=h.flatMap(g=>Fo(g.G));for(let{G:g,V:x}of h){let b=new Set(p.filter(y=>!g.has(y)));for(let y of x)u.set(y,b)}}yn=new Set;let c=new Set,l=f=>yn.has(f)?c.add(f):yn.add(f);for(let f of xs){for(let u of f.P)l(u);for(let u of f.Q)l(u)}for(let f of yn)!ps.has(f)&&!c.has(f)&&ps.set(f,pu);r(yn,uu(yn)),eu=dm(n).map(f=>vc.from(f)).sort(xm),Sc=new Map;for(let f of eu){let u=[Sc];for(let h of f){let p=u.map(g=>{let x=g.get(h);return x||(x=new Map,g.set(h,x)),x});h===hu?u.push(...p):u=p}for(let h of u)h.V=f}}function Uc(n){return(gu(n)?"":`${Lc(Mo([n]))} `)+iu(n)}function Lc(n){return`"${n}"\u200E`}function Im(n){if(n.length>=4&&n[2]==Xf&&n[3]==Xf)throw new Error(`invalid label extension: "${ms(n.slice(0,4))}"`)}function Bm(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function vm(n){let e=n[0],t=Zf.get(e);if(t)throw oi(`leading ${t}`);let r=n.length,s=-1;for(let i=1;i<r;i++){e=n[i];let o=Zf.get(e);if(o){if(s==i)throw oi(`${t} + ${o}`);s=i+1,t=o}}if(s==r)throw oi(`trailing ${t}`)}function Mo(n,e=1/0,t=iu){let r=[];Cm(n[0])&&r.push("\u25CC"),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,i=n.length;for(let o=0;o<i;o++){let a=n[o];gu(a)&&(r.push(ms(n.slice(s,o))),r.push(t(a)),s=o+1)}return r.push(ms(n.slice(s,i))),r.join("")}function Cm(n){return Oc(),wn.has(n)}function gu(n){return Oc(),mu.has(n)}function bu(n){return Um(Rm(n,Pm,Fm))}function Rm(n,e,t){if(!n)return[];Oc();let r=0;return n.split(du).map(s=>{let i=pm(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=Dm(i,e,t),c=a.length,l;if(!c)throw new Error("empty label");let f=o.output=a.flat();if(Bm(f),!(o.emoji=c>1||a[0].is_emoji)&&f.every(h=>h<128))Im(f),l="ASCII";else{let h=a.flatMap(p=>p.is_emoji?[]:p);if(!h.length)l="Emoji";else{if(wn.has(f[0]))throw oi("leading combining mark");for(let x=1;x<c;x++){let b=a[x];if(!b.is_emoji&&wn.has(b[0]))throw oi(`emoji + combining mark: "${ms(a[x-1])} + ${Mo([b[0]])}"`)}vm(f);let p=Fo(new Set(h)),[g]=Om(p);Lm(g,h),Sm(g,p),l=g.N}}o.type=l}catch(a){o.error=a}return o})}function Sm(n,e){let t,r=[];for(let s of e){let i=ps.get(s);if(i===pu)return;if(i){let o=i.M.get(s);if(t=t?t.filter(a=>o.has(a)):Fo(o),!t.length)return}else r.push(s)}if(t){for(let s of t)if(r.every(i=>fi(s,i)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function Om(n){let e=xs;for(let t of n){let r=e.filter(s=>fi(s,t));if(!r.length)throw xs.some(s=>fi(s,t))?wu(e[0],t):yu(t);if(e=r,r.length==1)break}return e}function Um(n){return n.map(({input:e,error:t,output:r})=>{if(t){let s=t.message;throw new Error(n.length==1?s:`Invalid label ${Lc(Mo(e,63))}: ${s}`)}return ms(r)}).join(du)}function yu(n){return new Error(`disallowed character: ${Uc(n)}`)}function wu(n,e){let t=Uc(e),r=xs.find(s=>s.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function oi(n){return new Error(`illegal placement: ${n}`)}function Lm(n,e){for(let t of e)if(!fi(n,t))throw wu(n,t);if(n.M){let t=uu(e);for(let r=1,s=t.length;r<s;r++)if(Rc.has(t[r])){let i=r+1;for(let o;i<s&&Rc.has(o=t[i]);i++)for(let a=r;a<i;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${Uc(o)}`);if(i-r>Yf)throw new Error(`excessive non-spacing marks: ${Lc(Mo(t.slice(r-1,i)))} (${i-r}/${Yf})`);r=i}}}function Dm(n,e,t){let r=[],s=[];for(n=n.slice().reverse();n.length;){let i=Mm(n);if(i)s.length&&(r.push(e(s)),s=[]),r.push(t(i));else{let o=n.pop();if(yn.has(o))s.push(o);else{let a=Cc.get(o);if(a)s.push(...a);else if(!xu.has(o))throw yu(o)}}}return s.length&&r.push(e(s)),r}function Fm(n){return n.filter(e=>e!=hu)}function Mm(n,e){let t=Sc,r,s=n.length;for(;s&&(t=t.get(n[--s]),!!t);){let{V:i}=t;i&&(r=i,e&&e.push(...n.slice(s).reverse()),n.length=s)}return r}var Eu=new Uint8Array(32);Eu.fill(0);function Au(n){return d(n.length!==0,"invalid ENS name; empty component","comp",n),n}function Dc(n){let e=te(_o(n)),t=[];if(n.length===0)return t;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(Au(e.slice(r,s))),r=s+1);return d(r<e.length,"invalid ENS name; empty component","name",n),t.push(Au(e.slice(r))),t}function _o(n){try{if(n.length===0)throw new Error("empty label");return bu(n)}catch(e){d(!1,`invalid ENS name (${e.message})`,"name",n)}}function Fc(n){try{return Dc(n).length!==0}catch{}return!1}function Or(n){d(typeof n=="string","invalid ENS name; not a string","name",n),d(n.length,"invalid ENS name (empty label)","name",n);let e=Eu,t=Dc(n);for(;t.length;)e=M(D([e,M(t.pop())]));return w(e)}function ui(n,e){let t=e??63;return d(t<=255,"DNS encoded label cannot exceed 255","length",t),w(D(Dc(n).map(r=>{d(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);let s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}function bs(n){return typeof n=="string"&&(n=te(n)),M(D([te(ni),te(String(n.length)),n]))}function Mc(n,e){let t=bs(n);return St(t,e)}var _m=new RegExp("^bytes([0-9]+)$"),Hm=new RegExp("^(u?int)([0-9]*)$"),Gm=new RegExp("^(.*)\\[([0-9]*)\\]$");function ku(n,e,t){switch(n){case"address":return t?A(Ae(e,32)):A(U(e));case"string":return te(e);case"bytes":return A(e);case"bool":return e=e?"0x01":"0x00",t?A(Ae(e,32)):A(e)}let r=n.match(Hm);if(r){let s=r[1]==="int",i=parseInt(r[2]||"256");return d((!r[2]||r[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",n),t&&(i=256),s&&(e=Zt(e,i)),A(Ae(q(e),i/8))}if(r=n.match(_m),r){let s=parseInt(r[1]);return d(String(s)===r[1]&&s!==0&&s<=32,"invalid bytes type","type",n),d(qe(e)===s,`invalid value for ${n}`,"value",e),t?A(jt(e,32)):e}if(r=n.match(Gm),r&&Array.isArray(e)){let s=r[1],i=parseInt(r[2]||String(e.length));d(i===e.length,`invalid array length for ${n}`,"value",e);let o=[];return e.forEach(function(a){o.push(ku(s,a,!0))}),A(D(o))}d(!1,"invalid type","type",n)}function di(n,e){d(n.length===e.length,"wrong number of values; expected ${ types.length }","values",e);let t=[];return n.forEach(function(r,s){t.push(ku(r,e[s]))}),w(D(t))}function _c(n,e){return M(di(n,e))}function Hc(n,e){return Ee(di(n,e))}var Iu=new Uint8Array(32);Iu.fill(0);var Vm=BigInt(-1),Bu=BigInt(0),vu=BigInt(1),Km=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function zm(n){let e=A(n),t=e.length%32;return t?D([e,Iu.slice(t)]):w(e)}var Qm=Ce(vu,32),Jm=Ce(Bu,32),Nu={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Gc=["name","version","chainId","verifyingContract","salt"];function Pu(n){return function(e){return d(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}var Wm={name:Pu("name"),version:Pu("version"),chainId:function(n){let e=N(n,"domain.chainId");return d(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):Ie(e)},verifyingContract:function(n){try{return U(n).toLowerCase()}catch{}d(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){let e=A(n,"domain.salt");return d(e.length===32,'invalid domain value "salt"',"domain.salt",n),w(e)}};function Vc(n){{let e=n.match(/^(u?)int(\d+)$/);if(e){let t=e[1]==="",r=parseInt(e[2]);d(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);let s=et(Km,t?r-1:r),i=t?(s+vu)*Vm:Bu;return function(o){let a=N(o,"value");return d(a>=i&&a<=s,`value out-of-bounds for ${n}`,"value",a),Ce(t?Zt(a,256):a,32)}}}{let e=n.match(/^bytes(\d+)$/);if(e){let t=parseInt(e[1]);return d(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){let s=A(r);return d(s.length===t,`invalid length for ${n}`,"value",r),zm(r)}}}switch(n){case"address":return function(e){return Ae(U(e),32)};case"bool":return function(e){return e?Qm:Jm};case"bytes":return function(e){return M(e)};case"string":return function(e){return De(e)}}return null}function Tu(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function Ho(n){let e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var ct=class n{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;let t=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:f})=>{let{base:u,index:h}=Ho(f);return u==="int"&&!e.int&&(u="int256"),u==="uint"&&!e.uint&&(u="uint256"),{name:l,type:u+(h||"")}}),t.set(c,new Set),r.set(c,[]),s.set(c,new Set)}),this.#e=JSON.stringify(i);for(let c in i){let l=new Set;for(let f of i[c]){d(!l.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),l.add(f.name);let u=Ho(f.type).base;d(u!==c,`circular type reference to ${JSON.stringify(u)}`,"types",e),!Vc(u)&&(d(r.has(u),`unknown type ${JSON.stringify(u)}`,"types",e),r.get(u).push(c),t.get(c).add(u))}}let o=Array.from(r.keys()).filter(c=>r.get(c).length===0);d(o.length!==0,"missing primary type","types",e),d(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),E(this,{primaryType:o[0]});function a(c,l){d(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(let f of t.get(c))if(r.has(f)){a(f,l);for(let u of l)s.get(u).add(f)}l.delete(c)}a(this.primaryType,new Set);for(let[c,l]of s){let f=Array.from(l);f.sort(),this.#t.set(c,Tu(c,i[c])+f.map(u=>Tu(u,i[u])).join(""))}}getEncoder(e){let t=this.#r.get(e);return t||(t=this.#n(e),this.#r.set(e,t)),t}#n(e){{let s=Vc(e);if(s)return s}let t=Ho(e).array;if(t){let s=t.prefix,i=this.getEncoder(s);return o=>{d(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return this.#t.has(s)&&(a=a.map(M)),M(D(a))}}let r=this.types[e];if(r){let s=De(this.#t.get(e));return i=>{let o=r.map(({name:a,type:c})=>{let l=this.getEncoder(c)(i[a]);return this.#t.has(c)?M(l):l});return o.unshift(s),D(o)}}d(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#t.get(e);return d(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return M(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Vc(e))return r(e,t);let s=Ho(e).array;if(s)return d(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,r));let i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],r),o),{});d(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new n(e)}static getPrimaryType(e){return n.from(e).primaryType}static hashStruct(e,t,r){return n.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(e[r]==null)continue;let s=Nu[r];d(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort((r,s)=>Gc.indexOf(r.name)-Gc.indexOf(s.name)),n.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return D(["0x1901",n.hashDomain(e),n.from(t).hash(r)])}static hash(e,t,r){return M(n.encode(e,t,r))}static async resolveNames(e,t,r,s){e=Object.assign({},e);for(let a in e)e[a]==null&&delete e[a];let i={};e.verifyingContract&&!G(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let o=n.from(t);o.visit(r,(a,c)=>(a==="address"&&!G(c,20)&&(i[c]="0x"),c));for(let a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:r}}static getPayload(e,t,r){n.hashDomain(e);let s={},i=[];Gc.forEach(c=>{let l=e[c];l!=null&&(s[c]=Wm[c](l),i.push({name:c,type:Nu[c]}))});let o=n.from(t);t=o.types;let a=Object.assign({},t);return d(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return w(A(l));if(c.match(/^u?int/))return N(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return d(typeof l=="string","invalid string","value",l),l}d(!1,"unsupported type","type",c)})}}};function Kc(n,e,t,r){return St(ct.hash(n,e,t),r)}function We(n){let e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}var jm="external public payable override",qm=We(jm.split(" ")),_u="constant external internal payable private public pure view override",Zm=We(_u.split(" ")),Hu="constructor error event fallback function receive struct",Gu=We(Hu.split(" ")),Vu="calldata memory storage payable indexed",Ym=We(Vu.split(" ")),$m="tuple returns",Xm=[Hu,Vu,$m,_u].join(" "),eg=We(Xm.split(" ")),tg={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},rg=new RegExp("^(\\s*)"),ng=new RegExp("^([0-9]+)"),sg=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Ku=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),zu=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Ot=class n{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new n(this.#t)}reset(){this.#e=0}#r(e=0,t=0){return new n(this.#t.slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))}popKeyword(e){let t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){let e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");let t=[];for(;this.#e<e.match-1;){let r=this.peek().linkNext;t.push(this.#r(this.#e+1,r)),this.#e=r}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){let t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#e++,e}toString(){let e=[];for(let t=this.#e;t<this.#t.length;t++){let r=this.#t[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};function Lr(n){let e=[],t=o=>{let a=i<n.length?JSON.stringify(n[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)},r=[],s=[],i=0;for(;i<n.length;){let o=n.substring(i),a=o.match(rg);a&&(i+=a[1].length,o=n.substring(i));let c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=tg[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){let u=e.pop().text;f=u+f,e[e.length-1].value=S(u)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(a=o.match(sg),a){if(c.text=a[1],i+=c.text.length,eg.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(zu)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(ng),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Ot(e.map(o=>Object.freeze(o)))}function Cu(n,e){let t=[];for(let r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Go(n,e){if(e.peekKeyword(Gu)){let t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function ir(n,e){let t=new Set;for(;;){let r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function Qu(n){let e=ir(n,Zm);return Cu(e,We("constant payable nonpayable".split(" "))),Cu(e,We("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function sr(n,e){return n.popParams().map(t=>ye.from(t,e))}function Ju(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return N(n.pop().text);throw new Error("invalid gas")}return null}function An(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}var ig=new RegExp(/^(.*)\[([0-9]*)\]$/);function Ru(n){let e=n.match(zu);if(d(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){let t=parseInt(e[2]);d(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){let t=parseInt(e[3]);d(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}var me={},Ze=Symbol.for("_ethers_internal"),Su="_ParamTypeInternal",Ou="_ErrorInternal",Uu="_EventInternal",Lu="_ConstructorInternal",Du="_FallbackInternal",Fu="_FunctionInternal",Mu="_StructInternal",ye=class n{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,s,i,o,a,c){if(Se(e,me,"ParamType"),Object.defineProperty(this,Ze,{value:Su}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");E(this,{name:t,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){let r=this.name||"";if(this.isArray()){let i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}let s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");let r=this;return e.map(s=>r.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");let r=this;return e.map((s,i)=>r.components[i].walk(s,t))}return t(this.type,e)}#e(e,t,r,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");let o=this.arrayChildren,a=t.slice();a.forEach((c,l)=>{o.#e(e,c,r,f=>{a[l]=f})}),s(a);return}if(this.isTuple()){let o=this.components,a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{o[l].#e(e,c,r,f=>{a[l]=f})}),s(a);return}let i=r(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)}async walkAsync(e,t){let r=[],s=[e];return this.#e(r,e,t,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,t){if(n.isParamType(e))return e;if(typeof e=="string")try{return n.from(Lr(e),t)}catch{d(!1,"invalid param type","obj",e)}else if(e instanceof Ot){let a="",c="",l=null;ir(e,We(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(x=>n.from(x)),a=`tuple(${l.map(x=>x.format()).join(",")})`):(a=Ru(e.popType("TYPE")),c=a);let f=null,u=null;for(;e.length&&e.peekType("BRACKET");){let x=e.pop();f=new n(me,"",a,c,null,l,u,f),u=x.value,a+=x.text,c="array",l=null}let h=null;if(ir(e,Ym).has("indexed")){if(!t)throw new Error("");h=!0}let g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new n(me,g,a,c,h,l,u,f)}let r=e.name;d(!r||typeof r=="string"&&r.match(Ku),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(d(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(ig);if(o){let a=parseInt(o[2]||"-1"),c=n.from({type:o[1],components:e.components});return new n(me,r||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){let a=e.components!=null?e.components.map(l=>n.from(l)):null;return new n(me,r||"",i,"tuple",s,a,null,null)}return i=Ru(e.type),new n(me,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Ze]===Su}},Gt=class n{type;inputs;constructor(e,t,r){Se(e,me,"Fragment"),r=Object.freeze(r.slice()),E(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{n.from(JSON.parse(e))}catch{}return n.from(Lr(e))}if(e instanceof Ot)switch(e.peekKeyword(Gu)){case"constructor":return _t.from(e);case"error":return je.from(e);case"event":return Mt.from(e);case"fallback":case"receive":return En.from(e);case"function":return Ht.from(e);case"struct":return Ur.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return _t.from(e);case"error":return je.from(e);case"event":return Mt.from(e);case"fallback":case"receive":return En.from(e);case"function":return Ht.from(e);case"struct":return Ur.from(e)}m(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}d(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return _t.isFragment(e)}static isError(e){return je.isFragment(e)}static isEvent(e){return Mt.isFragment(e)}static isFunction(e){return Ht.isFragment(e)}static isStruct(e){return Ur.isFragment(e)}},or=class extends Gt{name;constructor(e,t,r,s){super(e,t,s),d(typeof r=="string"&&r.match(Ku),"invalid identifier","name",r),s=Object.freeze(s.slice()),E(this,{name:r})}};function hi(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}var je=class n extends or{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Ze,{value:Ou})}get selector(){return De(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+hi(e,this.inputs)),t.join(" ")}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")return n.from(Lr(e));if(e instanceof Ot){let t=Go("error",e),r=sr(e);return An(e),new n(me,t,r)}return new n(me,e.name,e.inputs?e.inputs.map(ye.from):[])}static isFragment(e){return e&&e[Ze]===Ou}},Mt=class n extends or{anonymous;constructor(e,t,r,s){super(e,"event",t,r),Object.defineProperty(this,Ze,{value:Uu}),E(this,{anonymous:s})}get topicHash(){return De(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+hi(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(s=>ye.from(s)),new n(me,e,t,!1).topicHash}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(Lr(e))}catch{d(!1,"invalid event fragment","obj",e)}else if(e instanceof Ot){let t=Go("event",e),r=sr(e,!0),s=!!ir(e,We(["anonymous"])).has("anonymous");return An(e),new n(me,t,r,s)}return new n(me,e.name,e.inputs?e.inputs.map(t=>ye.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[Ze]===Uu}},_t=class n extends Gt{payable;gas;constructor(e,t,r,s,i){super(e,t,r),Object.defineProperty(this,Ze,{value:Lu}),E(this,{payable:s,gas:i})}format(e){if(m(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t=[`constructor${hi(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(Lr(e))}catch{d(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Ot){ir(e,We(["constructor"]));let t=sr(e),r=!!ir(e,qm).has("payable"),s=Ju(e);return An(e),new n(me,"constructor",t,r,s)}return new n(me,"constructor",e.inputs?e.inputs.map(ye.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ze]===Lu}},En=class n extends Gt{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,Ze,{value:Du}),E(this,{payable:r})}format(e){let t=this.inputs.length===0?"receive":"fallback";if(e==="json"){let r=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:r})}return`${t}()${this.payable?" payable":""}`}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(Lr(e))}catch{d(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Ot){let t=e.toString(),r=e.peekKeyword(We(["fallback","receive"]));if(d(r,"type must be fallback or receive","obj",t),e.popKeyword(We(["fallback","receive"]))==="receive"){let a=sr(e);return d(a.length===0,"receive cannot have arguments","obj.inputs",a),ir(e,We(["payable"])),An(e),new n(me,[],!0)}let i=sr(e);i.length?d(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(a=>a.format("minimal")).join(", ")):i=[ye.from("bytes")];let o=Qu(e);if(d(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),ir(e,We(["returns"])).has("returns")){let a=sr(e);d(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return An(e),new n(me,i,o==="payable")}if(e.type==="receive")return new n(me,[],!0);if(e.type==="fallback"){let t=[ye.from("bytes")],r=e.stateMutability==="payable";return new n(me,t,r)}d(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[Ze]===Du}},Ht=class n extends or{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,s,i,o){super(e,"function",t,s),Object.defineProperty(this,Ze,{value:Fu}),i=Object.freeze(i.slice()),E(this,{constant:r==="view"||r==="pure",gas:o,outputs:i,payable:r==="payable",stateMutability:r})}get selector(){return De(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+hi(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(hi(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(s=>ye.from(s)),new n(me,e,"view",t,[],null).selector}static from(e){if(n.isFragment(e))return e;if(typeof e=="string")try{return n.from(Lr(e))}catch{d(!1,"invalid function fragment","obj",e)}else if(e instanceof Ot){let r=Go("function",e),s=sr(e),i=Qu(e),o=[];ir(e,We(["returns"])).has("returns")&&(o=sr(e));let a=Ju(e);return An(e),new n(me,r,i,s,o,a)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new n(me,e.name,t,e.inputs?e.inputs.map(ye.from):[],e.outputs?e.outputs.map(ye.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[Ze]===Fu}},Ur=class n extends or{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Ze,{value:Mu})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return n.from(Lr(e))}catch{d(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ot){let t=Go("struct",e),r=sr(e);return An(e),new n(me,t,r)}return new n(me,e.name,e.inputs?e.inputs.map(ye.from):[])}static isFragment(e){return e&&e[Ze]===Mu}};var Ut=new Map;Ut.set(0,"GENERIC_PANIC");Ut.set(1,"ASSERT_FALSE");Ut.set(17,"OVERFLOW");Ut.set(18,"DIVIDE_BY_ZERO");Ut.set(33,"ENUM_RANGE_ERROR");Ut.set(34,"BAD_STORAGE_DATA");Ut.set(49,"STACK_UNDERFLOW");Ut.set(50,"ARRAY_RANGE_ERROR");Ut.set(65,"OUT_OF_MEMORY");Ut.set(81,"UNINITIALIZED_FUNCTION_CALL");var og=new RegExp(/^bytes([0-9]*)$/),ag=new RegExp(/^(u?int)([0-9]*)$/),zc=null,Wu=1024;function cg(n,e,t,r){let s="missing revert data",i=null,o=null,a=null;if(t){s="execution reverted";let l=A(t);if(t=w(t),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(w(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(w(l.slice(0,4))==="0x4e487b71")try{let f=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[f]},i=`Panic due to ${Ut.get(f)||"UNKNOWN"}(${f})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}let c={to:e.to?U(e.to):null,data:e.data||"0x"};return e.from&&(c.from=U(e.from)),z(s,"CALL_EXCEPTION",{action:n,data:t,reason:i,transaction:c,invocation:o,revert:a})}var lt=class n{#e(e){if(e.isArray())return new Ao(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new mn(e.components.map(r=>this.#e(r)),e.name);switch(e.baseType){case"address":return new yo(e.name);case"bool":return new Eo(e.name);case"string":return new Io(e.name);case"bytes":return new ko(e.name);case"":return new Po(e.name)}let t=e.type.match(ag);if(t){let r=parseInt(t[2]||"256");return d(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new To(r/8,t[1]==="int",e.name)}if(t=e.type.match(og),t){let r=parseInt(t[1]);return d(r!==0&&r<=32,"invalid bytes length","param",e),new No(r,e.name)}d(!1,"invalid type","type",e.type)}getDefaultValue(e){let t=e.map(s=>this.#e(ye.from(s)));return new mn(t,"_").defaultValue()}encode(e,t){en(t.length,e.length,"types/values length mismatch");let r=e.map(o=>this.#e(ye.from(o))),s=new mn(r,"_"),i=new an;return s.encode(i,t),i.data}decode(e,t,r){let s=e.map(o=>this.#e(ye.from(o)));return new mn(s,"_").decode(new Xi(t,r,Wu))}static _setDefaultMaxInflation(e){d(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Wu=e}static defaultAbiCoder(){return zc==null&&(zc=new n),zc}static getBuiltinCallException(e,t,r){return cg(e,t,r,n.defaultAbiCoder())}};function Qc(n){let e=te(n);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return jt(e,32)}function Jc(n){let e=A(n,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Qe(e.slice(0,t))}var ys=class{fragment;name;signature;topic;args;constructor(e,t,r){let s=e.name,i=e.format();E(this,{fragment:e,name:s,signature:i,topic:t,args:r})}},ws=class{fragment;name;args;signature;selector;value;constructor(e,t,r,s){let i=e.name,o=e.format();E(this,{fragment:e,name:i,args:r,signature:o,selector:t,value:s})}},As=class{fragment;name;args;signature;selector;constructor(e,t,r){let s=e.name,i=e.format();E(this,{fragment:e,name:s,args:r,signature:i,selector:t})}},kn=class{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){E(this,{hash:e,_isIndexed:!0})}},ju={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},qu={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&ju[n.toString()]&&(e=ju[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}},ar=class n{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;let r=[];for(let o of t)try{r.push(Gt.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}E(this,{fragments:Object.freeze(r)});let s=null,i=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}E(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(d(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}let l=o.format();c.has(l)||c.set(l,o)}),this.deploy||E(this,{deploy:_t.from("constructor()")}),E(this,{fallback:s,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){let e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return lt.defaultAbiCoder()}#s(e,t,r){if(G(e)){let i=e.toLowerCase();for(let o of this.#r.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of this.#r)o.split("(")[0]===e&&i.push(a);if(t){let o=t.length>0?t[t.length-1]:null,a=t.length,c=!0;ie.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){let f=i[l].inputs.length;f!==a&&(!c||f!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){let f=i[l].inputs;for(let u=0;u<t.length;u++)if(ie.isTyped(t[u])){if(u>=f.length){if(t[u].type==="overrides")continue;i.splice(l,1);break}if(t[u].type!==f[u].baseType){i.splice(l,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){let o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){let o=i.map(a=>JSON.stringify(a.format())).join(", ");d(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}let s=this.#r.get(Ht.from(e).format());return s||null}getFunctionName(e){let t=this.#s(e,null,!1);return d(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#s(e,null,!1)}getFunction(e,t){return this.#s(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#r.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){let s=t[r];e(this.#r.get(s),r)}}#o(e,t,r){if(G(e)){let i=e.toLowerCase();for(let o of this.#t.values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){let i=[];for(let[o,a]of this.#t)o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){let a=i[o].inputs;for(let c=0;c<t.length;c++)if(ie.isTyped(t[c])&&t[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){let o=i.map(a=>JSON.stringify(a.format())).join(", ");d(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}let s=this.#t.get(Mt.from(e).format());return s||null}getEventName(e){let t=this.#o(e,null,!1);return d(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,t){return this.#o(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#t.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){let s=t[r];e(this.#t.get(s),r)}}getError(e,t){if(G(e)){let s=e.toLowerCase();if(qu[s])return je.from(qu[s].signature);for(let i of this.#e.values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){let s=[];for(let[i,o]of this.#e)i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?je.from("error Error(string)"):e==="Panic"?je.from("error Panic(uint256)"):null;if(s.length>1){let i=s.map(o=>JSON.stringify(o.format())).join(", ");d(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=je.from(e).format(),e==="Error(string)")return je.from("error Error(string)");if(e==="Panic(uint256)")return je.from("error Panic(uint256)");let r=this.#e.get(e);return r||null}forEachError(e){let t=Array.from(this.#e.keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){let s=t[r];e(this.#e.get(s),r)}}_decodeParams(e,t){return this.#n.decode(e,t)}_encodeParams(e,t){return this.#n.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){let r=this.getError(e);d(r,"unknown error","fragment",e),e=r}return d(Y(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Y(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){let r=this.getError(e);d(r,"unknown error","fragment",e),e=r}return D([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){let r=this.getFunction(e);d(r,"unknown function","fragment",e),e=r}return d(Y(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Y(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){let r=this.getFunction(e);d(r,"unknown function","fragment",e),e=r}return D([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){let i=this.getFunction(e);d(i,"unknown function","fragment",e),e=i}let r="invalid length for result data",s=fe(t);if(s.length%32===0)try{return this.#n.decode(e.outputs,s)}catch{r="could not decode result data"}m(!1,r,"BAD_DATA",{value:w(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=A(e,"data"),s=lt.getBuiltinCallException("call",t,r);if(s.message.startsWith("execution reverted (unknown custom error)")){let a=w(r.slice(0,4)),c=this.getError(a);if(c)try{let l=this.#n.decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}let o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){let r=this.getFunction(e);d(r,"unknown function","fragment",e),e=r}return w(this.#n.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){let i=this.getEvent(e);d(i,"unknown event","eventFragment",e),e=i}m(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let s=(i,o)=>i.type==="string"?De(o):i.type==="bytes"?M(w(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Ce(o):i.type.match(/^bytes/)?o=jt(o,32):i.type==="address"&&this.#n.encode(["address"],[o]),Ae(w(o),32));for(t.forEach((i,o)=>{let a=e.inputs[o];if(!a.indexed){d(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?d(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(c=>s(a,c))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){let o=this.getEvent(e);d(o,"unknown event","eventFragment",e),e=o}let r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),d(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{let c=t[a];if(o.indexed)if(o.type==="string")r.push(De(c));else if(o.type==="bytes")r.push(M(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this.#n.encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:this.#n.encode(s,i),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){let p=this.getEvent(e);d(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){let p=e.topicHash;d(G(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let s=[],i=[],o=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(ye.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});let a=r!=null?this.#n.decode(s,D(r)):null,c=this.#n.decode(i,t,!0),l=[],f=[],u=0,h=0;return e.inputs.forEach((p,g)=>{let x=null;if(p.indexed)if(a==null)x=new kn(null);else if(o[g])x=new kn(a[h++]);else try{x=a[h++]}catch(b){x=b}else try{x=c[u++]}catch(b){x=b}l.push(x),f.push(p.name||null)}),Et.fromItems(l,f)}parseTransaction(e){let t=A(e.data,"tx.data"),r=N(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(w(t.slice(0,4)));if(!s)return null;let i=this.#n.decode(s.inputs,t.slice(4));return new ws(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ys(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=w(e),r=this.getError(Y(t,0,4));if(!r)return null;let s=this.#n.decode(r.inputs,Y(t,4));return new As(r,r.selector,s)}static from(e){return e instanceof n?e:typeof e=="string"?new n(JSON.parse(e)):typeof e.formatJson=="function"?new n(e.formatJson()):typeof e.format=="function"?new n(e.format("json")):new n(e)}};var Zu=BigInt(0);function Es(n){return n??null}function Ne(n){return n==null?null:n.toString()}var Dr=class{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){E(this,{gasPrice:Es(e),maxFeePerGas:Es(t),maxPriorityFeePerGas:Es(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Ne(e),maxFeePerGas:Ne(t),maxPriorityFeePerGas:Ne(r)}}};function ft(n){let e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=w(n.data));let t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let s of t)!(s in n)||n[s]==null||(e[s]=N(n[s],`request.${s}`));let r="type,nonce".split(/,/);for(let s of r)!(s in n)||n[s]==null||(e[s]=S(n[s],`request.${s}`));return n.accessList&&(e.accessList=Le(n.accessList)),n.authorizationList&&(e.authorizationList=n.authorizationList.slice()),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobWrapperVersion"in n&&(e.blobWrapperVersion=n.blobWrapperVersion),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>bt(s)?w(s):Object.assign({},s))),e}var Nn=class{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(r=>typeof r!="string"?new Vt(r,t):r),E(this,{provider:t,hash:Es(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Es(e.prevRandao),extraData:e.extraData,baseFeePerGas:Es(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){let e=this.#e.slice();return e.length===0?[]:(m(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:l,number:f,parentHash:u,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:g,timestamp:x,transactions:b}=this;return{_type:"Block",baseFeePerGas:Ne(e),difficulty:Ne(t),extraData:r,gasLimit:Ne(s),gasUsed:Ne(i),blobGasUsed:Ne(this.blobGasUsed),excessBlobGas:Ne(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:f,parentHash:u,timestamp:x,parentBeaconBlockRoot:h,stateRoot:p,receiptsRoot:g,transactions:b}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=this.#e[e];else{let r=e.toLowerCase();for(let s of this.#e)if(typeof s=="string"){if(s!==r)continue;t=s;break}else{if(s.hash!==r)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(let r of t)if(r.hash===e)return r;d(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return lg(this)}},st=class{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;let r=Object.freeze(e.topics.slice());E(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return m(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return m(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return m(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return fg(this)}},cr=class{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(s=>new st(s,t)));let r=Zu;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),E(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){let{to:e,from:t,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:f,root:u}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Ne(this.cumulativeGasUsed),from:t,gasPrice:Ne(this.gasPrice),blobGasUsed:Ne(this.blobGasUsed),blobGasPrice:Ne(this.blobGasPrice),gasUsed:Ne(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:u,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return $u(this)}reorderedEvent(e){return m(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Yu(this,e)}},Vt=class n{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:f,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:Ne(this.chainId),data:l,from:a,gasLimit:Ne(this.gasLimit),gasPrice:Ne(this.gasPrice),hash:s,maxFeePerGas:Ne(this.maxFeePerGas),maxPriorityFeePerGas:Ne(this.maxPriorityFeePerGas),maxFeePerBlobGas:Ne(this.maxFeePerBlobGas),nonce:c,signature:f,to:o,index:r,type:i,value:Ne(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){let r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;let t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:t,blockNumber:r}=await ae({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=e??1,s=t??0,i=this.#e,o=-1,a=i===-1,c=async()=>{if(a)return null;let{blockNumber:h,nonce:p}=await ae({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=h;return}if(a)return null;let g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=i-3,o<this.#e&&(o=this.#e));o<=h;){if(a)return null;let x=await this.provider.getBlock(o,!0);if(x==null)return;for(let b of x)if(b===this.hash)return;for(let b=0;b<x.length;b++){let y=await x.getTransaction(b);if(y.from===this.from&&y.nonce===this.nonce){if(a)return null;let P=await this.provider.getTransactionReceipt(y.hash);if(P==null||h-P.blockNumber+1<r)return;let k="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?k="repriced":y.data==="0x"&&y.from===y.to&&y.value===Zu&&(k="cancelled"),m(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:y.replaceableTransaction(i),hash:y.hash,receipt:P})}}o++}},l=h=>{if(h==null||h.status!==0)return h;m(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},f=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(f);if(f){if(r===1||await f.confirmations()>=r)return l(f)}else if(await c(),r===0)return null;return await new Promise((h,p)=>{let g=[],x=()=>{g.forEach(y=>y())};if(g.push(()=>{a=!0}),s>0){let y=setTimeout(()=>{x(),p(z("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(y)})}let b=async y=>{if(await y.confirmations()>=r){x();try{h(l(y))}catch(P){p(P)}}};if(g.push(()=>{this.provider.off(this.hash,b)}),this.provider.on(this.hash,b),i>=0){let y=async()=>{try{await c()}catch(P){if($(P,"TRANSACTION_REPLACED")){x(),p(P);return}}a||this.provider.once("block",y)};g.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return m(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$u(this)}reorderedEvent(e){return m(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),m(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Yu(this,e)}replaceableTransaction(e){d(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new n(this,this.provider);return t.#e=e,t}};function lg(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function Yu(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function $u(n){return{orphan:"drop-transaction",tx:n}}function fg(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}var lr=class extends st{interface;fragment;args;constructor(e,t,r){super(e,e.provider);let s=t.decodeEventLog(r,e.data,e.topics);E(this,{args:s,fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}},Fr=class extends st{error;constructor(e,t){super(e,e.provider),E(this,{error:t})}},ks=class extends cr{#e;constructor(e,t,r){super(r,t),this.#e=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new lr(e,this.#e,t)}catch(r){return new Fr(e,r)}return e})}},fr=class extends Vt{#e;constructor(e,t,r){super(r,t),this.#e=e}async wait(e,t){let r=await super.wait(e,t);return r==null?null:new ks(this.#e,this.provider,r)}},Mr=class extends Yt{log;constructor(e,t,r,s){super(e,t,r),E(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}},Pn=class extends Mr{constructor(e,t,r,s,i){super(e,t,r,new lr(i,e.interface,s));let o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);E(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};var Xu=BigInt(0);function td(n){return n&&typeof n.call=="function"}function rd(n){return n&&typeof n.estimateGas=="function"}function zo(n){return n&&typeof n.resolveName=="function"}function nd(n){return n&&typeof n.sendTransaction=="function"}function sd(n){if(n!=null){if(zo(n))return n;if(n.provider)return n.provider}}var Wc=class{#e;fragment;constructor(e,t,r){if(E(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");let s=In(e.runner,"resolveName"),i=zo(s)?s:null;this.#e=async function(){let o=await Promise.all(t.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(f,u)=>f==="address"?Array.isArray(u)?Promise.all(u.map(h=>ue(h,i))):ue(u,i):u)));return e.interface.encodeFilterTopics(t,o)}()}getTopicFilter(){return this.#e}};function In(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function Tn(n){return n==null?null:n.provider||null}async function Qo(n,e){let t=ie.dereference(n,"overrides");d(typeof t=="object","invalid overrides parameter","overrides",n);let r=ft(t);return d(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),d(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function Zc(n,e,t){let r=In(n,"resolveName"),s=zo(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,c)=>(c=ie.dereference(c,a),a==="address"?ue(c,s):c))))}function ug(n){let e=async function(o){let a=await Qo(o,["data"]);a.to=await n.getAddress(),a.from&&(a.from=await ue(a.from,sd(n.runner)));let c=n.interface,l=N(a.value||Xu,"overrides.value")===Xu,f=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!f&&!l&&d(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),d(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data);let u=c.receive||c.fallback&&c.fallback.payable;return d(u||l,"cannot send value to non-payable fallback","overrides.value",a.value),d(c.fallback||f,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){let a=In(n.runner,"call");m(td(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let c=await e(o);try{return await a.call(c)}catch(l){throw Ar(l)&&l.data?n.interface.makeError(l.data,c):l}},r=async function(o){let a=n.runner;m(nd(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let c=await a.sendTransaction(await e(o)),l=Tn(n.runner);return new fr(n.interface,l,c)},s=async function(o){let a=In(n.runner,"estimateGas");return m(rd(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return E(i,{_contract:n,estimateGas:s,populateTransaction:e,send:r,staticCall:t}),i}function dg(n,e){let t=function(...l){let f=n.interface.getFunction(e,l);return m(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),f},r=async function(...l){let f=t(...l),u={};if(f.inputs.length+1===l.length&&(u=await Qo(l.pop()),u.from&&(u.from=await ue(u.from,sd(n.runner)))),f.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let h=await Zc(n.runner,f.inputs,l);return Object.assign({},u,await ae({to:n.getAddress(),data:n.interface.encodeFunctionData(f,h)}))},s=async function(...l){let f=await a(...l);return f.length===1?f[0]:f},i=async function(...l){let f=n.runner;m(nd(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let u=await f.sendTransaction(await r(...l)),h=Tn(n.runner);return new fr(n.interface,h,u)},o=async function(...l){let f=In(n.runner,"estimateGas");return m(rd(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...l))},a=async function(...l){let f=In(n.runner,"call");m(td(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let u=await r(...l),h="0x";try{h=await f.call(u)}catch(g){throw Ar(g)&&g.data?n.interface.makeError(g.data,u):g}let p=t(...l);return n.interface.decodeFunctionResult(p,h)},c=async(...l)=>t(...l).constant?await s(...l):await i(...l);return E(c,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let l=n.interface.getFunction(e);return m(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function hg(n,e){let t=function(...s){let i=n.interface.getEvent(e,s);return m(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new Wc(n,t(...s),s)};return E(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{let s=n.interface.getEvent(e);return m(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}var Ko=Symbol.for("_ethersInternal_contract"),id=new WeakMap;function pg(n,e){id.set(n[Ko],e)}function it(n){return id.get(n[Ko])}function xg(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function Yc(n,e){let t,r=null;if(Array.isArray(e)){let i=function(o){if(G(o,32))return o;let a=n.interface.getEvent(o);return d(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?G(e,32)?t=[e]:(r=n.interface.getEvent(e),d(r,"unknown fragment","event",e),t=[r.topicHash]):xg(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):d(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){let o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});let s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:t}}async function pi(n,e){let{subs:t}=it(n);return t.get((await Yc(n,e)).tag)||null}async function ed(n,e,t){let r=Tn(n.runner);m(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});let{fragment:s,tag:i,topics:o}=await Yc(n,t),{addr:a,subs:c}=it(n),l=c.get(i);if(!l){let u={address:a||n,topics:o},h=b=>{let y=s;if(y==null)try{y=n.interface.getEvent(b.topics[0])}catch{}if(y){let P=y,k=s?n.interface.decodeEventLog(s,b.data,b.topics):[];qc(n,t,k,L=>new Pn(n,L,t,P,b))}else qc(n,t,[],P=>new Mr(n,P,t,b))},p=[];l={tag:i,listeners:[],start:()=>{p.length||p.push(r.on(u,h))},stop:async()=>{if(p.length==0)return;let b=p;p=[],await Promise.all(b),r.off(u,h)}},c.set(i,l)}return l}var jc=Promise.resolve();async function mg(n,e,t,r){await jc;let s=await pi(n,e);if(!s)return!1;let i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{let c=Array.from(t);r&&c.push(r(a?null:o));try{o.call(n,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),it(n).subs.delete(s.tag)),i>0}async function qc(n,e,t,r){try{await jc}catch{}let s=mg(n,e,t,r);return jc=s,await s}var Vo=["then"],ur=class n{target;interface;runner;filters;[Ko];fallback;constructor(e,t,r,s){d(typeof e=="string"||us(e),"invalid value for Contract target","target",e),r==null&&(r=null);let i=ar.from(t);E(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,Ko,{value:{}});let o,a=null,c=null;if(s){let u=Tn(r);c=new fr(this.interface,u,s)}let l=new Map;if(typeof e=="string")if(G(e))a=e,o=Promise.resolve(e);else{let u=In(r,"resolveName");if(!zo(u))throw z("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=u.resolveName(e).then(h=>{if(h==null)throw z("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return it(this).addr=h,h})}else o=e.getAddress().then(u=>{if(u==null)throw new Error("TODO");return it(this).addr=u,u});pg(this,{addrPromise:o,addr:a,deployTx:c,subs:l});let f=new Proxy({},{get:(u,h,p)=>{if(typeof h=="symbol"||Vo.indexOf(h)>=0)return Reflect.get(u,h,p);try{return this.getEvent(h)}catch(g){if(!$(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(u,h)=>Vo.indexOf(h)>=0?Reflect.has(u,h):Reflect.has(u,h)||this.interface.hasEvent(String(h))});return E(this,{filters:f}),E(this,{fallback:i.receive||i.fallback?ug(this):null}),new Proxy(this,{get:(u,h,p)=>{if(typeof h=="symbol"||h in u||Vo.indexOf(h)>=0)return Reflect.get(u,h,p);try{return u.getFunction(h)}catch(g){if(!$(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(u,h)=>typeof h=="symbol"||h in u||Vo.indexOf(h)>=0?Reflect.has(u,h):u.interface.hasFunction(h)})}connect(e){return new n(this.target,this.interface,e)}attach(e){return new n(e,this.interface,this.runner)}async getAddress(){return await it(this).addrPromise}async getDeployedCode(){let e=Tn(this.runner);m(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;let r=Tn(this.runner);return m(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{let o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return it(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),dg(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),hg(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");let{addr:s,addrPromise:i}=it(this),o=s||await i,{fragment:a,topics:c}=await Yc(this,e),l={address:o,topics:c,fromBlock:t,toBlock:r},f=Tn(this.runner);return m(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(l)).map(u=>{let h=a;if(h==null)try{h=this.interface.getEvent(u.topics[0])}catch{}if(h)try{return new lr(u,this.interface,h)}catch(p){return new Fr(u,p)}return new st(u,f)})}async on(e,t){let r=await ed(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await ed(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await qc(this,e,t,null)}async listenerCount(e){if(e){let s=await pi(this,e);return s?s.listeners.length:0}let{subs:t}=it(this),r=0;for(let{listeners:s}of t.values())r+=s.length;return r}async listeners(e){if(e){let s=await pi(this,e);return s?s.listeners.map(({listener:i})=>i):[]}let{subs:t}=it(this),r=[];for(let{listeners:s}of t.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,t){let r=await pi(this,e);if(!r)return this;if(t){let s=r.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(t==null||r.listeners.length===0)&&(r.stop(),it(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await pi(this,e);if(!t)return this;t.stop(),it(this).subs.delete(t.tag)}else{let{subs:t}=it(this);for(let{tag:r,stop:s}of t.values())s(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends n{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};function gg(){return ur}var Ye=class extends gg(){};var xi=class n{interface;bytecode;runner;constructor(e,t,r){let s=ar.from(e);t instanceof Uint8Array?t=w(A(t)):(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t),t=w(A(t))),E(this,{bytecode:t,interface:s,runner:r||null})}attach(e){return new ur(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await Qo(e.pop())),r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");let s=await Zc(this.runner,r.inputs,e),i=D([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:i})}async deploy(...e){let t=await this.getDeployTransaction(...e);m(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=await this.runner.sendTransaction(t),s=xn(r);return new ur(s,this.interface,this.runner,r)}connect(e){return new n(this.interface,this.bytecode,e)}static fromSolidity(e,t){d(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));let r=e.abi,s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(r,s,t)}};function $c(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):d(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}var Ns=class{name;constructor(e){E(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}};var ad=new RegExp("^(ipfs)://(.*)$","i"),od=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ad,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],_r=class n{provider;address;name;#e;#t;constructor(e,t,r){E(this,{provider:e,address:t,name:r}),this.#e=null,this.#t=new Ye(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if($(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#r(e,t){t=(t||[]).slice();let r=this.#t.interface;t.unshift(Or(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),m(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[ui(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let i=await this.#t[e](...t);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!$(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{let i=await this.#r("addr(bytes32)");return i==null||i===vt?null:i}catch(i){if($(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648,o=await this.#r("addr(bytes32,uint)",[i]);if(G(o,20))return U(o)}let t=null;for(let i of this.provider.plugins)if(i instanceof Ns&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;let r=await this.#r("addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;let s=await t.decodeAddress(e,r);if(s!=null)return s;m(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let t=await this.#r("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){let e=await this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${nn("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;m(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<od.length;r++){let s=t.match(od[r]);if(s==null)continue;let i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let o=$c(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{let o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});let a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};let l=c[1],f=new Ye(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){let x=await f.ownerOf(l);if(a!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(i==="erc1155"){let x=await f.balanceOf(a,l);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let u=await f[o](l);if(u==null||u==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),i==="erc1155"&&(u=u.replace("{id}",Ce(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=$c(u)),e.push({type:"metadata-url",value:u});let h={},p=await new re(u).send();p.assertOk();try{h=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{let y=p.body;return y&&e.push({type:"!metadata",value:w(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(ad)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=$c(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return m(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#n(e,t){let r=await n.getEnsAddress(e);try{let i=await new Ye(r,["function resolver(bytes32) view returns (address)"],e).resolver(Or(t),{enableCcipRead:!0});return i===vt?null:i}catch(s){throw s}return null}static async fromName(e,t){let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;let s=await n.#n(e,r);if(s!=null){let i=new n(e,s,t);return r!==t&&!await i.supportsWildcard()?null:i}r=r.split(".").slice(1).join(".")}}};var cd=BigInt(0);function j(n,e){return function(t){return t==null?e:n(t)}}function mi(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))}}function gi(n,e){return t=>{let r={};for(let s in n){let i=s;if(e&&s in e&&!(i in t)){for(let o of e[s])if(o in t){i=o;break}}try{let o=n[s](t[i]);o!==void 0&&(r[s]=o)}catch(o){let a=o instanceof Error?o.message:"not-an-error";m(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return r}}function bg(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}d(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Ps(n){return d(G(n,!0),"invalid data","value",n),n}function Fe(n){return d(G(n,32),"invalid hash","value",n),n}var yg=gi({address:U,blockHash:Fe,blockNumber:S,data:Ps,index:S,removed:j(bg,!1),topics:mi(Fe),transactionHash:Fe,transactionIndex:S},{index:["logIndex"]});function ld(n){return yg(n)}var wg=gi({hash:j(Fe),parentHash:Fe,parentBeaconBlockRoot:j(Fe,null),number:S,timestamp:S,nonce:j(Ps),difficulty:N,gasLimit:N,gasUsed:N,stateRoot:j(Fe,null),receiptsRoot:j(Fe,null),blobGasUsed:j(N,null),excessBlobGas:j(N,null),miner:j(U),prevRandao:j(Fe,null),extraData:Ps,baseFeePerGas:j(N)},{prevRandao:["mixHash"]});function fd(n){let e=wg(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:Xc(t)),e}var Ag=gi({transactionIndex:S,blockNumber:S,transactionHash:Fe,address:U,topics:mi(Fe),data:Ps,index:S,blockHash:Fe},{index:["logIndex"]});function Eg(n){return Ag(n)}var kg=gi({to:j(U,null),from:j(U,null),contractAddress:j(U,null),index:S,root:j(w),gasUsed:N,blobGasUsed:j(N,null),logsBloom:j(Ps),blockHash:Fe,hash:Fe,logs:mi(Eg),blockNumber:S,cumulativeGasUsed:N,effectiveGasPrice:j(N),blobGasPrice:j(N,null),status:j(S),type:j(S,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function ud(n){return kg(n)}function Xc(n){n.to&&N(n.to)===cd&&(n.to="0x0000000000000000000000000000000000000000");let e=gi({hash:Fe,index:j(S,void 0),type:t=>t==="0x"||t==null?0:S(t),accessList:j(Le,null),blobVersionedHashes:j(mi(Fe,!0),null),authorizationList:j(mi(t=>{let r;if(t.signature)r=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},t,{yParity:s})}return{address:U(t.address),chainId:N(t.chainId),nonce:N(t.nonce),signature:ke.from(r)}},!1),null),blockHash:j(Fe,null),blockNumber:j(S,null),transactionIndex:j(S,null),from:U,gasPrice:j(N),maxPriorityFeePerGas:j(N),maxFeePerGas:j(N),maxFeePerBlobGas:j(N,null),gasLimit:N,to:j(U,null),value:N,nonce:S,data:Ps,creates:j(U,null),chainId:j(N,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=xn(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=ke.from(n.signature):e.signature=ke.from(n),e.chainId==null){let t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&N(e.blockHash)===cd&&(e.blockHash=null),e}var Ng="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",Lt=class n{name;constructor(e){E(this,{name:e})}clone(){return new n(this.name)}},Hr=class n extends Lt{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let r={effectiveBlock:e};function s(i,o){let a=(t||{})[i];a==null&&(a=o),d(typeof a=="number",`invalud value for ${i}`,"costs",t),r[i]=a}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),E(this,r)}clone(){return new n(this.effectiveBlock,this)}},Gr=class n extends Lt{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),E(this,{address:e||Ng,targetNetwork:t??1})}clone(){return new n(this.address,this.targetNetwork)}},bi=class n extends Lt{#e;get feeDataFunc(){return this.#e}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#e=e}async getFeeData(e){return await this.#e(e)}clone(){return new n(this.#e)}},Bn=class extends Lt{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}};var el=new Map,Q=class n{#e;#t;#r;constructor(e,t){this.#e=e,this.#t=N(t),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=N(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===N(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===N(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===N(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new n(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Hr,r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let s=Le(e.accessList);for(let i in s)r+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(Pg(),e==null)return n.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){let t=el.get(e);if(t)return t();if(typeof e=="bigint")return new n("unknown",e);d(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){d(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);let t=new n(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new Gr(e.ensAddress,e.ensNetwork)),t}d(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));let r=el.get(e);r&&d(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),el.set(e,t)}};function dd(n,e){let t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);let r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function hd(n){return new Bn(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let s;try{let[i,o]=await Promise.all([r.send(),e()]);s=i;let a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:dd(a.maxFee,9),maxPriorityFeePerGas:dd(a.maxPriorityFee,9)}}catch(i){m(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}var pd=!1;function Pg(){if(pd)return;pd=!0;function n(e,t,r){let s=function(){let i=new Q(e,t);return r.ensNetwork!=null&&i.attachPlugin(new Gr(null,r.ensNetwork)),i.attachPlugin(new Hr),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Q.register(e,s),Q.register(t,s),r.altNames&&r.altNames.forEach(i=>{Q.register(i,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("filecoin",314,{}),n("filecoin-calibration",314159,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[hd("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[hd("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function tl(n){return JSON.parse(JSON.stringify(n))}var Jo=class{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#s(){try{let e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let t=this.#n+1;t<=e;t++){if(this.#t==null)return;await this.#e.emit("block",t)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}},yi=class{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=t=>{this._poll(t,this.#e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}},Wo=class extends yi{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,t){let r=await t.getBlock(this.#e);r!=null&&(this.#t===-2?this.#t=r.number:r.number>this.#t&&(t.emit(this.#e,r.number),this.#t=r.number))}},jo=class extends yi{#e;constructor(e,t){super(e),this.#e=tl(t)}async _poll(e,t){throw new Error("@TODO")}},qo=class extends yi{#e;constructor(e,t){super(e),this.#e=t}async _poll(e,t){let r=await t.getTransactionReceipt(this.#e);r&&t.emit(this.#e,r)}},Vr=class{#e;#t;#r;#n;#s;constructor(e,t){this.#e=e,this.#t=tl(t),this.#r=this.#o.bind(this),this.#n=!1,this.#s=-2}async#o(e){if(this.#s===-2)return;let t=tl(this.#t);t.fromBlock=this.#s+1,t.toBlock=e;let r=await this.#e.getLogs(t);if(r.length===0){this.#s<e-60&&(this.#s=e-60);return}for(let s of r)this.#e.emit(this.#t,s),this.#s=s.blockNumber}start(){this.#n||(this.#n=!0,this.#s===-2&&this.#e.getBlockNumber().then(e=>{this.#s=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}};var Tg=BigInt(2),Ig=10;function Zo(n){return n&&typeof n.then=="function"}function Yo(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){let s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}var Dt=class{name;constructor(e){E(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function Bg(n){return JSON.parse(JSON.stringify(n))}function sl(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function rl(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(G(n,32)){let t=n.toLowerCase();return{type:"transaction",tag:Yo("tx",{hash:t}),hash:t}}if(n.orphan){let t=n;return{type:"orphan",tag:Yo("orphan",t),filter:Bg(t)}}if(n.address||n.topics){let t=n,r={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?sl(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){let s=[],i=[],o=a=>{G(a)?s.push(a):i.push((async()=>{s.push(await ue(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),r.address=sl(s.map(a=>a.toLowerCase()))}return{filter:r,tag:Yo("event",r),type:"event"}}d(!1,"unknown ProviderEvent","event",n)}function nl(){return new Date().getTime()}var vg={cacheTimeout:250,pollingInterval:4e3},ut=class{#e;#t;#r;#n;#s;#o;#i;#a;#u;#l;#p;#x;constructor(e,t){if(this.#x=Object.assign({},vg,t||{}),e==="any")this.#o=!0,this.#s=null;else if(e){let r=Q.from(e);this.#o=!1,this.#s=Promise.resolve(r),setTimeout(()=>{this.emit("network",r,null)},0)}else this.#o=!1,this.#s=null;this.#a=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#u=1,this.#l=new Map,this.#p=!1}get pollingInterval(){return this.#x.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#c(e){let t=this.#x.cacheTimeout;if(t<0)return await this._perform(e);let r=Yo(e.method,e),s=this.#i.get(r);return s||(s=this._perform(e),this.#i.set(r,s),setTimeout(()=>{this.#i.get(r)===s&&this.#i.delete(r)},t)),await s}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;let s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<r.length;a++){let c=r[a],l=c.replace("{sender}",s).replace("{data}",i),f=new re(l);c.indexOf("{data}")===-1&&(f.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:a,urls:r});let u="unknown error",h;try{h=await f.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:{error:p}});continue}try{let p=h.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:p}),p.data;p.message&&(u=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:p})}catch{}m(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${u}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:u}}),o.push(u)}m(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,t){return new Nn(fd(e),this)}_wrapLog(e,t){return new st(ld(e),this)}_wrapTransactionReceipt(e,t){return new cr(ud(e),this)}_wrapTransactionResponse(e,t){return new Vt(Xc(e),this)}_detectNetwork(){m(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){m(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=S(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return ue(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(G(e))return G(e,32)?e:Ie(e);if(typeof e=="bigint"&&(e=S(e,"blockTag")),typeof e=="number")return e>=0?Ie(e):this.#a>=0?Ie(this.#a+e):this.getBlockNumber().then(t=>Ie(t+e));d(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?sl(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(c,l,f)=>{let u;switch(c.length){case 0:break;case 1:u=c[0];break;default:c.sort(),u=c}if(r&&(l!=null||f!=null))throw new Error("invalid filter");let h={};return u&&(h.address=u),t.length&&(h.topics=t),l&&(h.fromBlock=l),f&&(h.toBlock=f),r&&(h.blockHash=r),h},i=[];if(e.address)if(Array.isArray(e.address))for(let c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){let t=ft(e),r=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;let i=ue(t[s],this);Zo(i)?r.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){let s=this._getBlockTag(t.blockTag);Zo(s)?r.push(async function(){t.blockTag=await s}()):t.blockTag=s}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(this.#s==null){let s=(async()=>{try{let i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw this.#s===s&&(this.#s=null),i}})();return this.#s=s,(await s).clone()}let e=this.#s,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#o?(this.emit("network",r,t),this.#s===e&&(this.#s=Promise.resolve(r))):m(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:s,gasPrice:i,priorityFee:o}=await ae({_block:this.#b("latest",!1),gasPrice:(async()=>{try{let f=await this.#c({method:"getGasPrice"});return N(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{let f=await this.#c({method:"getPriorityFee"});return N(f,"%response")}catch{}return null})()}),a=null,c=null,l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*Tg+c),new Dr(i,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let s=new re(r.url),i=await r.processFunc(t,this,s);return new Dr(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Zo(t)&&(t=await t),N(await this.#c({method:"estimateGas",transaction:t}),"%response")}async#f(e,t,r){m(r<Ig,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let s=ft(e);try{return w(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&Ar(i)&&i.data&&r>=0&&t==="latest"&&s.to!=null&&Y(i.data,0,4)==="0x556f1830"){let o=i.data,a=await ue(s.to,this),c;try{c=Ug(Y(i.data,4))}catch(u){m(!1,u.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}m(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});let l=await this.ccipReadFetch(s,c.calldata,c.urls);m(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});let f={to:a,data:D([c.selector,Og([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{let u=await this.#f(f,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:u}),u}catch(u){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:u}),u}}throw i}}async#d(e){let{value:t}=await ae({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:r}=await ae({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#d(this.#f(t,r,e.enableCcipRead?0:-1))}async#h(e,t,r){let s=this._getAddress(t),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await this.#d(this.#c(Object.assign(e,{address:s,blockTag:i})))}async getBalance(e,t){return N(await this.#h({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return S(await this.#h({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return w(await this.#h({method:"getCode"},e,t))}async getStorage(e,t,r){let s=N(t,"position");return w(await this.#h({method:"getStorage",position:s},e,r))}async broadcastTransaction(e){let{blockNumber:t,hash:r,network:s}=await ae({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=nt.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async#b(e,t){if(G(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await this.#c({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){let{network:r,params:s}=await ae({network:this.getNetwork(),params:this.#b(e,!!t)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){let{network:t,params:r}=await ae({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){let{network:t,params:r}=await ae({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){let s=await this.#c({method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){let{result:t}=await ae({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return t==null?null:w(t)}async getLogs(e){let t=this._getFilter(e);Zo(t)&&(t=await t);let{network:r,params:s}=await ae({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){m(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await _r.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=U(e);let t=Or(e.substring(2).toLowerCase()+".addr.reverse");try{let r=await _r.getEnsAddress(this),i=await new Ye(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===vt)return null;let a=await new Ye(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(r){if($(r,"BAD_DATA")&&r.value==="0x"||$(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){let s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null,c=async l=>{try{let f=await this.getTransactionReceipt(e);if(f!=null&&l-f.blockNumber+1>=s){i(f),a&&(clearTimeout(a),a=null);return}}catch(f){console.log("EEE",f)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(z("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){m(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#l.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#l.delete(e))}_setTimeout(e,t){t==null&&(t=0);let r=this.#u++,s=()=>{this.#l.delete(r),e()};if(this.paused)this.#l.set(r,{timer:null,func:s,time:t});else{let i=setTimeout(s,t);this.#l.set(r,{timer:i,func:s,time:nl()})}return r}_forEachSubscriber(e){for(let t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Dt(e.type);case"block":{let t=new Jo(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Wo(this,e.type);case"event":return new Vr(this,e.filter);case"transaction":return new qo(this,e.hash);case"orphan":return new jo(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#e.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),this.#r!=null&&t.pause(this.#r);break}}async#m(e,t){let r=await rl(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await rl({orphan:"drop-log",log:t[0]},this)),this.#e.get(r.tag)||null}async#g(e){let t=await rl(e,this),r=t.tag,s=this.#e.get(r);return s||(s={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(r,s)),s}async on(e,t){let r=await this.#g(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,this.#r!=null&&r.subscriber.pause(this.#r)),this}async once(e,t){let r=await this.#g(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,this.#r!=null&&r.subscriber.pause(this.#r)),this}async emit(e,...t){let r=await this.#m(e,t);if(!r||r.listeners.length===0)return!1;let s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{let a=new Yt(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),s>0}async listenerCount(e){if(e){let r=await this.#m(e);return r?r.listeners.length:0}let t=0;for(let{listeners:r}of this.#e.values())t+=r.length;return t}async listeners(e){if(e){let r=await this.#m(e);return r?r.listeners.map(({listener:s})=>s):[]}let t=[];for(let{listeners:r}of this.#e.values())t=t.concat(r.map(({listener:s})=>s));return t}async off(e,t){let r=await this.#m(e);if(!r)return this;if(t){let s=r.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),this.#e.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:r,subscriber:s}=await this.#g(e);r&&s.stop(),this.#e.delete(t)}else for(let[t,{started:r,subscriber:s}]of this.#e)r&&s.stop(),this.#e.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(let e of this.#l.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#r!=null){if(this.#r==!!e)return;m(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#r=!!e;for(let t of this.#l.values())t.timer&&clearTimeout(t.timer),t.time=nl()-t.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(let e of this.#l.values()){let t=e.time;t<0&&(t=0),e.time=nl(),setTimeout(e.func,t)}}}};function Cg(n,e){try{let t=il(n,e);if(t)return Qe(t)}catch{}return null}function il(n,e){if(n==="0x")return null;try{let t=S(Y(n,e,e+32)),r=S(Y(n,t,t+32));return Y(n,t+32,t+32+r)}catch{}return null}function xd(n){let e=q(n);if(e.length>32)throw new Error("internal; should not happen");let t=new Uint8Array(32);return t.set(e,32-e.length),t}function Rg(n){if(n.length%32===0)return n;let e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}var Sg=new Uint8Array([]);function Og(n){let e=[],t=0;for(let r=0;r<n.length;r++)e.push(Sg),t+=32;for(let r=0;r<n.length;r++){let s=A(n[r]);e[r]=xd(t),e.push(xd(s.length)),e.push(Rg(s)),t+=32+Math.ceil(s.length/32)*32}return D(e)}var md="0x0000000000000000000000000000000000000000000000000000000000000000";function Ug(n){let e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};m(qe(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let t=Y(n,0,32);m(Y(t,0,12)===Y(md,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Y(t,12);try{let r=[],s=S(Y(n,32,64)),i=S(Y(n,s,s+32)),o=Y(n,s+32);for(let a=0;a<i;a++){let c=Cg(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{m(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=il(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{m(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}m(Y(n,100,128)===Y(md,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Y(n,96,100);try{let r=il(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{m(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function vn(n,e){if(n.provider)return n.provider;m(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function gd(n,e){let t=ft(e);if(t.to!=null&&(t.to=ue(t.to,n)),t.from!=null){let r=t.from;t.from=Promise.all([n.getAddress(),ue(r,n)]).then(([s,i])=>(d(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=n.getAddress();return await ae(t)}var dt=class{provider;constructor(e){E(this,{provider:e||null})}async getNonce(e){return vn(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await gd(this,e)}async populateTransaction(e){let t=vn(this,"populateTransaction"),r=await gd(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));let s=await this.provider.getNetwork();if(r.chainId!=null){let o=N(r.chainId);d(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;let i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?d(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&d(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){let o=await t.getFeeData();m(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{let o=await t.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){let a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(m(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):m(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await ae(r)}async populateAuthorization(e){let t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await vn(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return vn(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return vn(this,"call").call(await this.populateCall(e))}async resolveName(e){return await vn(this,"resolveName").resolveName(e)}async sendTransaction(e){let t=vn(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let s=nt.from(r);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){m(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}},Cn=class n extends dt{address;constructor(e,t){super(t),E(this,{address:e})}async getAddress(){return this.address}connect(e){return new n(this.address,e)}#e(e,t){m(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,t,r){this.#e("typed-data","signTypedData")}};var bd=new Set;function Me(n){bd.has(n)||(bd.add(n),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${n} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function Lg(n){return JSON.parse(JSON.stringify(n))}var $o=class{#e;#t;#r;#n;#s;#o;constructor(e){this.#e=e,this.#t=null,this.#r=this.#i.bind(this),this.#n=!1,this.#s=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#i(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=await this.#t}catch(i){if(!$(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}let r=await this.#e.getNetwork();if(this.#s||(this.#s=r),this.#s.chainId!==r.chainId)throw new Error("chaid changed");if(this.#o)return;let s=await this.#e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#e,s)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#r)}#a(){let e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#n||(this.#n=!0,this.#i(-2))}stop(){this.#n&&(this.#n=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#r))}pause(e){e&&this.#a(),this.#e.off("block",this.#r)}resume(){this.start()}},Xo=class extends $o{#e;constructor(e,t){super(e),this.#e=Lg(t)}_recover(e){return new Vr(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,t){for(let r of t)e.emit(this.#e,e._wrapLog(r,e._network))}},ea=class extends $o{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let r of t)e.emit("pending",r)}};var Dg="bigint,boolean,function,number,string,symbol".split(/,/g);function ta(n){if(n==null||Dg.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(ta);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function Fg(n){return new Promise(e=>{setTimeout(e,n)})}function Ts(n){return n&&n.toLowerCase()}function yd(n){return n&&typeof n.pollingInterval=="number"}var wd={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Kr=class extends dt{address;constructor(e,t){super(e),t=U(t),E(this,{address:t})}connect(e){m(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=ta(e),r=[];if(t.from){let i=t.from;r.push((async()=>{let o=await ue(i,this.provider);d(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=o})())}else t.from=this.address;if(t.gasLimit==null&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){let i=t.to;r.push((async()=>{t.to=await ue(i,this.provider)})())}r.length&&await Promise.all(r);let s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((s,i)=>{let o=[1e3,100],a=0,c=async()=>{try{let l=await this.provider.getTransaction(r);if(l!=null){s(l.replaceableTransaction(t));return}}catch(l){if($(l,"CANCELLED")||$(l,"BAD_DATA")||$(l,"NETWORK_ERROR")||$(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=r,i(l);return}if($(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=r,a>10)){i(l);return}this.provider.emit("error",z("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(e){let t=ta(e);if(t.from){let s=await ue(t.from,this.provider);d(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=s}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let t=typeof e=="string"?te(e):e;return await this.provider.send("personal_sign",[w(t),this.address.toLowerCase()])}async signTypedData(e,t,r){let s=ta(r),i=await ct.resolveNames(e,t,s,async o=>{let a=await ue(o);return d(a!=null,"TypedData does not support null address","value",o),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ct.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t=typeof e=="string"?te(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),w(t)])}},zr=class extends ut{#e;#t;#r;#n;#s;#o;#i;#a(){if(this.#n)return;let e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;let t=this.#r;for(this.#r=[];t.length;){let r=[t.shift()];for(;t.length&&r.length!==this.#e.batchMaxCount;)if(r.push(t.shift()),JSON.stringify(r.map(i=>i.payload)).length>this.#e.batchMaxSize){t.unshift(r.pop());break}(async()=>{let s=r.length===1?r[0].payload:r.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{let i=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:i});for(let{resolve:o,reject:a,payload:c}of r){if(this.destroyed){a(z("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}let l=i.filter(f=>f.id===c.id)[0];if(l==null){let f=z("missing response for request","BAD_DATA",{value:i,info:{payload:c}});this.emit("error",f),a(f);continue}if("error"in l){a(this.getRpcError(c,l));continue}o(l.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(let{reject:o}of r)o(i)}})()}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},wd,t||{}),this.#r=[],this.#n=null,this.#o=null,this.#i=null;{let s=null,i=new Promise(o=>{s=o});this.#s={promise:i,resolve:s}}let r=this._getOption("staticNetwork");typeof r=="boolean"?(d(!r||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),r&&e!=null&&(this.#o=Q.from(e))):r&&(d(e==null||r.matches(e),"staticNetwork MUST match network object","options",t),this.#o=r)}_getOption(e){return this.#e[e]}get _network(){return m(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let r=e.transaction;if(r&&r.type!=null&&N(r.type)&&r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null){let s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}))}}let t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{let t=Q.from(N(await this.send("eth_chainId",[])));return this.#i=null,t}catch(t){throw this.#i=null,t}})(),await this.#i):(this.#i=(async()=>{let t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let r;try{r=(await this._send(t))[0],this.#i=null}catch(s){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return Q.from(N(r.result));throw this.getRpcError(t,r)})(),await this.#i)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",z("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Fg(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(e){return e.type==="pending"?new ea(this):e.type==="event"?this._getOption("polling")?new Vr(this,e.filter):new Xo(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Dt("orphan"):super._getSubscriber(e)}get ready(){return this.#s==null}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(e[r]==null)return;let s=r;r==="gasLimit"&&(s="gas"),t[s]=Ie(N(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{e[r]!=null&&(t[r]=w(e[r]))}),e.accessList&&(t.accessList=Le(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(r=>r.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(r=>{let s=gn(r);return{address:s.address,nonce:Ie(s.nonce),chainId:Ie(s.chainId),yParity:Ie(s.signature.yParity),r:Ie(s.signature.r),s:Ie(s.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ts(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ts(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ts(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ts(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ts):e.filter.address=Ts(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let{method:r}=e,{error:s}=t;if(r==="eth_estimateGas"&&s.message){let a=s.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return z("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return z("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:s}})}if(r==="eth_call"||r==="eth_estimateGas"){let a=ol(s),c=lt.getBuiltinCallException(r==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:s,payload:e},c}let i=JSON.stringify(Mg(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return z("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(r==="eth_sendRawTransaction"||r==="eth_sendTransaction"){let a=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return z("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:s}});if(i.match(/nonce/i)&&i.match(/too low/i))return z("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:s}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return z("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:s}});if(i.match(/only replay-protected/i))return z("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:a,info:{error:s}}})}let o=!!i.match(/the method .* does not exist/i);return o||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(o=!0),o?z("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):z("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(z("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#t++,s=new Promise((i,o)=>{this.#r.push({resolve:i,reject:o,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#a(),s}async getSigner(e){e==null&&(e=0);let t=this.send("eth_accounts",[]);if(typeof e=="number"){let s=await t;if(e>=s.length)throw new Error("no such account");return new Kr(this,s[e])}let{accounts:r}=await ae({network:this.getNetwork(),accounts:t});e=U(e);for(let s of r)if(U(s)===e)return new Kr(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(t=>new Kr(this,t))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(let{payload:e,reject:t}of this.#r)t(z("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}},wi=class extends zr{#e;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");r==null&&(r=wd.pollingInterval),this.#e=r}_getSubscriber(e){let t=super._getSubscriber(e);return yd(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{yd(t)&&(t.pollingInterval=this.#e)})}},pe=class extends wi{#e;constructor(e,t,r){e==null&&(e="http://localhost:8545"),super(t,r),typeof e=="string"?this.#e=new re(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){let t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");let r=await t.send();r.assertOk();let s=r.bodyJson;return Array.isArray(s)||(s=[s]),s}};function ol(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&G(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(let e in n){let t=ol(n[e]);if(t)return t}return null}if(typeof n=="string")try{return ol(JSON.parse(n))}catch{}return null}function al(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(let t in n)al(n[t],e);if(typeof n=="string")try{return al(JSON.parse(n),e)}catch{}}}function Mg(n){let e=[];return al(n,e),e}var ra="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function _g(n){switch(n){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}d(!1,"unsupported network","network",n)}var Rn=class n extends pe{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=Q.from(e);t==null&&(t=ra);let s={polling:!0,staticNetwork:r},i=n.getRequest(r,t);super(i,r,s),E(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,t){t==null&&(t=ra);let r=new re(`https://${_g(e.name)}/${t}`);return r.allowGzip=!0,t===ra&&(r.retryFunc=async(s,i,o)=>(Me("AnkrProvider"),!0)),r}getRpcError(e,t){return e.method==="eth_sendRawTransaction"&&t&&t.error&&t.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===ra}};var na="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function Hg(n){switch(n){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}d(!1,"unsupported network","network",n)}var Sn=class n extends pe{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=Q.from(e);t==null&&(t=na);let s=n.getRequest(r,t);super(s,r,{staticNetwork:r}),E(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){let{trace:t,tx:r}=await ae({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(t==null||r==null)return null;let s,i=!1;try{s=t[0].result.output,i=t[0].error==="Reverted"}catch{}if(s)return m(!i,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:s,reason:null,transaction:r,invocation:null,revert:null}),s;m(!1,"could not parse trace result","BAD_DATA",{value:t})}return await super._perform(e)}isCommunityResource(){return this.apiKey===na}static getRequest(e,t){t==null&&(t=na);let r=new re(`https://${Hg(e.name)}/v2/${t}`);return r.allowGzip=!0,t===na&&(r.retryFunc=async(s,i,o)=>(Me("alchemy"),!0)),r}};function sa(n){switch(n){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}d(!1,"unsupported network","network",n)}function Gg(n){switch(n){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}d(!1,"unsupported network","network",n)}var On=class n extends pe{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=Q.from(e);t==null&&(t=sa(r.name));let s=n.getRequest(r,t);super(s,r,{staticNetwork:r}),E(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===sa(this._network.name)}static getRequest(e,t){t==null&&(t=sa(e.name));let r=new re(`https://${Gg(e.name)}/${t}`);return r.allowGzip=!0,t===sa(e.name)&&(r.retryFunc=async(s,i,o)=>(Me("ChainstackProvider"),!0)),r}};var Un=class extends pe{constructor(e){e==null&&(e="mainnet");let t=Q.from(e);d(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}};var Vg="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),Ad=2e3;function Kg(n){return n&&typeof n.then=="function"}var Ed="org.ethers.plugins.provider.Etherscan",Ai=class n extends Lt{baseUrl;constructor(e){super(Ed),E(this,{baseUrl:e})}clone(){return new n(this.baseUrl)}},zg=["enableCcipRead"],Qg=1,Ln=class extends ut{network;apiKey;#e;constructor(e,t){let r=t??null;super();let s=Q.from(e);d(Vg.indexOf(`${s.chainId}`)>=0,"unsupported network","network",s),this.#e=s.getPlugin(Ed),E(this,{apiKey:r,network:s})}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}d(!1,"unsupported network","network",this.network)}getUrl(e,t){let r=Object.keys(t).reduce((s,i)=>{let o=t[i];return o!=null&&(s+=`&${i}=${o}`),s},"");return this.apiKey&&(r+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${r}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,r){let s=Qg++,i=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:s,url:i,payload:o});let a=new re(i);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(f,u,h)=>(this.isCommunityResource()&&Me("Etherscan"),Promise.resolve(!0)),a.processFunc=async(f,u)=>{let h=u.hasBody()?JSON.parse(Qe(u.body)):{},p=(typeof h.result=="string"?h.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?h&&h.status==0&&h.message=="NOTOK"&&p&&(this.emit("debug",{action:"receiveError",id:s,reason:"proxy-NOTOK",error:h}),u.throwThrottleError(h.result,Ad)):p&&(this.emit("debug",{action:"receiveError",id:s,reason:"null result",error:h.result}),u.throwThrottleError(h.result,Ad)),u},o&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(o).map(f=>`${f}=${o[f]}`).join("&"));let c=await a.send();try{c.assertOk()}catch(f){this.emit("debug",{action:"receiveError",id:s,error:f,reason:"assertOk"}),m(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:s,error:"missing body",reason:"null body"}),m(!1,"missing response","SERVER_ERROR",{request:a,response:c}));let l=JSON.parse(Qe(c.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"invalid JSON-RPC"}),m(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"JSON-RPC error"}),m(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:s,result:l}),m(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result)}_getTransactionPostData(e){let t={};for(let r in e){if(zg.indexOf(r)>=0||e[r]==null)continue;let s=e[r];if(!(r==="type"&&s===0)&&!(r==="blockTag"&&s==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r])s=Ie(s);else if(r==="accessList")s="["+Le(s).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]";else if(r==="blobVersionedHashes"){if(s.length===0)continue;m(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else s=w(s);t[r]=s}}return t}_checkError(e,t,r){let s="";if($(t,"SERVER_ERROR")){try{s=t.info.result.error.message}catch{}if(!s)try{s=t.info.message}catch{}}if(e.method==="estimateGas"&&!s.match(/revert/i)&&s.match(/insufficient funds/i)&&m(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&s.match(/execution reverted/i)){let i="";try{i=t.info.result.error.data}catch{}let o=lt.getBuiltinCallException(e.method,e.transaction,i);throw o.info={request:e,error:t},o}if(s&&e.method==="broadcastTransaction"){let i=nt.from(e.signedTransaction);s.match(/replacement/i)&&s.match(/underpriced/i)&&m(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:i}),s.match(/insufficient funds/)&&m(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:i}),s.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&m(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:i})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});m(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(r){return this._checkError(e,r,e.transaction)}}case"estimateGas":{let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(r){return this._checkError(e,r,e.transaction)}}default:break}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);Kg(t)&&(t=await t);try{let r=await this.fetch("contract",{action:"getabi",address:t}),s=JSON.parse(r);return new Ye(t,s,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}};function Jg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}var kd=Jg().WebSocket;var Qr=class{#e;#t;get filter(){return JSON.parse(this.#t)}#r;#n;#s;constructor(e,t){this.#e=e,this.#t=JSON.stringify(t),this.#r=null,this.#n=null,this.#s=null}start(){this.#r=this.#e.send("eth_subscribe",this.filter).then(e=>(this.#e._register(e,this),e))}stop(){this.#r.then(e=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[e])}),this.#r=null}pause(e){m(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#n=!!e}resume(){this.#n=null}_handleMessage(e){if(this.#r!=null&&this.#n===null){let t=this.#s;t==null?t=this._emit(this.#e,e):t=t.then(async()=>{await this._emit(this.#e,e)}),this.#s=t.then(()=>{this.#s===t&&(this.#s=null)})}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}},Is=class extends Qr{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}},Bs=class extends Qr{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}},vs=class extends Qr{#e;get logFilter(){return JSON.parse(this.#e)}constructor(e,t){super(e,["logs",t]),this.#e=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}},Dn=class extends zr{#e;#t;#r;constructor(e,t){let r=Object.assign({},t??{});d(r.batchMaxCount==null||r.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,r.staticNetwork==null&&(r.staticNetwork=!0),super(e,r),this.#e=new Map,this.#t=new Map,this.#r=new Map}_getSubscriber(e){switch(e.type){case"close":return new Dt("close");case"block":return new Is(this);case"pending":return new Bs(this);case"event":return new vs(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new Dt("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#t.set(e,t);let r=this.#r.get(e);if(r){for(let s of r)t._handleMessage(s);this.#r.delete(e)}}async _send(e){d(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let t=new Promise((r,s)=>{this.#e.set(e.id,{payload:e,resolve:r,reject:s})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){let t=JSON.parse(e);if(t&&typeof t=="object"&&"id"in t){let r=this.#e.get(t.id);if(r==null){this.emit("error",z("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));return}this.#e.delete(t.id),r.resolve(t)}else if(t&&t.method==="eth_subscription"){let r=t.params.subscription,s=this.#t.get(r);if(s)s._handleMessage(t.params.result);else{let i=this.#r.get(r);i==null&&(i=[],this.#r.set(r,i)),i.push(t.params.result)}}else{this.emit("error",z("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));return}}async _write(e){throw new Error("sub-classes must override this")}};var dr=class extends Dn{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(e,t,r){super(t,r),typeof e=="string"?(this.#e=()=>new kd(e),this.#t=this.#e()):typeof e=="function"?(this.#e=e,this.#t=e()):(this.#e=null,this.#t=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(s){console.log("failed to start WebsocketProvider",s)}},this.websocket.onmessage=s=>{this._processMessage(s.data)}}async _write(e){this.websocket.send(e)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}};var Ei="84842078b09946638c03157f83405213";function Wg(n){switch(n){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}d(!1,"unsupported network","network",n)}var Cs=class extends dr{projectId;projectSecret;constructor(e,t){let r=new Jr(e,t),s=r._getConnection();m(!s.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});let i=s.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,r._network),E(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===Ei}},Jr=class n extends pe{projectId;projectSecret;constructor(e,t,r){e==null&&(e="mainnet");let s=Q.from(e);t==null&&(t=Ei),r==null&&(r=null);let i=n.getRequest(s,t,r);super(i,s,{staticNetwork:s}),E(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new n(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===Ei}static getWebSocketProvider(e,t){return new Cs(e,t)}static getRequest(e,t,r){t==null&&(t=Ei),r==null&&(r=null);let s=new re(`https://${Wg(e.name)}/v3/${t}`);return s.allowGzip=!0,r&&s.setCredentials("",r),t===Ei&&(s.retryFunc=async(i,o,a)=>(Me("InfuraProvider"),!0)),s}};var ia="919b412a057b5e9c9b6dce193c5a60242d6efadb";function jg(n){switch(n){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}d(!1,"unsupported network","network",n)}var Fn=class n extends pe{token;constructor(e,t){e==null&&(e="mainnet");let r=Q.from(e);t==null&&(t=ia);let s=n.getRequest(r,t);super(s,r,{staticNetwork:r}),E(this,{token:t})}_getProvider(e){try{return new n(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===ia}static getRequest(e,t){t==null&&(t=ia);let r=new re(`https://${jg(e.name)}/${t}`);return r.allowGzip=!0,t===ia&&(r.retryFunc=async(s,i,o)=>(Me("QuickNodeProvider"),!0)),r}};var qg=BigInt("1"),Zg=BigInt("2");function Yg(n){for(let e=n.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),r=n[e];n[e]=n[t],n[t]=r}}function $g(n){return new Promise(e=>{setTimeout(e,n)})}function ul(){return new Date().getTime()}function cl(n){return JSON.stringify(n,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}var Nd={stallTimeout:400,priority:1,weight:1},Pd={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function Xg(n,e){for(;(n.blockNumber<0||n.blockNumber<e)&&(n._updateNumber||(n._updateNumber=(async()=>{try{let t=await n.provider.getBlockNumber();t>n.blockNumber&&(n.blockNumber=t)}catch(t){n.blockNumber=-2,n._lastFatalError=t,n._lastFatalErrorTimestamp=ul()}n._updateNumber=null})()),await n._updateNumber,n.outOfSync++,!n._lastFatalError););}function Rs(n){if(n==null)return"null";if(Array.isArray(n))return"["+n.map(Rs).join(",")+"]";if(typeof n=="object"&&typeof n.toJSON=="function")return Rs(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":case"number":return BigInt(n).toString();case"string":return JSON.stringify(n);case"object":{let e=Object.keys(n);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${Rs(n[t])}`).join(",")+"}"}}throw console.log("Could not serialize",n),new Error("Hmm...")}function ll(n,e){if("error"in e){let r=e.error,s;return $(r,"CALL_EXCEPTION")?s=Rs(Object.assign({},r,{shortMessage:void 0,reason:void 0,info:void 0})):s=Rs(r),{tag:s,value:r}}let t=e.result;return{tag:Rs(t),value:t}}function oa(n,e){let t=new Map;for(let{value:s,tag:i,weight:o}of e){let a=t.get(i)||{value:s,weight:0};a.weight+=o,t.set(i,a)}let r=null;for(let s of t.values())s.weight>=n&&(!r||s.weight>r.weight)&&(r=s);if(r)return r.value}function dl(n,e){let t=0,r=new Map,s=null,i=[];for(let{value:a,tag:c,weight:l}of e)if(a instanceof Error){let f=r.get(c)||{value:a,weight:0};f.weight+=l,r.set(c,f),(s==null||f.weight>s.weight)&&(s=f)}else i.push(BigInt(a)),t+=l;if(t<n)return s&&s.weight>=n?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);let o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+qg)/Zg}function fl(n,e){let t=oa(n,e);if(t!==void 0)return t;for(let r of e)if(r.value)return r.value}function eb(n,e){if(n===1)return S(dl(n,e),"%internal");let t=new Map,r=(o,a)=>{let c=t.get(o)||{result:o,weight:0};c.weight+=a,t.set(o,c)};for(let{weight:o,value:a}of e){let c=S(a);r(c-1,o),r(c,o),r(c+1,o)}let s=0,i;for(let{weight:o,result:a}of t.values())o>=n&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}var Mn=class extends ut{quorum;eventQuorum;eventWorkers;#e;#t;#r;constructor(e,t,r){super(t,r),this.#e=e.map(s=>s instanceof ut?Object.assign({provider:s},Nd,Pd):Object.assign({},Nd,s,Pd)),this.#t=-2,this.#r=null,r&&r.quorum!=null?this.quorum=r.quorum:this.quorum=Math.ceil(this.#e.reduce((s,i)=>(s+=i.weight,s),0)/2),this.eventQuorum=1,this.eventWorkers=1,d(this.quorum<=this.#e.reduce((s,i)=>s+i.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(e=>{let t=Object.assign({},e);for(let r in t)r[0]==="_"&&delete t[r];return t})}async _detectNetwork(){return Q.from(N(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{let r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#n(e){let t=Array.from(e).map(s=>s.config),r=this.#e.slice();Yg(r),r.sort((s,i)=>s.priority-i.priority);for(let s of r)if(!s._lastFatalError&&t.indexOf(s)===-1)return s;return null}#s(e,t){let r=this.#n(e);if(r==null)return null;let s={config:r,result:null,didBump:!1,perform:null,staller:null},i=ul();return s.perform=(async()=>{try{r.requests++;let a=await this._translatePerform(r.provider,t);s.result={result:a}}catch(a){r.errorResponses++,s.result={error:a}}let o=ul()-i;r._totalTime+=o,r.rollingDuration=.95*r.rollingDuration+.05*o,s.perform=null})(),s.staller=(async()=>{await $g(r.stallTimeout),s.staller=null})(),e.add(s),s}async#o(){let e=this.#r;if(!e){let t=[];this.#e.forEach(r=>{t.push((async()=>{await Xg(r,0),r._lastFatalError||(r._network=await r.provider.getNetwork())})())}),this.#r=e=(async()=>{await Promise.all(t);let r=null;for(let s of this.#e){if(s._lastFatalError)continue;let i=s._network;r==null?r=i.chainId:i.chainId!==r&&m(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#i(e,t){let r=[];for(let s of e)if(s.result!=null){let{tag:i,value:o}=ll(t.method,s.result);r.push({tag:i,value:o,weight:s.config.weight})}if(!(r.reduce((s,i)=>s+i.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(S(dl(this.quorum,this.#e.filter(i=>!i._lastFatalError).map(i=>({value:i.blockNumber,tag:S(i.blockNumber).toString(),weight:i.weight}))))));let s=eb(this.quorum,r);return s===void 0?void 0:(s>this.#t&&(this.#t=s),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return dl(this.quorum,r);case"getBlock":return"blockTag"in t&&t.blockTag==="pending"?fl(this.quorum,r):oa(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return oa(this.quorum,r);case"broadcastTransaction":return fl(this.quorum,r)}m(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${cl(t.method)})`})}}async#a(e,t){if(e.size===0)throw new Error("no runners?!");let r=[],s=0;for(let o of e){if(o.perform&&r.push(o.perform),o.staller){r.push(o.staller);continue}o.didBump||(o.didBump=!0,s++)}let i=await this.#i(e,t);if(i!==void 0){if(i instanceof Error)throw i;return i}for(let o=0;o<s;o++)this.#s(e,t);return m(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(o=>cl(o.result))}}),await Promise.race(r),await this.#a(e,t)}async _perform(e){if(e.method==="broadcastTransaction"){let i=this.#e.map(c=>null),o=this.#e.map(async({provider:c,weight:l},f)=>{try{let u=await c._perform(e);i[f]=Object.assign(ll(e.method,{result:u}),{weight:l})}catch(u){i[f]=Object.assign(ll(e.method,{error:u}),{weight:l})}});for(;;){let c=i.filter(u=>u!=null);for(let{value:u}of c)if(!(u instanceof Error))return u;let l=oa(this.quorum,i.filter(u=>u!=null));if($(l,"INSUFFICIENT_FUNDS"))throw l;let f=o.filter((u,h)=>i[h]==null);if(f.length===0)break;await Promise.race(f)}let a=fl(this.quorum,i);if(m(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:i.map(cl)}}),a instanceof Error)throw a;return a}await this.#o();let t=new Set,r=0;for(;;){let i=this.#s(t,e);if(i==null||(r+=i.config.weight,r>=this.quorum))break}let s=await this.#a(t,e);for(let i of t)i.perform&&i.result==null&&i.config.lateResponses++;return s}async destroy(){for(let{provider:e}of this.#e)e.destroy();super.destroy()}};function tb(n){return n&&typeof n.send=="function"&&typeof n.close=="function"}var rb="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function hl(n,e){e==null&&(e={});let t=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof n=="string"&&n.match(/^https?:/))return new pe(n);if(typeof n=="string"&&n.match(/^wss?:/)||tb(n))return new dr(n);let r=null;try{r=Q.from(n)}catch{}let s=[];if(t("publicPolygon")&&r&&(r.name==="matic"?s.push(new pe("https://polygon-rpc.com/",r,{staticNetwork:r})):r.name==="matic-amoy"&&s.push(new pe("https://rpc-amoy.polygon.technology/",r,{staticNetwork:r}))),t("alchemy"))try{s.push(new Sn(n,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{s.push(new Rn(n,e.ankr))}catch{}if(t("chainstack"))try{s.push(new On(n,e.chainstack))}catch{}if(t("cloudflare"))try{s.push(new Un(n))}catch{}if(t("etherscan"))try{s.push(new Ln(n,e.etherscan))}catch{}if(t("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new Jr(n,o,a))}catch{}if(t("quicknode"))try{let o=e.quicknode;s.push(new Fn(n,o))}catch{}if(m(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),r&&rb.indexOf(r.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new Mn(s,void 0,{quorum:i})}var ki=class n extends dt{signer;#e;#t;constructor(e){super(e.provider),E(this,{signer:e}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(e){return new n(this.signer.connect(e))}async getNonce(e){if(e==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));let t=this.#t;return await this.#e+t}return super.getNonce(e)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(e){let t=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}};var Ni=class n extends wi{#e;#t;constructor(e,t,r){let s=Object.assign({},r??{},{batchMaxCount:1});d(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,s),this.#t=null,r&&r.providerInfo&&(this.#t=r.providerInfo),this.#e=async(i,o)=>{let a={method:i,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{let c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){let l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){d(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);let t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(r=>r.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){let r=t.payload;throw this.getRpcError(r,{id:r.id,error:t})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new n(e.provider);let t=e.window?e.window:typeof window<"u"?window:null;if(t==null)return null;let r=e.anyProvider;if(r&&t.ethereum)return new n(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let s=e.timeout?e.timeout:300;return s===0?null:await new Promise((i,o)=>{let a=[],c=u=>{a.push(u.detail),r&&l()},l=()=>{if(clearTimeout(f),a.length)if(e&&e.filter){let u=e.filter(a.map(h=>Object.assign({},h.info)));if(u==null)i(null);else if(u instanceof n)i(u);else{let h=null;if(u.uuid&&(h=a.filter(g=>u.uuid===g.info.uuid)[0]),h){let{provider:p,info:g}=h;i(new n(p,void 0,{providerInfo:g}))}else o(z("filter returned unknown info","UNSUPPORTED_OPERATION",{value:u}))}}else{let{provider:u,info:h}=a[0];i(new n(u,void 0,{providerInfo:h}))}else i(null);t.removeEventListener("eip6963:announceProvider",c)},f=setTimeout(()=>{l()},s);t.addEventListener("eip6963:announceProvider",c),t.dispatchEvent(new Event("eip6963:requestProvider"))})}};function nb(n){switch(n){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}d(!1,"unsupported network","network",n)}var Pi=class n extends pe{apiKey;constructor(e,t){e==null&&(e="mainnet");let r=Q.from(e);t==null&&(t=null);let s=n.getRequest(r);super(s,r,{staticNetwork:r}),E(this,{apiKey:t})}_getProvider(e){try{return new n(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){let t=super.getRpcRequest(e);return t&&t.method==="eth_estimateGas"&&t.args.length==1&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){let r=t?t.error:null;if(r&&r.code===-32015&&!G(r.data||"",!0)){let s={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},i="";r.message==="VM execution error."?i=s[r.data]||"":s[r.message||""]&&(i=s[r.message||""]),i&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+i)}else r&&r.code===-32e3&&r.message==="wrong transaction nonce"&&(r.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){let t=new re(nb(e.name));return t.allowGzip=!0,t}};var aa="62e1ad51b37b8e00394bda3b";function sb(n){switch(n){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}d(!1,"unsupported network","network",n)}var Ti=class n extends pe{applicationId;applicationSecret;constructor(e,t,r){e==null&&(e="mainnet");let s=Q.from(e);t==null&&(t=aa),r==null&&(r=null);let i={staticNetwork:s},o=n.getRequest(s,t,r);super(o,s,i),E(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new n(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,t,r){t==null&&(t=aa);let s=new re(`https://${sb(e.name)}/v1/lb/${t}`);return s.allowGzip=!0,r&&s.setCredentials("",r),t===aa&&(s.retryFunc=async(i,o,a)=>(Me("PocketProvider"),!0)),s}isCommunityResource(){return this.applicationId===aa}};var pl=void 0;var hr=class n extends dt{address;#e;constructor(e,t){super(t),d(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;let r=Rt(this.signingKey.publicKey);E(this,{address:r})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new n(this.#e,e)}async signTransaction(e){e=ft(e);let{to:t,from:r}=await ae({to:e.to?ue(e.to,this):void 0,from:e.from?ue(e.from,this):void 0});t!=null&&(e.to=t),r!=null&&(e.from=r),e.from!=null&&(d(U(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let s=nt.from(e);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(bs(e)).serialized}authorizeSync(e){d(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);let t=this.signingKey.sign(hs(e));return Object.assign({},{address:U(e.address),nonce:N(e.nonce||0),chainId:N(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await ue(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,r){let s=await ct.resolveNames(e,t,r,async i=>{m(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:i}});let o=await this.provider.resolveName(i);return m(o!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:i}),o});return this.signingKey.sign(ct.hash(s.domain,t,s.value)).serialized}};var ca=" !#$%&'()*+,-./<=>?@[]^_`{|}~",ib=/^[a-z]*$/i;function Td(n,e){let t=97;return n.reduce((r,s)=>(s===e?t++:s.match(ib)?r.push(String.fromCharCode(t)+s):(t=97,r.push(s)),r),[])}function ob(n,e){for(let s=ca.length-1;s>=0;s--)n=n.split(ca[s]).join(e.substring(2*s,2*s+2));let t=[],r=n.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(r)throw new Error(`leftovers: ${JSON.stringify(r)}`);return Td(Td(t,";"),":")}function la(n){return d(n[0]==="0","unsupported auwl data","data",n),ob(n.substring(1+2*ca.length),n.substring(1,1+2*ca.length))}var _n=class{locale;constructor(e){E(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}};var pr=class extends _n{#e;#t;constructor(e,t,r){super(e),this.#e=t,this.#t=r,this.#r=null}get _data(){return this.#e}_decodeWords(){return la(this.#e)}#r;#n(){if(this.#r==null){let e=this._decodeWords();if(De(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=e}return this.#r}getWord(e){let t=this.#n();return d(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#n().indexOf(e)}};var ab="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",cb="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",xl=null,$e=class n extends pr{constructor(){super("en",ab,cb)}static wordlist(){return xl==null&&(xl=new n),xl}};function Id(n){return(1<<n)-1<<8-n&255}function lb(n){return(1<<n)-1&255}function ml(n,e){tn("NFKD"),e==null&&(e=$e.wordlist());let t=e.split(n);d(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let r=new Uint8Array(Math.ceil(11*t.length/8)),s=0;for(let l=0;l<t.length;l++){let f=e.getWordIndex(t[l].normalize("NFKD"));d(f>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let u=0;u<11;u++)f&1<<10-u&&(r[s>>3]|=1<<7-s%8),s++}let i=32*t.length/3,o=t.length/3,a=Id(o),c=A(Ee(r.slice(0,i/8)))[0]&a;return d(c===(r[r.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),w(r.slice(0,i/8))}function gl(n,e){d(n.length%4===0&&n.length>=16&&n.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=$e.wordlist());let t=[0],r=11;for(let o=0;o<n.length;o++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[o],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[o]>>8-r,t.push(n[o]&lb(8-r)),r+=3);let s=n.length/4,i=parseInt(Ee(n).substring(2,4),16)&Id(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(o=>e.getWord(o)))}var bl={},Kt=class n{phrase;password;wordlist;entropy;constructor(e,t,r,s,i){s==null&&(s=""),i==null&&(i=$e.wordlist()),Se(e,bl,"Mnemonic"),E(this,{phrase:r,password:s,wordlist:i,entropy:t})}computeSeed(){let e=te("mnemonic"+this.password,"NFKD");return Je(te(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let s=ml(e,r);return e=gl(A(s),r),new n(bl,s,e,t,r)}static fromEntropy(e,t,r){let s=A(e,"entropy"),i=gl(s,r);return new n(bl,w(s),i,t,r)}static entropyToPhrase(e,t){let r=A(e,"entropy");return gl(r,t)}static phraseToEntropy(e,t){return ml(e,t)}static isValidMnemonic(e,t){try{return ml(e,t),!0}catch{}return!1}};var _e=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},yl=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},ua,pt,zt,fb={16:10,24:12,32:14},ub=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],ht=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],fa=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],db=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],hb=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],pb=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],xb=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],mb=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],gb=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],bb=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],yb=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],wb=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],Ab=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],Eb=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],kb=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function wl(n){let e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}var Ii=class n{get key(){return _e(this,ua,"f").slice()}constructor(e){if(ua.set(this,void 0),pt.set(this,void 0),zt.set(this,void 0),!(this instanceof n))throw Error("AES must be instanitated with `new`");yl(this,ua,new Uint8Array(e),"f");let t=fb[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");yl(this,zt,[],"f"),yl(this,pt,[],"f");for(let f=0;f<=t;f++)_e(this,zt,"f").push([0,0,0,0]),_e(this,pt,"f").push([0,0,0,0]);let r=(t+1)*4,s=this.key.length/4,i=wl(this.key),o;for(let f=0;f<s;f++)o=f>>2,_e(this,zt,"f")[o][f%4]=i[f],_e(this,pt,"f")[t-o][f%4]=i[f];let a=0,c=s,l;for(;c<r;){if(l=i[s-1],i[0]^=ht[l>>16&255]<<24^ht[l>>8&255]<<16^ht[l&255]<<8^ht[l>>24&255]^ub[a]<<24,a+=1,s!=8)for(let p=1;p<s;p++)i[p]^=i[p-1];else{for(let p=1;p<s/2;p++)i[p]^=i[p-1];l=i[s/2-1],i[s/2]^=ht[l&255]^ht[l>>8&255]<<8^ht[l>>16&255]<<16^ht[l>>24&255]<<24;for(let p=s/2+1;p<s;p++)i[p]^=i[p-1]}let f=0,u,h;for(;f<s&&c<r;)u=c>>2,h=c%4,_e(this,zt,"f")[u][h]=i[f],_e(this,pt,"f")[t-u][h]=i[f++],c++}for(let f=1;f<t;f++)for(let u=0;u<4;u++)l=_e(this,pt,"f")[f][u],_e(this,pt,"f")[f][u]=wb[l>>24&255]^Ab[l>>16&255]^Eb[l>>8&255]^kb[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");let t=_e(this,zt,"f").length-1,r=[0,0,0,0],s=wl(e);for(let a=0;a<4;a++)s[a]^=_e(this,zt,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)r[c]=db[s[c]>>24&255]^hb[s[(c+1)%4]>>16&255]^pb[s[(c+2)%4]>>8&255]^xb[s[(c+3)%4]&255]^_e(this,zt,"f")[a][c];s=r.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=_e(this,zt,"f")[t][a],i[4*a]=(ht[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(ht[s[(a+1)%4]>>16&255]^o>>16)&255,i[4*a+2]=(ht[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(ht[s[(a+3)%4]&255]^o)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");let t=_e(this,pt,"f").length-1,r=[0,0,0,0],s=wl(e);for(let a=0;a<4;a++)s[a]^=_e(this,pt,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)r[c]=mb[s[c]>>24&255]^gb[s[(c+3)%4]>>16&255]^bb[s[(c+2)%4]>>8&255]^yb[s[(c+1)%4]&255]^_e(this,pt,"f")[a][c];s=r.slice()}let i=new Uint8Array(16),o=0;for(let a=0;a<4;a++)o=_e(this,pt,"f")[t][a],i[4*a]=(fa[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(fa[s[(a+3)%4]>>16&255]^o>>16)&255,i[4*a+2]=(fa[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(fa[s[(a+1)%4]&255]^o)&255;return i}};ua=new WeakMap,pt=new WeakMap,zt=new WeakMap;var Qt=class{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new Ii(t)},name:{enumerable:!0,value:e}})}};var da=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},Ss=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Bi,xr,vi=class n extends Qt{constructor(e,t){if(super("ECC",e,n),Bi.set(this,void 0),xr.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");da(this,Bi,new Uint8Array(t),"f")}else da(this,Bi,new Uint8Array(16),"f");da(this,xr,this.iv,"f")}get iv(){return new Uint8Array(Ss(this,Bi,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let s=0;s<16;s++)Ss(this,xr,"f")[s]^=e[r+s];da(this,xr,this.aes.encrypt(Ss(this,xr,"f")),"f"),t.set(Ss(this,xr,"f"),r)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let s=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)t[r+i]=s[i]^Ss(this,xr,"f")[i],Ss(this,xr,"f")[i]=e[r+i]}return t}};Bi=new WeakMap,xr=new WeakMap;var Al=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Nb,Pb,ha,Tb;Pb=new WeakMap,ha=new WeakMap,Nb=new WeakSet,Tb=function(e){let t=this.segmentSize/8;Al(this,ha,"f").set(Al(this,ha,"f").subarray(t)),Al(this,ha,"f").set(e.subarray(0,t),16-t)};var Os=function(n,e,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!s:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(n,t):s?s.value=t:e.set(n,t),t},xt=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Ci,Hn,mt,Wr=class n extends Qt{constructor(e,t){super("CTR",e,n),Ci.set(this,void 0),Hn.set(this,void 0),mt.set(this,void 0),Os(this,mt,new Uint8Array(16),"f"),xt(this,mt,"f").fill(0),Os(this,Ci,xt(this,mt,"f"),"f"),Os(this,Hn,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(xt(this,mt,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)xt(this,mt,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");xt(this,mt,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(xt(this,mt,"f")[e]===255)xt(this,mt,"f")[e]=0;else{xt(this,mt,"f")[e]++;break}}encrypt(e){var t,r;let s=new Uint8Array(e);for(let i=0;i<s.length;i++)xt(this,Hn,"f")===16&&(Os(this,Ci,this.aes.encrypt(xt(this,mt,"f")),"f"),Os(this,Hn,0,"f"),this.increment()),s[i]^=xt(this,Ci,"f")[Os(this,Hn,(r=xt(this,Hn,"f"),t=r++,r),"f"),t];return s}decrypt(e){return this.encrypt(e)}};Ci=new WeakMap,Hn=new WeakMap,mt=new WeakMap;var Ib,Bb,vb;Ib=new WeakMap,Bb=new WeakMap,vb=new WeakMap;function El(n){if(n.length<16)throw new TypeError("PKCS#7 invalid length");let e=n[n.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");let t=n.length-e;for(let r=0;r<e;r++)if(n[t+r]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(n.subarray(0,t))}function kl(n){return typeof n=="string"&&!n.startsWith("0x")&&(n="0x"+n),fe(n)}function Us(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function Gn(n){return typeof n=="string"?te(n,"NFKC"):fe(n)}function ge(n,e){let t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);d(t!=null,"invalid path","path",e);let r=t[1],s=t[3],i=t[4]==="!",o=n;for(let a of r.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(let l in o)if(l.toLowerCase()===a){c=o[l];break}o=c}else o=null;if(o==null)break}if(d(!i||o!=null,"missing required value","path",r),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return kl(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;d(!1,`wrong type found for ${s} `,"path",r)}return o}var vd="m/44'/60'/0'/0/0";function Ls(n){try{let e=JSON.parse(n);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function Cb(n,e,t){if(ge(n,"crypto.cipher:string")==="aes-128-ctr"){let s=ge(n,"crypto.cipherparams.iv:data!"),i=new Wr(e,s);return w(i.decrypt(t))}m(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function pa(n,e){let t=A(e),r=ge(n,"crypto.ciphertext:data!"),s=w(M(D([t.slice(16,32),r]))).substring(2);d(s===ge(n,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=Cb(n,t.slice(0,16),r),o=Rt(i);if(n.address){let l=n.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),d(U(l)===o,"keystore address/privateKey mismatch","address",n.address)}let a={address:o,privateKey:i};if(ge(n,"x-ethers.version:string")==="0.1"){let l=t.slice(32,64),f=ge(n,"x-ethers.mnemonicCiphertext:data!"),u=ge(n,"x-ethers.mnemonicCounter:data!"),h=new Wr(l,u);a.mnemonic={path:ge(n,"x-ethers.path:string")||vd,locale:ge(n,"x-ethers.locale:string")||"en",entropy:w(A(h.decrypt(f)))}}return a}function Cd(n){let e=ge(n,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){let t=ge(n,"crypto.kdfparams.salt:data!"),r=ge(n,"crypto.kdfparams.n:int!"),s=ge(n,"crypto.kdfparams.r:int!"),i=ge(n,"crypto.kdfparams.p:int!");d(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),d(s>0&&i>0,"invalid kdf","kdf",e);let o=ge(n,"crypto.kdfparams.dklen:int!");return d(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:r,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){let t=ge(n,"crypto.kdfparams.salt:data!"),r=ge(n,"crypto.kdfparams.prf:string!"),s=r.split("-").pop();d(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",r);let i=ge(n,"crypto.kdfparams.c:int!"),o=ge(n,"crypto.kdfparams.dklen:int!");return d(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:i,dkLen:o,algorithm:s}}}d(!1,"unsupported key-derivation function","kdf",e)}function Ri(n,e){let t=JSON.parse(n),r=Gn(e),s=Cd(t);if(s.name==="pbkdf2"){let{salt:u,count:h,dkLen:p,algorithm:g}=s,x=Je(r,u,h,p,g);return pa(t,x)}m(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});let{salt:i,N:o,r:a,p:c,dkLen:l}=s,f=Bt(r,i,o,a,c,l);return pa(t,f)}function Bd(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}async function Si(n,e,t){let r=JSON.parse(n),s=Gn(e),i=Cd(r);if(i.name==="pbkdf2"){t&&(t(0),await Bd(0));let{salt:h,count:p,dkLen:g,algorithm:x}=i,b=Je(s,h,p,g,x);return t&&(t(1),await Bd(0)),pa(r,b)}m(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:o,N:a,r:c,p:l,dkLen:f}=i,u=await It(s,o,a,c,l,f,t);return pa(r,u)}function Rd(n){let e=n.salt!=null?A(n.salt,"options.salt"):Ke(32),t=1<<17,r=8,s=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(s=n.scrypt.p)),d(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),d(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),d(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:s}}function Sd(n,e,t,r){let s=A(t.privateKey,"privateKey"),i=r.iv!=null?A(r.iv,"options.iv"):Ke(16);d(i.length===16,"invalid options.iv length","options.iv",r.iv);let o=r.uuid!=null?A(r.uuid,"options.uuid"):Ke(16);d(o.length===16,"invalid options.uuid length","options.uuid",r.iv);let a=n.slice(0,16),c=n.slice(16,32),l=new Wr(a,i),f=A(l.encrypt(s)),u=M(D([c,f])),h={address:t.address.substring(2).toLowerCase(),id:Ys(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:w(i).substring(2)},ciphertext:w(f).substring(2),kdf:"scrypt",kdfparams:{salt:w(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:u.substring(2)}};if(t.mnemonic){let p=r.client!=null?r.client:`ethers/${Xn}`,g=t.mnemonic.path||vd,x=t.mnemonic.locale||"en",b=n.slice(32,64),y=A(t.mnemonic.entropy,"account.mnemonic.entropy"),P=Ke(16),k=new Wr(b,P),L=A(k.encrypt(y)),T=new Date,R="UTC--"+(T.getUTCFullYear()+"-"+Us(T.getUTCMonth()+1,2)+"-"+Us(T.getUTCDate(),2)+"T"+Us(T.getUTCHours(),2)+"-"+Us(T.getUTCMinutes(),2)+"-"+Us(T.getUTCSeconds(),2)+".0Z")+"--"+h.address;h["x-ethers"]={client:p,gethFilename:R,path:g,locale:x,mnemonicCounter:w(P).substring(2),mnemonicCiphertext:w(L).substring(2),version:"0.1"}}return JSON.stringify(h)}function Vn(n,e,t){t==null&&(t={});let r=Gn(e),s=Rd(t),i=Bt(r,s.salt,s.N,s.r,s.p,64);return Sd(A(i),s,n,t)}async function Kn(n,e,t){t==null&&(t={});let r=Gn(e),s=Rd(t),i=await It(r,s.salt,s.N,s.r,s.p,64,t.progressCallback);return Sd(A(i),s,n,t)}var Ds="m/44'/60'/0'/0/0",Rb=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),Wt=2147483648,Sb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ob="0123456789abcdef";function xa(n,e){let t="";for(;n;)t=Ob[n%16]+t,n=Math.trunc(n/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function Nl(n){let e=A(n),t=Y(Ee(Ee(e)),0,4),r=D([e,t]);return nn(r)}var Jt={};function Od(n,e,t,r){let s=new Uint8Array(37);n&Wt?(m(r!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(A(r),1)):s.set(A(t));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=n>>24-o&255;let i=A(Pt("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function Ud(n,e){let t=e.split("/");d(t.length>0,"invalid path","path",e),t[0]==="m"&&(d(n.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${n.depth}`,"path",e),t.shift());let r=n;for(let s=0;s<t.length;s++){let i=t[s];if(i.match(/^[0-9]+'$/)){let o=parseInt(i.substring(0,i.length-1));d(o<Wt,"invalid path index",`path[${s}]`,i),r=r.deriveChild(Wt+o)}else if(i.match(/^[0-9]+$/)){let o=parseInt(i);d(o<Wt,"invalid path index",`path[${s}]`,i),r=r.deriveChild(o)}else d(!1,"invalid path component",`path[${s}]`,i)}return r}var mr=class n extends hr{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,s,i,o,a,c,l){super(t,l),Se(e,Jt,"HDNodeWallet"),E(this,{publicKey:t.compressedPublicKey});let f=Y(Tt(Ee(this.publicKey)),0,4);E(this,{parentFingerprint:r,fingerprint:f,chainCode:s,path:i,index:o,depth:a}),E(this,{mnemonic:c})}connect(e){return new n(Jt,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&t.wordlist.locale==="en"&&t.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await Kn(this.#e(),e,{progressCallback:t})}encryptSync(e){return Vn(this.#e(),e)}get extendedKey(){return m(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Nl(D(["0x0488ADE4",xa(this.depth,1),this.parentFingerprint,xa(this.index,4),this.chainCode,D(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new zn(Jt,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=S(e,"index");d(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~Wt),t&Wt&&(r+="'"));let{IR:s,IL:i}=Od(t,this.chainCode,this.publicKey,this.privateKey),o=new Ue(Ce((ot(i)+BigInt(this.privateKey))%Sb,32));return new n(Jt,o,this.fingerprint,w(s),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return Ud(this,e)}static#t(e,t){d(bt(e),"invalid seed","seed","[REDACTED]");let r=A(e,"seed");d(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let s=A(Pt("sha512",Rb,r)),i=new Ue(w(s.slice(0,32)));return new n(Jt,i,"0x00000000",w(s.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=q(Ws(e));d(t.length===82||Nl(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],s=w(t.slice(5,9)),i=parseInt(w(t.slice(9,13)).substring(2),16),o=w(t.slice(13,45)),a=t.slice(45,78);switch(w(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let c=w(a);return new zn(Jt,Rt(c),c,s,o,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new n(Jt,new Ue(a.slice(1)),s,o,null,i,r,null,null)}d(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){e==null&&(e=""),t==null&&(t=Ds),r==null&&(r=$e.wordlist());let s=Kt.fromEntropy(Ke(16),e,r);return n.#t(s.computeSeed(),s).derivePath(t)}static fromMnemonic(e,t){return t||(t=Ds),n.#t(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,s){t==null&&(t=""),r==null&&(r=Ds),s==null&&(s=$e.wordlist());let i=Kt.fromPhrase(e,t,s);return n.#t(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return n.#t(e,null)}},zn=class n extends Cn{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,s,i,o,a,c,l){super(t,l),Se(e,Jt,"HDNodeVoidWallet"),E(this,{publicKey:r});let f=Y(Tt(Ee(r)),0,4);E(this,{publicKey:r,fingerprint:f,parentFingerprint:s,chainCode:i,path:o,index:a,depth:c})}connect(e){return new n(Jt,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return m(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),Nl(D(["0x0488B21E",xa(this.depth,1),this.parentFingerprint,xa(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){let t=S(e,"index");d(t<=4294967295,"invalid index","index",t);let r=this.path;r&&(r+="/"+(t&~Wt),t&Wt&&(r+="'"));let{IR:s,IL:i}=Od(t,this.chainCode,this.publicKey,null),o=Ue.addPoints(i,this.publicKey,!0),a=Rt(o);return new n(Jt,a,o,this.fingerprint,w(s),r,t,this.depth+1,this.provider)}derivePath(e){return Ud(this,e)}};function Pl(n){let e=S(n,"index");return d(e>=0&&e<Wt,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function Tl(n){let e=S(n,"index");return d(e>=0&&e<Wt,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function Fs(n){try{if(JSON.parse(n).encseed)return!0}catch{}return!1}function Ms(n,e){let t=JSON.parse(n),r=Gn(e),s=U(ge(t,"ethaddr:string!")),i=kl(ge(t,"encseed:string!"));d(i&&i.length%16===0,"invalid encseed","json",n);let o=A(Je(r,r,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),l=new vi(o,a),f=El(A(l.decrypt(c))),u="";for(let h=0;h<f.length;h++)u+=String.fromCharCode(f[h]);return{address:s,privateKey:De(u)}}function Ld(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}var Oi=class n extends hr{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let r=typeof e=="string"?new Ue(e):e;super(r,t)}connect(e){return new n(this.signingKey,e)}async encrypt(e,t){let r={address:this.address,privateKey:this.privateKey};return await Kn(r,e,{progressCallback:t})}encryptSync(e){let t={address:this.address,privateKey:this.privateKey};return Vn(t,e)}static#e(e){if(d(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){let r=Kt.fromEntropy(e.mnemonic.entropy),s=mr.fromMnemonic(r,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new n(e.privateKey);return d(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let s=null;return Ls(e)?s=await Si(e,t,r):Fs(e)&&(r&&(r(0),await Ld(0)),s=Ms(e,t),r&&(r(1),await Ld(0))),n.#e(s)}static fromEncryptedJsonSync(e,t){let r=null;return Ls(e)?r=Ri(e,t):Fs(e)?r=Ms(e,t):d(!1,"invalid JSON wallet","json","[ REDACTED ]"),n.#e(r)}static createRandom(e){let t=mr.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let r=mr.fromPhrase(e);return t?r.connect(t):r}};var Ub=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function Dd(n,e){let t=(1<<n)-1,r=[],s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|Ub.indexOf(e[a]),i+=6;i>=n;){let c=s>>i-n;s&=(1<<i-n)-1,i-=n,c===0?o+=t:(r.push(c+o),o=0)}return r}function Fd(n,e){let t=la(n).join(",");return e.split(/,/g).forEach(r=>{let s=r.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);d(s!==null,"internal error parsing accents","accents",e);let i=0,o=Dd(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");t=t.replace(c,(l,f)=>(--o[i]===0&&(f=String.fromCharCode(f.charCodeAt(0),a),i++),f))}),t.split(",")}var Ui=class extends pr{#e;constructor(e,t,r,s){super(e,t,s),this.#e=r}get _accent(){return this.#e}_decodeWords(){return Fd(this._data,this._accent)}};var Il={en:$e.wordlist()};var Mh=Qh(Fh(),1);async function OE(n,e={}){let t={width:200,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"M"};try{console.log("wallet.js generateQRCode called with:",n);let r={...t,...e},s=await Mh.default.toDataURL(n,r);return console.log("wallet.js QR generated, length:",s?.length),s}catch(r){throw console.error("wallet.js QR generation error:",r),r}}var UE={ramestta:"icons/rama.png",ethereum:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png",etc:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/classic/info/logo.png",polygon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/polygon/info/logo.png",arbitrum:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png",optimism:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/optimism/info/logo.png",base:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png",linea:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/linea/info/logo.png",mantle:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/mantle/info/logo.png",binance:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/smartchain/info/logo.png",avalanche:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchec/info/logo.png",fantom:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/fantom/info/logo.png",gnosis:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/xdai/info/logo.png",cronos:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/cronos/info/logo.png",klaytn:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/klaytn/info/logo.png",aurora:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/aurora/info/logo.png",iotex:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/iotex/info/logo.png",rootstock:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/rootstock/info/logo.png",okx:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/okc/info/logo.png",palm:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/palm/info/logo.png",milkomeda:"https://raw.githubusercontent.com/milkomeda-com/assets/main/milkomeda-logo.png",mint:"https://mint.club/assets/logo/mint-logo.png"},qn={ramestta_mainnet:{chainId:1370,chainIdHex:"0x55a",name:"Ramestta Mainnet",symbol:"RAMA",decimals:18,rpcUrl:"https://blockchain.ramestta.com",rpcUrls:["https://blockchain.ramestta.com","https://blockchain2.ramestta.com","https://blockchain.rfrm.io"],explorerUrl:"https://ramascan.com",isTestnet:!1,isDefault:!0,category:"ramestta",icon:"icons/rama.png"},ramestta_testnet:{chainId:1369,chainIdHex:"0x559",name:"Ramestta Testnet",symbol:"RAMA",decimals:18,rpcUrl:"https://testnet.ramestta.com",rpcUrls:["https://testnet.ramestta.com","https://testnet.rfrm.io"],explorerUrl:"https://testnet.ramascan.com",isTestnet:!0,isDefault:!0,category:"ramestta",icon:"icons/rama.png"},ethereum_mainnet:{chainId:1,chainIdHex:"0x1",name:"Ethereum Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://eth.llamarpc.com",rpcUrls:["https://eth.llamarpc.com","https://ethereum.publicnode.com","https://rpc.payload.de","https://eth-mainnet.public.blastapi.io"],explorerUrl:"https://etherscan.io",isTestnet:!1,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png"},ethereum_classic:{chainId:61,chainIdHex:"0x3d",name:"Ethereum Classic",symbol:"ETC",decimals:18,rpcUrl:"https://www.ethercluster.com/etc",rpcUrls:["https://www.ethercluster.com/etc","https://etc.rivet.link"],explorerUrl:"https://blockscout.com/etc/mainnet",isTestnet:!1,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/classic/info/logo.png"},sepolia_testnet:{chainId:11155111,chainIdHex:"0xaa36a7",name:"Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.sepolia.org",rpcUrls:["https://rpc.sepolia.org","https://sepolia.drpc.org"],explorerUrl:"https://sepolia.etherscan.io",isTestnet:!0,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png"},holesky_testnet:{chainId:17e3,chainIdHex:"0x4268",name:"Holesky Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.holesky.ethpandaops.io",rpcUrls:["https://rpc.holesky.ethpandaops.io","https://holesky.drpc.org"],explorerUrl:"https://holesky.etherscan.io",isTestnet:!0,category:"ethereum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/info/logo.png"},polygon_mainnet:{chainId:137,chainIdHex:"0x89",name:"Polygon Mainnet",symbol:"POL",decimals:18,rpcUrl:"https://polygon-rpc.com",rpcUrls:["https://polygon-rpc.com","https://polygon.llamarpc.com","https://polygon.lava.build"],explorerUrl:"https://polygonscan.com",isTestnet:!1,category:"polygon",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/polygon/info/logo.png"},polygon_amoy:{chainId:80002,chainIdHex:"0x13882",name:"Polygon Amoy Testnet",symbol:"POL",decimals:18,rpcUrl:"https://rpc-amoy.polygon.technology",rpcUrls:["https://rpc-amoy.polygon.technology","https://polygon-amoy.drpc.org"],explorerUrl:"https://amoy.polygonscan.com",isTestnet:!0,category:"polygon",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/polygon/info/logo.png"},binance_mainnet:{chainId:56,chainIdHex:"0x38",name:"BNB Smart Chain",symbol:"BNB",decimals:18,rpcUrl:"https://bsc-dataseed.binance.org",rpcUrls:["https://bsc-dataseed.binance.org","https://binance.llamarpc.com","https://bsc-rpc.publicnode.com"],explorerUrl:"https://bscscan.com",isTestnet:!1,category:"binance",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/smartchain/info/logo.png"},binance_testnet:{chainId:97,chainIdHex:"0x61",name:"BNB Smart Chain Testnet",symbol:"tBNB",decimals:18,rpcUrl:"https://data-seed-prebsc-1-s1.binance.org:8545",rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545","https://bsc-testnet.drpc.org"],explorerUrl:"https://testnet.bscscan.com",isTestnet:!0,category:"binance",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/smartchain/info/logo.png"},avalanche_mainnet:{chainId:43114,chainIdHex:"0xa86a",name:"Avalanche C-Chain",symbol:"AVAX",decimals:18,rpcUrl:"https://api.avax.network/ext/bc/C/rpc",rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://avax.meowrpc.com","https://avalanche.drpc.org"],explorerUrl:"https://snowtrace.io",isTestnet:!1,category:"avalanche",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchec/info/logo.png"},avalanche_fuji:{chainId:43113,chainIdHex:"0xa869",name:"Avalanche Fuji Testnet",symbol:"AVAX",decimals:18,rpcUrl:"https://api.avax-test.network/ext/bc/C/rpc",rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc","https://avalanche-fuji.drpc.org"],explorerUrl:"https://testnet.snowtrace.io",isTestnet:!0,category:"avalanche",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/avalanchec/info/logo.png"},arbitrum_mainnet:{chainId:42161,chainIdHex:"0xa4b1",name:"Arbitrum One",symbol:"ETH",decimals:18,rpcUrl:"https://arb1.arbitrum.io/rpc",rpcUrls:["https://arb1.arbitrum.io/rpc","https://arbitrum.meowrpc.com","https://rpc.ankr.com/arbitrum"],explorerUrl:"https://arbiscan.io",isTestnet:!1,category:"arbitrum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png"},arbitrum_sepolia:{chainId:421614,chainIdHex:"0x66eee",name:"Arbitrum Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://arbitrum-sepolia.drpc.org",rpcUrls:["https://arbitrum-sepolia.drpc.org","https://sepolia-rollup.arbitrum.io/rpc"],explorerUrl:"https://sepolia.arbiscan.io",isTestnet:!0,category:"arbitrum",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/arbitrum/info/logo.png"},optimism_mainnet:{chainId:10,chainIdHex:"0xa",name:"Optimism",symbol:"ETH",decimals:18,rpcUrl:"https://mainnet.optimism.io",rpcUrls:["https://mainnet.optimism.io","https://optimism.drpc.org"],explorerUrl:"https://optimistic.etherscan.io",isTestnet:!1,category:"optimism",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/optimism/info/logo.png"},base_mainnet:{chainId:8453,chainIdHex:"0x2105",name:"Base",symbol:"ETH",decimals:18,rpcUrl:"https://base-rpc.publicnode.com",rpcUrls:["https://base-rpc.publicnode.com","https://base.drpc.org"],explorerUrl:"https://basescan.org",isTestnet:!1,category:"base",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png"},base_sepolia:{chainId:84532,chainIdHex:"0x14a34",name:"Base Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://sepolia.base.org",rpcUrls:["https://sepolia.base.org","https://base-sepolia-rpc.publicnode.com"],explorerUrl:"https://sepolia.basescan.org",isTestnet:!0,category:"base",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/base/info/logo.png"},fantom_mainnet:{chainId:250,chainIdHex:"0xfa",name:"Fantom Opera",symbol:"FTM",decimals:18,rpcUrl:"https://rpcapi.fantom.network",rpcUrls:["https://rpcapi.fantom.network","https://rpc.fantom.network"],explorerUrl:"https://ftmscan.com",isTestnet:!1,category:"fantom",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/fantom/info/logo.png"},fantom_testnet:{chainId:4002,chainIdHex:"0xfa2",name:"Fantom Testnet",symbol:"FTM",decimals:18,rpcUrl:"https://rpc.testnet.fantom.network",rpcUrls:["https://rpc.testnet.fantom.network"],explorerUrl:"https://testnet.ftmscan.com",isTestnet:!0,category:"fantom",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/fantom/info/logo.png"},gnosis_mainnet:{chainId:100,chainIdHex:"0x64",name:"Gnosis Chain",symbol:"xDAI",decimals:18,rpcUrl:"https://rpc.gnosischain.com",rpcUrls:["https://rpc.gnosischain.com","0xrpc.io/gno"],explorerUrl:"https://gnosisscan.io",isTestnet:!1,category:"gnosis",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/xdai/info/logo.png"},cronos_mainnet:{chainId:25,chainIdHex:"0x19",name:"Cronos Mainnet",symbol:"CRO",decimals:18,rpcUrl:"https://evm.cronos.org",rpcUrls:["https://evm.cronos.org","https://cronos.drpc.org"],explorerUrl:"https://cronoscan.com",isTestnet:!1,category:"cronos",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/cronos/info/logo.png"},cronos_testnet:{chainId:338,chainIdHex:"0x152",name:"Cronos Testnet",symbol:"tCRO",decimals:18,rpcUrl:"https://evm-t3.cronos.org",rpcUrls:["https://evm-t3.cronos.org","https://cronos-testnet.drpc.org"],explorerUrl:"https://testnet.cronoscan.com",isTestnet:!0,category:"cronos",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/cronos/info/logo.png"},linea_mainnet:{chainId:59144,chainIdHex:"0xe708",name:"Linea Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.linea.build",rpcUrls:["https://rpc.linea.build","https://linea.drpc.org"],explorerUrl:"https://lineascan.build",isTestnet:!1,category:"linea",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/linea/info/logo.png"},linea_testnet:{chainId:59141,chainIdHex:"0xe705",name:"Linea Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://rpc.sepolia.linea.build",rpcUrls:["https://rpc.sepolia.linea.build"],explorerUrl:"https://sepolia.lineascan.build",isTestnet:!0,category:"linea",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/linea/info/logo.png"},mantle_mainnet:{chainId:5e3,chainIdHex:"0x1388",name:"Mantle",symbol:"MNT",decimals:18,rpcUrl:"https://rpc.mantle.xyz",rpcUrls:["https://rpc.mantle.xyz","https://mantle-mainnet.public.blastapi.io"],explorerUrl:"https://explorer.mantle.xyz",isTestnet:!1,category:"mantle",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/mantle/info/logo.png"},mantle_testnet:{chainId:5003,chainIdHex:"0x138b",name:"Mantle Sepolia Testnet",symbol:"MNT",decimals:18,rpcUrl:"https://rpc.sepolia.mantle.xyz",rpcUrls:["https://rpc.sepolia.mantle.xyz"],explorerUrl:"https://sepolia.mantlescan.xyz",isTestnet:!0,category:"mantle",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/mantle/info/logo.png"},klaytn_mainnet:{chainId:8217,chainIdHex:"0x2019",name:"Kaia Mainnet",symbol:"KAIA",decimals:18,rpcUrl:"https://klaytn.blockpi.network/v1/rpc/public",rpcUrls:["https://klaytn.blockpi.network/v1/rpc/public"],explorerUrl:"https://scope.klaytn.com",isTestnet:!1,category:"klaytn",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/klaytn/info/logo.png"},klaytn_baobab:{chainId:1001,chainIdHex:"0x3e9",name:"Kaia Kairos Testnet",symbol:"KAIA",decimals:18,rpcUrl:"https://klaytn-baobab.blockpi.network/v1/rpc/public",rpcUrls:["https://klaytn-baobab.blockpi.network/v1/rpc/public"],explorerUrl:"https://baobab.scope.klaytn.com",isTestnet:!0,category:"klaytn",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/klaytn/info/logo.png"},aurora_mainnet:{chainId:1313161554,chainIdHex:"0x4e454152",name:"Aurora Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://mainnet.aurora.dev",rpcUrls:["https://mainnet.aurora.dev","https://aurora.drpc.org"],explorerUrl:"https://aurorascan.dev",isTestnet:!1,category:"aurora",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/aurora/info/logo.png"},aurora_testnet:{chainId:1313161555,chainIdHex:"0x4e454153",name:"Aurora Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://testnet.aurora.dev",rpcUrls:["https://testnet.aurora.dev"],explorerUrl:"https://testnet.aurorascan.dev",isTestnet:!0,category:"aurora",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/aurora/info/logo.png"},iotex_mainnet:{chainId:4689,chainIdHex:"0x1251",name:"IoTeX Mainnet",symbol:"IOTX",decimals:18,rpcUrl:"https://babel-api.mainnet.iotex.io",rpcUrls:["https://babel-api.mainnet.iotex.io"],explorerUrl:"https://iotexscan.io",isTestnet:!1,category:"iotex",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/iotex/info/logo.png"},iotex_testnet:{chainId:4690,chainIdHex:"0x1252",name:"IoTeX Testnet",symbol:"IOTX",decimals:18,rpcUrl:"https://babel-api.testnet.iotex.io",rpcUrls:["https://babel-api.testnet.iotex.io"],explorerUrl:"https://testnet.iotexscan.io",isTestnet:!0,category:"iotex",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/iotex/info/logo.png"},rootstock_mainnet:{chainId:30,chainIdHex:"0x1e",name:"Rootstock Mainnet",symbol:"RBTC",decimals:18,rpcUrl:"https://public-node.rsk.co",rpcUrls:["https://public-node.rsk.co"],explorerUrl:"https://explorer.rsk.co",isTestnet:!1,category:"rootstock",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/rootstock/info/logo.png"},rootstock_testnet:{chainId:31,chainIdHex:"0x1f",name:"Rootstock Testnet",symbol:"tRBTC",decimals:18,rpcUrl:"https://public-node.testnet.rsk.co",rpcUrls:["https://public-node.testnet.rsk.co"],explorerUrl:"https://explorer.testnet.rsk.co",isTestnet:!0,category:"rootstock",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/rootstock/info/logo.png"},okx_mainnet:{chainId:66,chainIdHex:"0x42",name:"OKXChain Mainnet",symbol:"OKT",decimals:18,rpcUrl:"https://exchainrpc.okex.org",rpcUrls:["https://exchainrpc.okex.org","https://oktc.drpc.org"],explorerUrl:"https://www.oklink.com/oktc",isTestnet:!1,category:"okx",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/okc/info/logo.png"},palm_mainnet:{chainId:11297108109,chainIdHex:"0x2a15c308d",name:"Palm Mainnet",symbol:"PALM",decimals:18,rpcUrl:"https://palm-mainnet.public.blastapi.io",rpcUrls:["https://palm-mainnet.public.blastapi.io"],explorerUrl:"https://explorer.palm.io",isTestnet:!1,category:"palm",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/palm/info/logo.png"},palm_testnet:{chainId:11297108099,chainIdHex:"0x2a15c3083",name:"Palm Testnet",symbol:"PALM",decimals:18,rpcUrl:"https://palm-testnet.public.blastapi.io",rpcUrls:["https://palm-testnet.public.blastapi.io"],explorerUrl:"https://explorer.palm-uat.xyz",isTestnet:!0,category:"palm",icon:"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/palm/info/logo.png"},milkomeda_c1:{chainId:2001,chainIdHex:"0x7d1",name:"Milkomeda Cardano",symbol:"milkADA",decimals:18,rpcUrl:"https://rpc-mainnet-cardano-evm.c1.milkomeda.com",rpcUrls:["https://rpc-mainnet-cardano-evm.c1.milkomeda.com"],explorerUrl:"https://explorer-mainnet-cardano-evm.c1.milkomeda.com",isTestnet:!1,category:"milkomeda",icon:"https://raw.githubusercontent.com/milkomeda-com/assets/main/milkomeda-logo.png"},mint_mainnet:{chainId:185,chainIdHex:"0xb9",name:"Mint Mainnet",symbol:"ETH",decimals:18,rpcUrl:"https://global.rpc.mintchain.io",rpcUrls:["https://global.rpc.mintchain.io","https://asia.rpc.mintchain.io"],explorerUrl:"https://explorer.mintchain.io",isTestnet:!1,category:"mint",icon:"https://mintchain.io/favicon.png"},mint_sepolia:{chainId:1687,chainIdHex:"0x697",name:"Mint Sepolia Testnet",symbol:"ETH",decimals:18,rpcUrl:"https://sepolia-testnet-rpc.mintchain.io",rpcUrls:["https://sepolia-testnet-rpc.mintchain.io"],explorerUrl:"https://sepolia-testnet-explorer.mintchain.io",isTestnet:!0,category:"mint",icon:"https://mintchain.io/favicon.png"}},B1=["ramestta_mainnet","ramestta_testnet"],Xe={};Object.keys(qn).forEach(n=>{B1.includes(n)&&(Xe[n]=qn[n])});function LE(n){return qn[n]?(Xe[n]=qn[n],!0):!1}function DE(n){return n==="ramestta_mainnet"?!1:Xe[n]&&!Xe[n].isCustom?(delete Xe[n],!0):!1}function FE(){return qn}function ME(){return Object.keys(Xe).filter(n=>!n.startsWith("custom_"))}function _E(n){n.includes("ramestta_mainnet")||n.unshift("ramestta_mainnet");let e={};Object.keys(Xe).forEach(t=>{t.startsWith("custom_")&&(e[t]=Xe[t])}),Xe={...e},n.forEach(t=>{qn[t]&&(Xe[t]=qn[t])})}var $r="m/44'/60'/0'/0",Yl=class{constructor(){this.currentWallet=null,this.currentNetwork=Xe.ramestta_mainnet,this.provider=null,this.accounts=[]}async initProvider(){let e=this.currentNetwork.rpcUrl;return console.log("Initializing provider for",this.currentNetwork.name,"with RPC:",e),this.provider=new xe.JsonRpcProvider(e,{chainId:this.currentNetwork.chainId,name:this.currentNetwork.name}),this.provider}async createNewWallet(){let e=xe.Mnemonic.entropyToPhrase(xe.randomBytes(16)),r=xe.HDNodeWallet.fromPhrase(e,"",$r).deriveChild(0);return{mnemonic:e,address:r.address,privateKey:r.privateKey,publicKey:r.publicKey,derivationPath:`${$r}/0`}}async importFromMnemonic(e,t=0){if(!xe.Mnemonic.isValidMnemonic(e))throw new Error("Invalid mnemonic phrase");let s=xe.HDNodeWallet.fromPhrase(e.trim(),"",$r).deriveChild(t);return{address:s.address,privateKey:s.privateKey,publicKey:s.publicKey,derivationPath:`${$r}/${t}`,accountIndex:t}}async importFromPrivateKey(e){let t=e.trim();t.startsWith("0x")||(t="0x"+t);let r=new xe.Wallet(t);return{address:r.address,privateKey:r.privateKey,publicKey:r.signingKey.publicKey,type:"privateKey"}}async importFromKeystore(e,t){let r=await xe.Wallet.fromEncryptedJson(e,t);return{address:r.address,privateKey:r.privateKey,publicKey:r.signingKey.publicKey,type:"keystore"}}async deriveAccounts(e,t=1){let r=[],s=xe.HDNodeWallet.fromPhrase(e.trim(),"",$r);for(let i=0;i<t;i++){let o=s.deriveChild(i);r.push({address:o.address,privateKey:o.privateKey,publicKey:o.publicKey,derivationPath:`${$r}/${i}`,accountIndex:i,name:`Account ${i+1}`,type:"derived"})}return r}async deriveAccount(e,t){let s=xe.HDNodeWallet.fromPhrase(e.trim(),"",$r).deriveChild(t);return{address:s.address,privateKey:s.privateKey,publicKey:s.publicKey,derivationPath:`${$r}/${t}`,accountIndex:t,name:`Account ${t+1}`,type:"derived"}}async getBalance(e){await this.initProvider(),console.log("getBalance using RPC:",this.currentNetwork.rpcUrl,"for",this.currentNetwork.name);let t=await this.provider.getBalance(e),r=xe.formatEther(t);return console.log("Balance result:",r,this.currentNetwork.symbol),{wei:t.toString(),ether:r,symbol:this.currentNetwork.symbol}}async getTokenBalance(e,t){this.provider||await this.initProvider();let r=["function balanceOf(address) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)"],s=new xe.Contract(t,r,this.provider),[i,o,a,c]=await Promise.all([s.balanceOf(e),s.decimals(),s.symbol(),s.name()]);return{balance:i.toString(),formatted:xe.formatUnits(i,o),decimals:Number(o),symbol:a,name:c}}async getTokenInfo(e){this.provider||await this.initProvider();let t=["function decimals() view returns (uint8)","function symbol() view returns (string)","function name() view returns (string)","function totalSupply() view returns (uint256)"],r=new xe.Contract(e,t,this.provider),[s,i,o,a]=await Promise.all([r.decimals(),r.symbol(),r.name(),r.totalSupply().catch(()=>BigInt(0))]);return{address:e,decimals:Number(s),symbol:i,name:o,totalSupply:a.toString()}}async sendTransaction(e,t,r){this.provider||await this.initProvider();let s=parseFloat(r).toString();if(isNaN(parseFloat(s))||parseFloat(s)<=0)throw new Error("Invalid amount");return await(await new xe.Wallet(e,this.provider).sendTransaction({to:t,value:xe.parseEther(s)})).wait()}async sendToken(e,t,r,s){this.provider||await this.initProvider();let i=new xe.Wallet(e,this.provider),o=["function transfer(address to, uint256 amount) returns (bool)","function decimals() view returns (uint8)"],a=new xe.Contract(t,o,i),c=await a.decimals(),l=xe.parseUnits(s,c);return await(await a.transfer(r,l)).wait()}async estimateGas(e,t,r){this.provider||await this.initProvider();let s=await this.provider.estimateGas({from:e,to:t,value:xe.parseEther(r)}),i=await this.provider.getFeeData();return{gasLimit:s.toString(),gasPrice:i.gasPrice?.toString()||"0",maxFeePerGas:i.maxFeePerGas?.toString()||"0",maxPriorityFeePerGas:i.maxPriorityFeePerGas?.toString()||"0"}}async signMessage(e,t){return await new xe.Wallet(e).signMessage(t)}async signTypedData(e,t,r,s){return await new xe.Wallet(e).signTypedData(t,r,s)}switchNetwork(e){if(Xe[e])this.currentNetwork=Xe[e],this.provider=null;else throw new Error(`Unknown network: ${e}`)}addCustomNetwork(e){let t=`custom_${e.chainId}`;return Xe[t]=e,t}async getTransactionHistory(e){if(console.log("getTransactionHistory called with address:",e),console.log("Current network:",this.currentNetwork?.name,"chainId:",this.currentNetwork?.chainId),!e)return console.log("No address provided, returning empty"),[];if(!this.currentNetwork?.explorerUrl)return console.log("No explorerUrl found, returning empty"),[];if(!this.hasTransactionHistoryApi())return console.log("No free transaction history API for this network"),[];let r=(f,u=1e4,h=[])=>Promise.race([f,new Promise(p=>setTimeout(()=>{console.log("Fetch timed out after",u,"ms"),p(h)},u))]).catch(p=>(console.warn("Fetch error:",p),h)),[s,i,o]=await Promise.all([r(this.fetchNativeTransactions(e),15e3,[]),r(this.fetchTokenTransfers(e),1e4,[]),r(this.fetchNftTransfers(e),1e4,[])]),a=[...s,...i,...o];a.sort((f,u)=>(parseInt(u.timeStamp)||0)-(parseInt(f.timeStamp)||0));let c=new Set,l=a.filter(f=>{let u=f.txType==="native"?f.hash:`${f.hash}_${f.tokenSymbol||""}_${f.from}_${f.to}`;return c.has(u)?!1:(c.add(u),!0)});return console.log(`Fetched ${s.length} native, ${i.length} token, ${o.length} NFT transactions`),l}getApiBaseUrl(){let e=this.currentNetwork.explorerUrl;return e.includes("ramascan.com")?"https://latest-backendapi.ramascan.com/api/v1/":e.includes("etherscan.io")?"https://api.etherscan.io/api":e.includes("polygonscan.com")?"https://api.polygonscan.com/api":e.includes("bscscan.com")?"https://api.bscscan.com/api":e.includes("arbiscan.io")?"https://api.arbiscan.io/api":e.includes("optimistic.etherscan.io")?"https://api-optimistic.etherscan.io/api":e.includes("basescan.org")?"https://api.basescan.org/api":e.includes("snowtrace.io")||e.includes("snowscan.xyz")?"https://api.snowscan.xyz/api":e.includes("ftmscan.com")?"https://api.ftmscan.com/api":`${e.replace(/\/$/,"")}/api`}getBlockscoutV2BaseUrl(){let e=this.currentNetwork?.explorerUrl||"",t=this.currentNetwork?.chainId;if(e.includes("ramascan.com"))return e.includes("testnet")?"https://testnet-backendapi.ramascan.com":"https://latest-backendapi.ramascan.com";let r={1:"https://eth.blockscout.com",11155111:"https://eth-sepolia.blockscout.com",17e3:"https://eth-holesky.blockscout.com",61:"https://etc.blockscout.com",137:"https://polygon.blockscout.com",80002:"https://polygon-amoy.blockscout.com",42161:"https://arbitrum.blockscout.com",10:"https://optimism.blockscout.com",8453:"https://base.blockscout.com",84532:"https://base-sepolia.blockscout.com",324:"https://zksync.blockscout.com",100:"https://gnosis.blockscout.com",534352:"https://scroll.blockscout.com",59144:"https://linea.blockscout.com",5e3:"https://explorer.mantle.xyz",42220:"https://celo.blockscout.com"};if(t&&r[t])return r[t];if(e.includes("blockscout.com")){let s=e.match(/https?:\/\/[^\/]+/);return s?s[0]:null}return null}getRoutescanApiUrl(){let e=this.currentNetwork?.chainId,t={43114:{network:"mainnet",chainId:43114},43113:{network:"testnet",chainId:43113}};if(e&&t[e]){let r=t[e];return`https://api.routescan.io/v2/network/${r.network}/evm/${r.chainId}`}return null}hasTransactionHistoryApi(){let e=[56,97,250,4002,25,338],t=this.currentNetwork?.chainId;return!e.includes(t)}usesBlockscoutV2(){return this.getBlockscoutV2BaseUrl()!==null}usesRoutescan(){return this.getRoutescanApiUrl()!==null}async fetchNativeTransactions(e){let t=this.currentNetwork.explorerUrl||"";if(console.log("fetchNativeTransactions - explorerUrl:",t,"address:",e),t.includes("ramascan.com")){let l=t.includes("testnet")?"https://testnet-backendapi.ramascan.com":"https://latest-backendapi.ramascan.com";try{let f=`${l}/api/v2/addresses/${e}/transactions`;console.log("Fetching native transactions from v2 API:",f);let u=await fetch(f,{headers:{Accept:"application/json","User-Agent":"RamaPay-Extension/1.0"}});if(console.log("V2 API response status:",u.status),u.ok){let h=await u.json();if(console.log("V2 API data items count:",h.items?.length||0),h.items&&Array.isArray(h.items)){let p=this.parseV2Transactions(h.items,e);return console.log("Parsed V2 transactions:",p.length),p}}else console.warn("V2 API returned non-ok status:",u.status)}catch(f){console.warn("V2 transactions fetch failed, trying v1:",f)}try{let f=`${l}/api/v1/?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`;console.log("Trying v1 API:",f);let u=await fetch(f);if(u.ok){let h=await u.json();if(h.status==="1"&&Array.isArray(h.result))return this.parseV1Transactions(h.result)}}catch(f){console.warn("V1 transactions fetch also failed:",f)}return[]}let s=this.getBlockscoutV2BaseUrl();if(s&&this.usesBlockscoutV2())try{let c=`${s}/api/v2/addresses/${e}/transactions`;console.log("Fetching from Blockscout v2 API:",c);let l=await fetch(c,{headers:{Accept:"application/json"}});if(l.ok){let f=await l.json();if(f.items&&Array.isArray(f.items))return this.parseV2Transactions(f.items,e)}}catch(c){console.warn("Blockscout v2 fetch failed, trying alternatives:",c)}let i=this.getRoutescanApiUrl();if(i)try{let c=`${i}/address/${e}/transactions`;console.log("Fetching from Routescan API:",c);let l=await fetch(c,{headers:{Accept:"application/json"}});if(l.ok){let f=await l.json();if(f.items&&Array.isArray(f.items))return this.parseRoutescanTransactions(f.items,e)}}catch(c){console.warn("Routescan fetch failed:",c)}let a=`${this.getApiBaseUrl()}?module=account&action=txlist&address=${e}&sort=desc&page=1&offset=50`;try{console.log("Fetching native transactions from:",a);let c=await fetch(a);if(!c.ok)throw new Error(`HTTP ${c.status}`);let l=await c.json();return Array.isArray(l.result)&&l.result.length>0?(console.log(`Fetched ${l.result.length} transactions (status: ${l.status})`),this.parseV1Transactions(l.result)):(l.message&&console.log("API response:",l.message),[])}catch(c){return console.warn("Native transactions fetch failed:",c),[]}}parseRoutescanTransactions(e,t){return e.map(r=>{let s;if(r.timestamp)try{let i=new Date(r.timestamp);s=Math.floor(i.getTime()/1e3).toString()}catch{s=Math.floor(Date.now()/1e3).toString()}else s=Math.floor(Date.now()/1e3).toString();return{hash:r.id||r.hash||"",from:r.from||"",to:r.to||"",value:r.value||"0",timeStamp:s,blockNumber:String(r.blockNumber||""),gasPrice:r.gasPrice||"0",gasUsed:String(r.gasUsed||"0"),isError:!r.status,txreceipt_status:r.status?"1":"0",input:"0x",methodId:"",functionName:"",txType:"native",tokenSymbol:this.currentNetwork.symbol||"ETH"}})}parseV1Transactions(e){return e.map(t=>({hash:t.hash,from:t.from,to:t.to,value:t.value,timeStamp:t.timeStamp,blockNumber:t.blockNumber,gasPrice:t.gasPrice,gasUsed:t.gasUsed,isError:t.isError==="1",txreceipt_status:t.txreceipt_status,input:t.input,methodId:t.methodId,functionName:t.functionName,txType:"native",tokenSymbol:this.currentNetwork.symbol||"RAMA"}))}parseV2Transactions(e,t){return e.map(r=>{let s=r.from?.hash||r.from||"",i=r.to?.hash||r.to||"",o;if(r.timestamp)try{let u=r.timestamp.split(".")[0]+"Z",h=new Date(u);o=Math.floor(h.getTime()/1e3).toString()}catch{o=Math.floor(Date.now()/1e3).toString()}else o=Math.floor(Date.now()/1e3).toString();let c=(r.transaction_types||[]).includes("token_transfer"),l=r.method||"";r.decoded_input?.method_call&&(l=r.decoded_input.method_call.split("(")[0]);let f=r.status!=="ok"||r.result!=="success";return{hash:r.hash||"",from:s,to:i,value:r.value||"0",timeStamp:o,blockNumber:String(r.block_number||r.block||""),gasPrice:r.gas_price||"0",gasUsed:String(r.gas_used||"0"),isError:f,txreceipt_status:r.status==="ok"?"1":"0",input:r.raw_input||"0x",methodId:r.raw_input?.slice(0,10)||"",functionName:l,txType:"native",tokenSymbol:this.currentNetwork.symbol||"RAMA",fee:r.fee?.value||"0",nonce:r.nonce,contractName:r.to?.name||null,isContractCall:r.to?.is_contract||!1}})}async fetchTokenTransfers(e){let t=this.getApiBaseUrl(),r=this.currentNetwork.explorerUrl||"",s=this.getBlockscoutV2BaseUrl();if(s)try{let a=`${s}/api/v2/addresses/${e}/token-transfers?type=ERC-20`;console.log("Fetching token transfers from v2 API:",a);let c=await fetch(a);if(c.ok){let l=await c.json();if(console.log("Token transfers v2 API items:",l.items?.length||0),l.items&&Array.isArray(l.items))return this.parseV2TokenTransfers(l.items,e)}}catch(a){console.warn("V2 token transfers fetch failed, falling back:",a)}let i=this.getRoutescanApiUrl();if(i)try{let a=`${i}/address/${e}/erc20-transfers`;console.log("Fetching token transfers from Routescan:",a);let c=await fetch(a,{headers:{Accept:"application/json"}});if(c.ok){let l=await c.json();if(l.items&&Array.isArray(l.items))return this.parseRoutescanTokenTransfers(l.items,e)}}catch(a){console.warn("Routescan token transfers fetch failed:",a)}let o=`${t}?module=account&action=tokentx&address=${e}&sort=desc&page=1&offset=50`;try{console.log("Fetching token transfers from:",o);let a=await fetch(o);if(!a.ok)throw new Error(`HTTP ${a.status}`);let c=await a.json();return Array.isArray(c.result)&&c.result.length>0?(console.log(`Fetched ${c.result.length} token transfers (status: ${c.status})`),c.result.map(l=>({hash:l.hash,from:l.from,to:l.to,value:l.value,timeStamp:l.timeStamp,blockNumber:l.blockNumber,contractAddress:l.contractAddress,tokenName:l.tokenName,tokenSymbol:l.tokenSymbol,tokenDecimal:l.tokenDecimal,gasPrice:l.gasPrice,gasUsed:l.gasUsed,txType:"erc20"}))):[]}catch(a){return console.warn("Token transfers fetch failed:",a),[]}}parseV2TokenTransfers(e,t){return e.filter(r=>{if(r.type==="token_burning")return!1;let s=r.to?.hash||r.to;return!(s&&s.toLowerCase()==="0x0000000000000000000000000000000000000000")}).map(r=>{let s=r.from?.hash||r.from||"",i=r.to?.hash||r.to||"",o=r.token||{},a=o.address||"",c=o.name||"Unknown Token",l=o.symbol||"TOKEN",f=o.decimals||"18",h=(r.total||{}).value||r.value||"0",p;if(r.timestamp)try{let g=new Date(r.timestamp.split(".")[0]+"Z");p=Math.floor(g.getTime()/1e3).toString()}catch{p=Math.floor(Date.now()/1e3).toString()}else p=Math.floor(Date.now()/1e3).toString();return{hash:r.transaction_hash||r.tx_hash||"",from:s,to:i,value:h,timeStamp:p,blockNumber:String(r.block_number||r.block||""),contractAddress:a,tokenName:c,tokenSymbol:l,tokenDecimal:f,txType:"erc20"}})}parseRoutescanTokenTransfers(e,t){return e.filter(r=>(r.to||"").toLowerCase()!=="0x0000000000000000000000000000000000000000").map(r=>{let s;if(r.timestamp)try{let i=new Date(r.timestamp);s=Math.floor(i.getTime()/1e3).toString()}catch{s=Math.floor(Date.now()/1e3).toString()}else s=Math.floor(Date.now()/1e3).toString();return{hash:r.id||r.transactionHash||"",from:r.from||"",to:r.to||"",value:r.value||"0",timeStamp:s,blockNumber:String(r.blockNumber||""),contractAddress:r.tokenAddress||"",tokenName:r.tokenName||"Unknown Token",tokenSymbol:r.tokenSymbol||"TOKEN",tokenDecimal:r.tokenDecimals||"18",txType:"erc20"}})}async fetchNftTransfers(e){let t=this.getApiBaseUrl(),r=this.currentNetwork.explorerUrl||"",s=this.getBlockscoutV2BaseUrl();if(s)try{let i=`${s}/api/v2/addresses/${e}/token-transfers?type=ERC-721,ERC-1155`;console.log("Fetching NFT transfers from v2 API:",i);let o=await fetch(i,{headers:{Accept:"application/json","User-Agent":"RamaPay-Extension/1.0"}});if(o.ok){let a=await o.json();if(console.log("NFT transfers v2 API items:",a.items?.length||0),a.items&&Array.isArray(a.items)&&a.items.length>0)return this.parseV2NftTransfers(a.items,e)}}catch(i){console.warn("V2 NFT transfers fetch failed, trying v1:",i)}try{let i=`${t}?module=account&action=tokennfttx&address=${e}&sort=desc&page=1&offset=50`;console.log("Fetching NFT transfers from v1 API:",i);let o=await fetch(i);if(o.ok){let a=await o.json();if(Array.isArray(a.result)&&a.result.length>0)return console.log(`Fetched ${a.result.length} NFT transfers (status: ${a.status})`),a.result.map(c=>({hash:c.hash,from:c.from,to:c.to,tokenID:c.tokenID,timeStamp:c.timeStamp,blockNumber:c.blockNumber,contractAddress:c.contractAddress,tokenName:c.tokenName,tokenSymbol:c.tokenSymbol,txType:"nft"}))}}catch(i){console.warn("NFT transfers fetch failed:",i)}return[]}parseV2NftTransfers(e,t){return e.filter(r=>{if(r.type==="token_burning")return!1;let s=r.to?.hash||r.to;return!(s&&s.toLowerCase()==="0x0000000000000000000000000000000000000000")}).map(r=>{let s=r.from?.hash||r.from||"",i=r.to?.hash||r.to||"",o=r.token||{},a=o.address||"",c=o.name||"Unknown NFT",l=o.symbol||"NFT",u=(r.total||{}).token_id||r.token_id||"",h;if(r.timestamp)try{let p=r.timestamp.split(".")[0]+"Z",g=new Date(p);h=Math.floor(g.getTime()/1e3).toString()}catch{h=Math.floor(Date.now()/1e3).toString()}else h=Math.floor(Date.now()/1e3).toString();return{hash:r.transaction_hash||r.tx_hash||"",from:s,to:i,tokenID:u,timeStamp:h,blockNumber:String(r.block_number||r.block||""),contractAddress:a,tokenName:c,tokenSymbol:l,txType:"nft"}})}},$l=class{constructor(){this.storageKey="ramapay_wallet_data"}async encrypt(e,t){let r=new TextEncoder,s=JSON.stringify(e),i=await crypto.subtle.importKey("raw",r.encode(t),"PBKDF2",!1,["deriveBits","deriveKey"]),o=crypto.getRandomValues(new Uint8Array(16)),a=crypto.getRandomValues(new Uint8Array(12)),c=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!1,["encrypt"]),l=await crypto.subtle.encrypt({name:"AES-GCM",iv:a},c,r.encode(s)),f=new Uint8Array(o.length+a.length+l.byteLength);return f.set(o,0),f.set(a,o.length),f.set(new Uint8Array(l),o.length+a.length),btoa(String.fromCharCode(...f))}async decrypt(e,t){let r=new TextEncoder,s=new TextDecoder,i=Uint8Array.from(atob(e),h=>h.charCodeAt(0)),o=i.slice(0,16),a=i.slice(16,28),c=i.slice(28),l=await crypto.subtle.importKey("raw",r.encode(t),"PBKDF2",!1,["deriveBits","deriveKey"]),f=await crypto.subtle.deriveKey({name:"PBKDF2",salt:o,iterations:1e5,hash:"SHA-256"},l,{name:"AES-GCM",length:256},!1,["decrypt"]),u=await crypto.subtle.decrypt({name:"AES-GCM",iv:a},f,c);return JSON.parse(s.decode(u))}async saveWallet(e,t){let r=await this.encrypt(e,t);return new Promise((s,i)=>{chrome.storage.local.set({[this.storageKey]:r},()=>{chrome.runtime.lastError?i(chrome.runtime.lastError):s()})})}async loadWallet(e){return new Promise((t,r)=>{chrome.storage.local.get([this.storageKey],async s=>{if(chrome.runtime.lastError){r(chrome.runtime.lastError);return}let i=s[this.storageKey];if(!i){t(null);return}try{let o=await this.decrypt(i,e);t(o)}catch{r(new Error("Invalid password"))}})})}async hasWallet(){return new Promise(e=>{chrome.storage.local.get([this.storageKey],t=>{e(!!t[this.storageKey])})})}async clearWallet(){return new Promise((e,t)=>{chrome.storage.local.remove([this.storageKey],()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()})})}async savePreferences(e){return new Promise((t,r)=>{chrome.storage.local.set({ramapay_preferences:e},()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):t()})})}async loadPreferences(){return new Promise(e=>{chrome.storage.local.get(["ramapay_preferences"],t=>{e(t.ramapay_preferences||{network:"ramestta_mainnet",currency:"USD",theme:"dark"})})})}},HE=new Yl,GE=new $l;export{qn as ALL_NETWORKS,B1 as DEFAULT_ENABLED_NETWORKS,Xe as NETWORKS,UE as NETWORK_ICONS,$l as StorageManager,Yl as WalletManager,DE as disableNetwork,LE as enableNetwork,OE as generateQRCode,FE as getAllAvailableNetworks,ME as getEnabledNetworkKeys,_E as setEnabledNetworks,GE as storageManager,HE as walletManager};
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

aes-js/lib.esm/aes.js:
  (*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. *)
*/
