<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relay Nodes - Earn MCT by Running a MumbleChat Relay</title>
    <meta name="description" content="Become a MumbleChat relay node. Stake 100 MCT, provide storage and uptime, earn rewards. Bronze, Silver, Gold, Platinum tiers.">
    
    <link rel="icon" type="image/svg+xml" href="icons/icon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32.png">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="MumbleChat">
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <div class="logo-icon">ğŸ’¬</div>
                <span>MumbleChat</span>
            </a>
            
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="protocol.html">Protocol</a></li>
                <li><a href="token.html">MCT Token</a></li>
                <li class="nav-dropdown">
                    <a class="active">ğŸŒ Network</a>
                    <div class="dropdown-menu">
                        <a href="relay-nodes.html" class="active">ğŸ“‹ Relay Nodes</a>
                        <a href="network-status.html">ğŸ“¡ Network Status</a>
                        <div class="dropdown-divider"></div>
                        <a href="relay-node.html" style="color: #4bc0c8;">ğŸš€ Run a Node</a>
                    </div>
                </li>
                <li><a href="download.html">Download</a></li>
                <li><a href="docs.html">Docs</a></li>
            </ul>
            
            <div class="nav-actions">
                <a href="conversations.html" class="btn btn-primary">Chat Now</a>
                <button class="mobile-menu-btn">â˜°</button>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero" style="min-height: 60vh;">
        <div class="hero-content">
            <div class="hero-badge">
                <span>ğŸŒ</span>
                <span>V4 Node Identity + Tier Staking System</span>
            </div>
            <h1 class="hero-title">Become a <span>Relay Node</span></h1>
            <p class="hero-subtitle">
                Join the decentralized P2P network with V4 Node Identity System. 
                Stake MCT based on your tier (100-400 MCT), earn rewards proportional to uptime and relays.
            </p>
            <div class="hero-actions">
                <a href="download.html" class="btn btn-primary btn-lg">
                    ğŸ“± Download RamaPay to Start
                </a>
            </div>
        </div>
    </section>

    <!-- Live Network Stats -->
    <section class="section" style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(16, 185, 129, 0.15) 100%); padding: 48px 0;">
        <div class="container">
            <div class="section-title" style="margin-bottom: 32px;">
                <h2>ğŸ“Š Live <span>Network Stats</span></h2>
            </div>
            
            <div class="grid grid-4">
                <!-- Active Nodes -->
                <div class="card text-center" style="border-top: 3px solid var(--success);">
                    <div style="font-size: 42px; font-weight: 800; color: var(--success);" id="activeNodesCount">--</div>
                    <div style="color: var(--text-muted); font-size: 14px;">Active Relay Nodes</div>
                </div>
                
                <!-- Today's Relays -->
                <div class="card text-center" style="border-top: 3px solid var(--primary);">
                    <div style="font-size: 42px; font-weight: 800; color: var(--primary);" id="todayRelaysCount">--</div>
                    <div style="color: var(--text-muted); font-size: 14px;">Messages Relayed Today</div>
                </div>
                
                <!-- Fee Pool Balance -->
                <div class="card text-center" style="border-top: 3px solid var(--warning);">
                    <div style="font-size: 32px; font-weight: 800; color: var(--warning);" id="feePoolAmount">-- MCT</div>
                    <div style="color: var(--text-muted); font-size: 14px;">Transaction Fee Pool</div>
                </div>
                
                <!-- Daily Pool -->
                <div class="card text-center" style="border-top: 3px solid var(--secondary);">
                    <div style="font-size: 32px; font-weight: 800; color: var(--secondary);">100 MCT</div>
                    <div style="color: var(--text-muted); font-size: 14px;">Daily Relay Pool</div>
                </div>
            </div>
            
            <!-- Pool Distribution Breakdown -->
            <div class="card mt-4" style="background: var(--bg-dark);">
                <div class="grid grid-2" style="gap: 32px;">
                    <!-- Fee Pool Card -->
                    <div>
                        <h3 style="color: var(--warning); margin-bottom: 16px;">ğŸ’° Transaction Fee Pool</h3>
                        <p class="card-text mb-3">0.1% of every MCT transfer goes to this pool. Distributed to active relay nodes based on tier multiplier.</p>
                        <div style="background: rgba(251, 191, 36, 0.1); border-radius: 8px; padding: 16px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>Current Balance:</span>
                                <strong id="feePoolDisplay" style="color: var(--warning);">-- MCT</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>Source:</span>
                                <strong>0.1% transfer fee</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Distribution:</span>
                                <strong>Tier-weighted (1x-3x)</strong>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Daily Pool Card -->
                    <div>
                        <h3 style="color: var(--secondary); margin-bottom: 16px;">âš¡ Daily Relay Reward Pool</h3>
                        <p class="card-text mb-3">100 MCT distributed daily to all relay nodes proportionally based on messages relayed Ã— tier multiplier.</p>
                        <div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 16px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>Today's Pool:</span>
                                <strong style="color: var(--secondary);">100 MCT</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>Today's Relays:</span>
                                <strong id="dailyRelaysDisplay">--</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span>Contributors:</span>
                                <strong id="contributorsDisplay">-- nodes</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="section" id="how-it-works">
        <div class="container">
            <div class="section-title">
                <h2>How <span>Relay Nodes</span> Work</h2>
            </div>
            
            <div class="card mb-4">
                <pre class="code-block"><code>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       RELAY NODE PURPOSE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚   WITHOUT RELAYS:                                                       â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚                                                                          â”‚
â”‚   [Alice] â”€â”€â”€â”€Xâ”€â”€â”€â”€â–º [Bob] (offline)                                    â”‚
â”‚              â”‚                                                           â”‚
â”‚              â””â”€â”€ Message LOST âŒ                                        â”‚
â”‚                                                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                          â”‚
â”‚   WITH RELAYS:                                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                          â”‚
â”‚                                                                          â”‚
â”‚   [Alice] â”€â”€â”€â”€â”€â–º [Relay Node] â”€â”€â”€â”€â”€â–º [Bob] (when online)                â”‚
â”‚                  (stores msg)                                            â”‚
â”‚              â”‚                                                           â”‚
â”‚              â””â”€â”€ Message DELIVERED âœ…                                   â”‚
â”‚                                                                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                                                          â”‚
â”‚   RELAY NODES:                                                          â”‚
â”‚   â€¢ Store encrypted messages for offline users                          â”‚
â”‚   â€¢ Deliver when recipient comes online                                 â”‚
â”‚   â€¢ Earn MCT rewards for service                                        â”‚
â”‚   â€¢ Can't read message content (encrypted)                              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </code></pre>
            </div>
            
            <div class="grid grid-4">
                <div class="card text-center">
                    <div style="font-size: 2rem; margin-bottom: 12px;">1ï¸âƒ£</div>
                    <h4>Register Identity</h4>
                    <p class="card-text">First register as a normal user with your public key.</p>
                </div>
                <div class="card text-center">
                    <div style="font-size: 2rem; margin-bottom: 12px;">2ï¸âƒ£</div>
                    <h4>Stake 100 MCT</h4>
                    <p class="card-text">Stake MCT tokens to become a relay node.</p>
                </div>
                <div class="card text-center">
                    <div style="font-size: 2rem; margin-bottom: 12px;">3ï¸âƒ£</div>
                    <h4>Provide Service</h4>
                    <p class="card-text">Store messages and maintain uptime.</p>
                </div>
                <div class="card text-center">
                    <div style="font-size: 2rem; margin-bottom: 12px;">4ï¸âƒ£</div>
                    <h4>Earn Rewards</h4>
                    <p class="card-text">Claim MCT from minting + fee pool.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Tier System -->
    <section class="section" id="tiers" style="background: var(--bg-card);">
        <div class="container">
            <div class="section-title">
                <h2>Tier <span>System</span></h2>
                <p class="section-subtitle">
                    Daily pool of 100 MCT distributed at midnight UTC. Higher tier = bigger share based on relay count Ã— multiplier.
                </p>
            </div>
            
            <div class="grid grid-4">
                <div class="tier-card bronze">
                    <div class="tier-badge">ğŸ¥‰</div>
                    <h3 class="tier-name" style="color: var(--bronze);">Bronze</h3>
                    <div class="tier-requirements">
                        4+ hours/day uptime<br>
                        1 GB storage
                    </div>
                    <ul class="tier-benefits">
                        <li>Stake: <strong>100 MCT</strong></li>
                        <li>1.0x pool share</li>
                        <li>10% fee pool share</li>
                        <li>Entry tier</li>
                    </ul>
                </div>
                
                <div class="tier-card silver">
                    <div class="tier-badge">ğŸ¥ˆ</div>
                    <h3 class="tier-name" style="color: var(--silver);">Silver</h3>
                    <div class="tier-requirements">
                        8+ hours/day uptime<br>
                        2 GB storage
                    </div>
                    <ul class="tier-benefits">
                        <li>Stake: <strong>200 MCT</strong></li>
                        <li>1.5x pool share</li>
                        <li>20% fee pool share</li>
                        <li>Part-time node</li>
                    </ul>
                </div>
                
                <div class="tier-card gold">
                    <div class="tier-badge">ğŸ¥‡</div>
                    <h3 class="tier-name" style="color: var(--gold);">Gold</h3>
                    <div class="tier-requirements">
                        12+ hours/day uptime<br>
                        4 GB storage
                    </div>
                    <ul class="tier-benefits">
                        <li>Stake: <strong>300 MCT</strong></li>
                        <li>2.0x pool share</li>
                        <li>30% fee pool share</li>
                        <li>Active node</li>
                    </ul>
                </div>
                
                <div class="tier-card platinum">
                    <div class="tier-badge">ğŸ’</div>
                    <h3 class="tier-name" style="color: var(--platinum);">Platinum</h3>
                    <div class="tier-requirements">
                        16+ hours/day uptime<br>
                        8+ GB storage
                    </div>
                    <ul class="tier-benefits">
                        <li>Stake: <strong>400 MCT</strong></li>
                        <li>3.0x pool share</li>
                        <li>40% fee pool share</li>
                        <li>Dedicated node</li>
                    </ul>
                </div>
            </div>
            
            <!-- Pool Distribution Example -->
            <div class="card mt-4" style="background: var(--bg-dark);">
                <h4 style="margin: 0 0 16px;">ğŸ“Š How Daily Rewards Work</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div>
                        <strong style="color: var(--primary);">1. Daily Pool</strong>
                        <p style="color: var(--text-muted); font-size: 14px; margin: 8px 0 0;">
                            100 MCT maximum is distributed each day at midnight UTC.
                        </p>
                    </div>
                    <div>
                        <strong style="color: var(--primary);">2. Weighted Relays</strong>
                        <p style="color: var(--text-muted); font-size: 14px; margin: 8px 0 0;">
                            Your relays Ã— tier multiplier = your weighted share.
                        </p>
                    </div>
                    <div>
                        <strong style="color: var(--primary);">3. Fair Distribution</strong>
                        <p style="color: var(--text-muted); font-size: 14px; margin: 8px 0 0;">
                            Your share = (your weighted / total weighted) Ã— 100 MCT.
                        </p>
                    </div>
                </div>
            </div>
            
            <!-- Missed Rewards Redistribution System -->
            <div class="card mt-4" style="border: 2px solid #f59e0b; background: rgba(245, 158, 11, 0.05);">
                <h4 style="margin: 0 0 16px; color: #f59e0b;">âš ï¸ Missed Rewards Redistribution System</h4>
                <p style="color: var(--text-muted); font-size: 14px; margin-bottom: 16px;">
                    If you stake for a higher tier but don't meet the uptime requirement, you'll only receive proportional rewards. 
                    The missed portion goes to nodes who met their uptime goals.
                </p>
                
                <div style="background: var(--bg-card); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h5 style="margin: 0 0 12px; color: var(--text-primary);">ğŸ“ How It's Calculated</h5>
                    <div class="code-block" style="background: #0a0a0a; padding: 16px; border-radius: 8px; font-size: 13px;">
<pre style="margin: 0; color: #00ff00;">
Uptime % = (Actual Uptime / Required Uptime) Ã— 100

Actual Reward = Tier Reward Ã— Uptime %
Missed Reward = Tier Reward - Actual Reward

Missed rewards are pooled and redistributed to nodes with 100% uptime.
</pre>
                    </div>
                </div>
                
                <h5 style="margin: 0 0 12px; color: var(--text-primary);">ğŸ“Š Example Scenario</h5>
                <div class="table-container" style="margin-bottom: 16px;">
                    <table style="font-size: 13px;">
                        <thead>
                            <tr>
                                <th>Node</th>
                                <th>Tier</th>
                                <th>Stake</th>
                                <th>Required</th>
                                <th>Actual</th>
                                <th>Uptime%</th>
                                <th>Tier Share</th>
                                <th>Gets</th>
                                <th>Missed</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="background: rgba(239, 68, 68, 0.1);">
                                <td><strong>Node A</strong></td>
                                <td>ğŸ’ Platinum</td>
                                <td>400 MCT</td>
                                <td>16h</td>
                                <td style="color: #ef4444;"><strong>8h</strong></td>
                                <td style="color: #ef4444;">50%</td>
                                <td>40 MCT</td>
                                <td>20 MCT</td>
                                <td style="color: #ef4444;">20 MCT</td>
                            </tr>
                            <tr style="background: rgba(16, 185, 129, 0.1);">
                                <td><strong>Node B</strong></td>
                                <td>ğŸ¥‡ Gold</td>
                                <td>300 MCT</td>
                                <td>12h</td>
                                <td style="color: #10b981;"><strong>12h</strong></td>
                                <td style="color: #10b981;">100%</td>
                                <td>30 MCT</td>
                                <td>30 MCT</td>
                                <td>0 MCT</td>
                            </tr>
                            <tr style="background: rgba(16, 185, 129, 0.1);">
                                <td><strong>Node C</strong></td>
                                <td>ğŸ¥ˆ Silver</td>
                                <td>200 MCT</td>
                                <td>8h</td>
                                <td style="color: #10b981;"><strong>8h</strong></td>
                                <td style="color: #10b981;">100%</td>
                                <td>20 MCT</td>
                                <td>20 MCT</td>
                                <td>0 MCT</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 182, 212, 0.1)); border-radius: 12px; padding: 20px; border: 1px solid rgba(16, 185, 129, 0.3);">
                    <h5 style="margin: 0 0 12px; color: #10b981;">ğŸ Redistribution Result</h5>
                    <p style="font-size: 14px; color: var(--text-muted); margin: 0 0 12px;">
                        <strong>20 MCT missed</strong> (from Node A) Ã· <strong>2 eligible nodes</strong> (B & C with 100% uptime) = <strong>10 MCT bonus each</strong>
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; text-align: center;">
                        <div style="background: var(--bg-card); padding: 12px; border-radius: 8px;">
                            <div style="font-size: 11px; color: var(--text-muted);">Node A (Platinum)</div>
                            <div style="font-size: 20px; font-weight: 700; color: #ef4444;">20 MCT</div>
                            <div style="font-size: 10px; color: #ef4444;">âŒ Lost 20 MCT</div>
                        </div>
                        <div style="background: var(--bg-card); padding: 12px; border-radius: 8px;">
                            <div style="font-size: 11px; color: var(--text-muted);">Node B (Gold)</div>
                            <div style="font-size: 20px; font-weight: 700; color: #10b981;">40 MCT</div>
                            <div style="font-size: 10px; color: #10b981;">âœ… 30 + 10 bonus</div>
                        </div>
                        <div style="background: var(--bg-card); padding: 12px; border-radius: 8px;">
                            <div style="font-size: 11px; color: var(--text-muted);">Node C (Silver)</div>
                            <div style="font-size: 20px; font-weight: 700; color: #10b981;">30 MCT</div>
                            <div style="font-size: 10px; color: #10b981;">âœ… 20 + 10 bonus</div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 16px; padding: 12px; background: rgba(99, 102, 241, 0.1); border-radius: 8px; border-left: 4px solid var(--primary);">
                    <strong style="color: var(--primary);">ğŸ’¡ Key Takeaway:</strong>
                    <span style="color: var(--text-muted); font-size: 13px;">
                        Only stake for a tier you can maintain! A Gold node with 100% uptime earns MORE than a Platinum node with 50% uptime.
                    </span>
                </div>
            </div>
        </div>
    </section>
    <section class="section" id="earnings">
        <div class="container">
            <div class="section-title">
                <h2>ğŸ’° Earning <span>Potential</span></h2>
                <p class="section-subtitle">
                    Relay nodes earn from two sources: minting rewards + fee pool distribution.
                </p>
            </div>
            
            <div class="grid grid-2">
                <div class="card">
                    <div class="card-icon">â›ï¸</div>
                    <h3 class="card-title">Minting Rewards</h3>
                    <p class="card-text mb-3">Earn newly minted MCT for relaying messages.</p>
                    
                    <div class="table-container">
                        <table>
                            <tr>
                                <td>Rate</td>
                                <td><strong>0.001 MCT</strong> per 1,000 messages</td>
                            </tr>
                            <tr>
                                <td>Daily Cap</td>
                                <td>100 MCT total (shared by all nodes)</td>
                            </tr>
                            <tr>
                                <td>Halving</td>
                                <td>Every 100,000 MCT minted</td>
                            </tr>
                            <tr>
                                <td>Tier Bonus</td>
                                <td>âŒ No (always 1x)</td>
                            </tr>
                        </table>
                    </div>
                    
                    <p class="card-text mt-3" style="font-size: 0.85rem;">
                        <em>Example: Relay 10 million messages = 10 MCT earned</em>
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">ğŸ’°</div>
                    <h3 class="card-title">Fee Pool Rewards</h3>
                    <p class="card-text mb-3">Share of 0.1% transfer fees based on tier.</p>
                    
                    <div class="table-container">
                        <table>
                            <tr>
                                <td>Source</td>
                                <td>0.1% of all MCT transfers</td>
                            </tr>
                            <tr>
                                <td>Distribution</td>
                                <td>Tier-weighted among active nodes</td>
                            </tr>
                            <tr>
                                <td>Daily Cap</td>
                                <td>âŒ No cap</td>
                            </tr>
                            <tr>
                                <td>Tier Bonus</td>
                                <td>âœ… Yes (1x - 3x)</td>
                            </tr>
                        </table>
                    </div>
                    
                    <p class="card-text mt-3" style="font-size: 0.85rem;">
                        <em>Example: 1M MCT transferred = 1,000 MCT in pool</em>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Requirements -->
    <section class="section" id="requirements" style="background: var(--bg-card);">
        <div class="container">
            <div class="section-title">
                <h2>ğŸ“‹ <span>Requirements</span></h2>
            </div>
            
            <div class="grid grid-3">
                <div class="card">
                    <div class="card-icon">ğŸª™</div>
                    <h3 class="card-title">MCT Stake (Tier-Based)</h3>
                    <p class="card-text">
                        Stake MCT tokens based on your chosen tier: 100 (Bronze), 200 (Silver), 300 (Gold), or 400 (Platinum). 
                        Stake is returned when you deactivate.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">ğŸ‘¤</div>
                    <h3 class="card-title">Registered Identity</h3>
                    <p class="card-text">
                        Must register your identity on-chain first before becoming a relay node.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">â›½</div>
                    <h3 class="card-title">RAMA for Gas</h3>
                    <p class="card-text">
                        Need RAMA tokens to pay transaction fees on Ramestta blockchain.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">ğŸ’¾</div>
                    <h3 class="card-title">Storage Space</h3>
                    <p class="card-text">
                        Minimum 1 GB for Bronze tier. More storage = higher tier = more rewards.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">â°</div>
                    <h3 class="card-title">Uptime</h3>
                    <p class="card-text">
                        Minimum 4 hours/day for Bronze. Tracked via heartbeat every 5 minutes.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">ğŸ“±</div>
                    <h3 class="card-title">Android Device</h3>
                    <p class="card-text">
                        Run RamaPay wallet with relay service enabled. Works on phone or tablet.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Can Still Chat? -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2>â“ Frequently <span>Asked Questions</span></h2>
            </div>
            
            <div class="grid grid-2">
                <div class="card">
                    <h3 class="card-title">Can I still chat as a normal user?</h3>
                    <p class="card-text">
                        <strong>YES!</strong> When you become a relay node, you're BOTH a normal user AND a relay node. 
                        You can still send and receive your own messages while earning rewards for relaying others' messages.
                    </p>
                </div>
                
                <div class="card">
                    <h3 class="card-title">Can I stop being a relay node?</h3>
                    <p class="card-text">
                        <strong>YES!</strong> Call deactivateNodeById() anytime. Your MCT stake is returned, 
                        and you go back to being a normal user. No penalties.
                    </p>
                </div>
                
                <div class="card">
                    <h3 class="card-title">Can relay nodes read my messages?</h3>
                    <p class="card-text">
                        <strong>NO!</strong> Messages are encrypted end-to-end BEFORE being sent to relay nodes. 
                        Relays only see encrypted blobs - they cannot decrypt the content.
                    </p>
                </div>
                
                <div class="card">
                    <h3 class="card-title">What happens if I go offline?</h3>
                    <p class="card-text">
                        Your uptime tracker stops accumulating. If offline for more than 5 minutes, 
                        your session ends. Your tier may decrease if daily uptime drops below thresholds.
                    </p>
                </div>
                
                <div class="card">
                    <h3 class="card-title">How do I claim rewards?</h3>
                    <p class="card-text">
                        In RamaPay: Go to Chat Settings â†’ Relay Node â†’ Claim Rewards. 
                        You can claim minting rewards and fee pool rewards separately.
                    </p>
                </div>
                
                <div class="card">
                    <h3 class="card-title">Can I lose my stake?</h3>
                    <p class="card-text">
                        Only if you're blacklisted for malicious behavior (e.g., spam, attacks). 
                        Normal deactivation always returns your full stake.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="section" style="background: var(--gradient-primary);">
        <div class="container text-center">
            <h2 style="color: white; margin-bottom: 16px;">Ready to Earn MCT?</h2>
            <p style="color: rgba(255,255,255,0.8); max-width: 600px; margin: 0 auto 32px;">
                Download RamaPay, stake 100 MCT, and start earning rewards as a relay node.
            </p>
            <a href="download.html" class="btn btn-lg" style="background: white; color: var(--primary);">
                ğŸ“± Download RamaPay Now
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="logo">
                        <div class="logo-icon">ğŸ’¬</div>
                        <span>MumbleChat</span>
                    </a>
                    <p>Native decentralized messaging protocol on Ramestta blockchain.</p>
                </div>
                
                <div>
                    <h4 class="footer-title">Protocol</h4>
                    <ul class="footer-links">
                        <li><a href="protocol.html">How It Works</a></li>
                        <li><a href="protocol.html#encryption">Encryption</a></li>
                        <li><a href="protocol.html#identity">Identity</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="footer-title">Token</h4>
                    <ul class="footer-links">
                        <li><a href="token.html">MCT Tokenomics</a></li>
                        <li><a href="token.html#halving">Halving</a></li>
                        <li><a href="token.html#rewards">Rewards</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="footer-title">Resources</h4>
                    <ul class="footer-links">
                        <li><a href="download.html">Download</a></li>
                        <li><a href="docs.html">Documentation</a></li>
                        <li><a href="https://ramascan.com" target="_blank">RamaScan</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <span>Â© 2026 MumbleChat Protocol. Built on Ramestta.</span>
            </div>
        </div>
    </footer>
    
    <script>
        // Contract addresses
        const MCT_TOKEN = '0xEfD7B65676FCD4b6d242CbC067C2470df19df1dE';
        const REGISTRY = '0x4f8D4955F370881B05b68D2344345E749d8632e3';
        const RPC_URL = 'https://blockchain.ramestta.com';
        const HUB_API_URL = 'https://hub.mumblechat.com/api/stats';
        
        // Function selectors
        function getFunctionSelector(name) {
            const sigs = {
                'feePool': '0xae2e933b',
                'getTodayPoolInfo': '0xc8aff12f',
                'totalRelayNodes': '0x8f7fb0a2'
            };
            return sigs[name] || '0x';
        }
        
        // Make eth_call
        async function ethCall(to, data) {
            const response = await fetch(RPC_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    jsonrpc: '2.0',
                    id: 1,
                    method: 'eth_call',
                    params: [{ to, data }, 'latest']
                })
            });
            const result = await response.json();
            return result.result;
        }
        
        // Format big number from hex (with 18 decimals) - shows 6 decimal places
        function formatMCT(hexValue) {
            if (!hexValue || hexValue === '0x') return '0.000000';
            const value = BigInt(hexValue);
            const decimals = BigInt(10 ** 18);
            const whole = value / decimals;
            const fraction = (value % decimals) / BigInt(10 ** 12); // 6 decimal places
            return `${whole.toLocaleString()}.${fraction.toString().padStart(6, '0')}`;
        }
        
        // Parse uint256 from hex
        function parseUint256(hexValue) {
            if (!hexValue || hexValue === '0x') return 0n;
            return BigInt(hexValue);
        }
        
        // Fetch hub stats (bonus data)
        async function fetchHubStats() {
            try {
                const response = await fetch(HUB_API_URL);
                if (!response.ok) return null;
                const data = await response.json();
                console.log('ğŸ“¡ Hub stats fetched:', data);
                return data;
            } catch (error) {
                console.warn('Hub API unavailable:', error);
                return null;
            }
        }
        
        // Load live stats
        async function loadNetworkStats() {
            try {
                // PRIMARY: Get blockchain data (always free to read)
                const feePoolHex = await ethCall(MCT_TOKEN, getFunctionSelector('feePool'));
                const feePoolBalance = formatMCT(feePoolHex);
                document.getElementById('feePoolAmount').textContent = `${feePoolBalance} MCT`;
                document.getElementById('feePoolDisplay').textContent = `${feePoolBalance} MCT`;
                
                // Get total relay nodes from blockchain
                const totalNodesHex = await ethCall(REGISTRY, getFunctionSelector('totalRelayNodes'));
                const totalNodes = parseUint256(totalNodesHex);
                document.getElementById('activeNodesCount').textContent = totalNodes.toString();
                
                // Get today's pool info from blockchain
                const poolInfoHex = await ethCall(REGISTRY, getFunctionSelector('getTodayPoolInfo'));
                if (poolInfoHex && poolInfoHex.length > 2) {
                    const cleanHex = poolInfoHex.slice(2);
                    const totalRelays = BigInt('0x' + cleanHex.slice(64, 128));
                    const numContributors = BigInt('0x' + cleanHex.slice(256, 320));
                    
                    document.getElementById('todayRelaysCount').textContent = totalRelays.toLocaleString();
                    document.getElementById('dailyRelaysDisplay').textContent = totalRelays.toLocaleString();
                    document.getElementById('contributorsDisplay').textContent = `${numContributors} nodes`;
                }
                
                // BONUS: Get hub data for live hub nodes (optional enhancement)
                const hubStats = await fetchHubStats();
                if (hubStats && hubStats.totalNodes > 0) {
                    console.log(`âœ¨ Bonus: ${hubStats.totalNodes} hub nodes online with ${hubStats.totalUsers} users`);
                    // Hub data available for future use
                }
                
            } catch (error) {
                console.error('Failed to load network stats:', error);
            }
        }
        
        // Load on page load
        document.addEventListener('DOMContentLoaded', loadNetworkStats);
        
        // Refresh every 30 seconds
        setInterval(loadNetworkStats, 30000);
    </script>
    
    <!-- Bottom Navigation for Mobile -->
    <nav class="bottom-nav">
        <div class="bottom-nav-container">
            <a href="index.html" class="bottom-nav-item">
                <span class="bottom-nav-icon">ğŸ </span>
                <span class="bottom-nav-label">Home</span>
            </a>
            <div class="bottom-nav-item bottom-nav-dropdown active" onclick="toggleNetworkMenu(this)">
                <span class="bottom-nav-icon">ğŸ“¡</span>
                <span class="bottom-nav-label">Network</span>
                <div class="bottom-nav-menu">
                    <a href="relay-nodes.html" class="active">ğŸ“‹ Relay Nodes</a>
                    <a href="network-status.html">ğŸ“¡ Network Status</a>
                    <div class="divider"></div>
                    <a href="relay-node.html" style="color: #4bc0c8;">ğŸš€ Run a Node</a>
                </div>
            </div>
            <a href="conversations.html" class="bottom-nav-item">
                <span class="bottom-nav-icon">ğŸ’¬</span>
                <span class="bottom-nav-label">Chat</span>
            </a>
            <a href="token.html" class="bottom-nav-item">
                <span class="bottom-nav-icon">ğŸª™</span>
                <span class="bottom-nav-label">Token</span>
            </a>
            <a href="docs.html" class="bottom-nav-item">
                <span class="bottom-nav-icon">ğŸ“š</span>
                <span class="bottom-nav-label">Docs</span>
            </a>
        </div>
    </nav>
    
    <script>
        function toggleNetworkMenu(el) {
            el.classList.toggle('open');
        }
        document.addEventListener('click', function(e) {
            // Close menu when clicking a link inside it
            if (e.target.closest('.bottom-nav-menu a')) {
                document.querySelectorAll('.bottom-nav-dropdown').forEach(d => d.classList.remove('open'));
                return;
            }
            if (!e.target.closest('.bottom-nav-dropdown')) {
                document.querySelectorAll('.bottom-nav-dropdown').forEach(d => d.classList.remove('open'));
            }
        });
    </script>
    <script src="js/app.js"></script>
</body>
</html>
