<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MumbleChat Protocol - Native Decentralized Messaging on Ramestta</title>
    <meta name="description" content="MumbleChat Protocol: The first truly decentralized, native messaging protocol on Ramestta blockchain. End-to-end encrypted, relay node rewards, MCT tokenomics.">
    <meta name="keywords" content="MumbleChat, Ramestta, decentralized messaging, blockchain chat, MCT token, relay nodes, encrypted messaging">
    
    <!-- Open Graph -->
    <meta property="og:title" content="MumbleChat Protocol - Native Decentralized Messaging">
    <meta property="og:description" content="End-to-end encrypted messaging with MCT token rewards for relay nodes. Built natively on Ramestta blockchain.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mumblechat.com">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="icons/icon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="icons/icon-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icons/icon-16.png">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="MumbleChat">
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <div class="logo-icon">üí¨</div>
                <span>MumbleChat</span>
            </a>
            
            <ul class="nav-links">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="protocol.html">Protocol</a></li>
                <li><a href="token.html">MCT Token</a></li>
                <li class="nav-dropdown">
                    <a>üåê Network</a>
                    <div class="dropdown-menu">
                        <a href="relay-nodes.html">üìã Relay Nodes</a>
                        <a href="network-status.html">üì° Network Status</a>
                        <div class="dropdown-divider"></div>
                        <a href="relay-node.html" style="color: #4bc0c8;">üöÄ Run a Node</a>
                    </div>
                </li>
                <li><a href="download.html">Download</a></li>
                <li><a href="docs.html">Docs</a></li>
            </ul>
            
            <div class="nav-actions">
                <a href="conversations.html" class="btn btn-primary">
                    Chat Now
                </a>
                <button class="mobile-menu-btn">‚ò∞</button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content animate-fade-in">
            <div class="hero-badge">
                <span>üöÄ</span>
                <span>V3.0 - Native Protocol ‚Ä¢ 99% Complete</span>
            </div>
            
            <h1 class="hero-title">
                Truly Decentralized<br>
                <span>Messaging Protocol</span>
            </h1>
            
            <p class="hero-subtitle">
                MumbleChat Protocol: Native, end-to-end encrypted P2P messaging on Ramestta blockchain. 
                Kademlia DHT routing, STUN/UDP hole punching, Sybil-resistant peer discovery. 
                Earn MCT tokens as a relay node. Zero central servers.
            </p>
            
            <div class="hero-actions">
                <a href="download.html" class="btn btn-primary btn-lg">
                    üì± Download RamaPay
                </a>
                <a href="relay-node.html" class="btn btn-primary btn-lg" style="background: linear-gradient(135deg, #4bc0c8, #2dd4bf);">
                    üì° Become a Relay Node
                </a>
                <a href="protocol.html" class="btn btn-secondary btn-lg">
                    üìñ How It Works
                </a>
            </div>
            
            <div class="hero-stats">
                <div class="stat-card">
                    <div class="stat-icon">üì°</div>
                    <div class="stat-value" id="activeNodes">--</div>
                    <div class="stat-label">Active Relay Nodes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí∞</div>
                    <div class="stat-value" id="feePool">-- MCT</div>
                    <div class="stat-label">Fee Pool Balance</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéÅ</div>
                    <div class="stat-value">100 MCT</div>
                    <div class="stat-label">Daily Relay Pool</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-value" id="todayRelays">--</div>
                    <div class="stat-label">Relays Today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üîê</div>
                    <div class="stat-value">100%</div>
                    <div class="stat-label">On-Chain Identity</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Native Section -->
    <section class="section" id="why-native">
        <div class="container">
            <div class="section-title">
                <h2>Why <span>Native Protocol</span>?</h2>
                <p class="section-subtitle">
                    We rebuilt MumbleChat from scratch - no XMTP, no third-party dependencies. 
                    100% native messaging on Ramestta blockchain.
                </p>
            </div>
            
            <div class="features-grid">
                <div class="card">
                    <div class="card-icon">üîê</div>
                    <h3 class="card-title">X25519 Encryption</h3>
                    <p class="card-text">
                        Military-grade end-to-end encryption using X25519 ECDH key exchange 
                        and AES-256-GCM. Keys never leave your device.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">‚õìÔ∏è</div>
                    <h3 class="card-title">On-Chain Identity</h3>
                    <p class="card-text">
                        Your wallet address IS your identity. Public keys stored on 
                        MumbleChatRegistry smart contract. No emails. No phone numbers.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">üåê</div>
                    <h3 class="card-title">Kademlia DHT + NAT Traversal</h3>
                    <p class="card-text">
                        Full Kademlia DHT for peer discovery. STUN servers + UDP hole punching 
                        for direct P2P connections. Relay nodes for offline message storage.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">üí∞</div>
                    <h3 class="card-title">MCT Tokenomics</h3>
                    <p class="card-text">
                        Sustainable reward model with halving every 100K MCT minted. 
                        0.1% transfer fee goes to relay node pool.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">üì±</div>
                    <h3 class="card-title">Native Android</h3>
                    <p class="card-text">
                        Built directly into RamaPay wallet. No WebView hacks. 
                        True native performance with Kotlin/Jetpack.
                    </p>
                </div>
                
                <div class="card">
                    <div class="card-icon">üõ°Ô∏è</div>
                    <h3 class="card-title">Sybil & DoS Resistant</h3>
                    <p class="card-text">
                        Wallet signature verification prevents Sybil attacks. 
                        Rate limiting protects against spam (100 msg/min per peer). 
                        No central point of failure.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Comparison Section -->
    <section class="section" style="background: var(--bg-card);">
        <div class="container">
            <div class="section-title">
                <h2>MumbleChat <span>V1 ‚Üí V2 ‚Üí V3</span></h2>
                <p class="section-subtitle">
                    Evolution from XMTP-based to fully native P2P protocol with Sybil resistance.
                </p>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>V1 (XMTP)</th>
                            <th>V2 (Native)</th>
                            <th>
                                <div class="comparison-header">
                                    V3 (P2P + Security)
                                    <span class="comparison-badge">CURRENT</span>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Protocol</td>
                            <td>XMTP (third-party)</td>
                            <td>Native MumbleChat</td>
                            <td>‚úÖ Full P2P + Kademlia DHT</td>
                        </tr>
                        <tr>
                            <td>Encryption</td>
                            <td>Signal via XMTP</td>
                            <td>X25519 + AES-256-GCM</td>
                            <td>‚úÖ + AEAD Binding (anti-replay)</td>
                        </tr>
                        <tr>
                            <td>Peer Discovery</td>
                            <td>XMTP Network</td>
                            <td>Blockchain Lookup</td>
                            <td>‚úÖ Kademlia DHT + STUN</td>
                        </tr>
                        <tr>
                            <td>NAT Traversal</td>
                            <td>‚ùå None</td>
                            <td>‚ùå None</td>
                            <td>‚úÖ UDP Hole Punching</td>
                        </tr>
                        <tr>
                            <td>Sybil Protection</td>
                            <td>‚ùå None</td>
                            <td>‚ùå None</td>
                            <td>‚úÖ Wallet Signature Verification</td>
                        </tr>
                        <tr>
                            <td>Rate Limiting</td>
                            <td>‚ùå None</td>
                            <td>‚ùå None</td>
                            <td>‚úÖ 100 msg/min per peer</td>
                        </tr>
                        <tr>
                            <td>Battery Optimization</td>
                            <td>‚ùå Always-on</td>
                            <td>Basic</td>
                            <td>‚úÖ 4-mode Strategy Manager</td>
                        </tr>
                        <tr>
                            <td>Token Rewards</td>
                            <td>‚ùå None</td>
                            <td>‚úÖ MCT Token</td>
                            <td>‚úÖ MCT V3 + Daily Pool</td>
                        </tr>
                        <tr>
                            <td>Implementation</td>
                            <td>Deprecated</td>
                            <td>Partial</td>
                            <td>‚úÖ 99% Complete</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Quick Stats -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2>Smart <span>Contracts</span></h2>
                <p class="section-subtitle">
                    Deployed and verified on Ramestta Mainnet (Chain ID: 1370)
                </p>
            </div>
            
            <div class="grid grid-2">
                <div class="card">
                    <div class="card-icon">ü™ô</div>
                    <h3 class="card-title">MCT Token</h3>
                    <p class="card-text">ERC-20 with fee pool, halving, and governance.</p>
                    <div class="contract-address mt-3">
                        <code>0xEfD7B65676FCD4b6d242CbC067C2470df19df1dE</code>
                        <button onclick="copyAddress('0xEfD7B65676FCD4b6d242CbC067C2470df19df1dE')">üìã</button>
                    </div>
                    <a href="https://ramascan.com/address/0xEfD7B65676FCD4b6d242CbC067C2470df19df1dE" target="_blank" class="btn btn-secondary btn-sm mt-3">
                        View on RamaScan ‚Üí
                    </a>
                </div>
                
                <div class="card">
                    <div class="card-icon">üìù</div>
                    <h3 class="card-title">MumbleChatRegistry</h3>
                    <p class="card-text">Identity + Relay Node + Tier System.</p>
                    <div class="contract-address mt-3">
                        <code>0x4f8D4955F370881B05b68D2344345E749d8632e3</code>
                        <button onclick="copyAddress('0x4f8D4955F370881B05b68D2344345E749d8632e3')">üìã</button>
                    </div>
                    <a href="https://ramascan.com/address/0x4f8D4955F370881B05b68D2344345E749d8632e3" target="_blank" class="btn btn-secondary btn-sm mt-3">
                        View on RamaScan ‚Üí
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="section" style="background: var(--gradient-primary);">
        <div class="container text-center">
            <h2 style="color: white; margin-bottom: 16px;">Ready to Experience True Decentralization?</h2>
            <p style="color: rgba(255,255,255,0.8); max-width: 600px; margin: 0 auto 32px;">
                Download RamaPay wallet, register your identity on-chain, and start 
                messaging with full encryption and privacy.
            </p>
            <div class="hero-actions">
                <a href="download.html" class="btn btn-lg" style="background: white; color: var(--primary);">
                    üì± Download Now
                </a>
                <a href="relay-nodes.html" class="btn btn-lg" style="background: transparent; border: 2px solid white; color: white;">
                    üåê Become a Relay Node
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <a href="index.html" class="logo">
                        <div class="logo-icon">üí¨</div>
                        <span>MumbleChat</span>
                    </a>
                    <p>Native decentralized messaging protocol on Ramestta blockchain. 
                    End-to-end encrypted. Relay node rewards. True ownership.</p>
                </div>
                
                <div>
                    <h4 class="footer-title">Protocol</h4>
                    <ul class="footer-links">
                        <li><a href="protocol.html">How It Works</a></li>
                        <li><a href="protocol.html#encryption">Encryption</a></li>
                        <li><a href="protocol.html#identity">Identity</a></li>
                        <li><a href="protocol.html#messaging">Messaging</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="footer-title">Token</h4>
                    <ul class="footer-links">
                        <li><a href="token.html">MCT Tokenomics</a></li>
                        <li><a href="token.html#halving">Halving</a></li>
                        <li><a href="token.html#rewards">Rewards</a></li>
                        <li><a href="token.html#governance">Governance</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="footer-title">Relay Nodes</h4>
                    <ul class="footer-links">
                        <li><a href="relay-nodes.html">Become a Node</a></li>
                        <li><a href="relay-nodes.html#tiers">Tier System</a></li>
                        <li><a href="relay-nodes.html#earnings">Earnings</a></li>
                        <li><a href="relay-nodes.html#requirements">Requirements</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="footer-title">Resources</h4>
                    <ul class="footer-links">
                        <li><a href="download.html">Download</a></li>
                        <li><a href="docs.html">Documentation</a></li>
                        <li><a href="https://ramascan.com" target="_blank">RamaScan</a></li>
                        <li><a href="https://ramestta.com" target="_blank">Ramestta</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <span>¬© 2026 MumbleChat Protocol V3.0 (99% Complete). Built on Ramestta.</span>
                <div class="footer-social">
                    <a href="#" title="Twitter">ùïè</a>
                    <a href="#" title="Discord">üí¨</a>
                    <a href="#" title="Telegram">üì±</a>
                    <a href="#" title="GitHub">‚å®Ô∏è</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function copyAddress(address) {
            navigator.clipboard.writeText(address).then(() => {
                alert('Address copied to clipboard!');
            });
        }
        
        // Contract addresses
        const MCT_TOKEN = '0xEfD7B65676FCD4b6d242CbC067C2470df19df1dE';
        const REGISTRY = '0x4f8D4955F370881B05b68D2344345E749d8632e3';
        const RPC_URL = 'https://blockchain.ramestta.com';
        
        // Function selectors
        function getFunctionSelector(name) {
            const sigs = {
                'feePool': '0xae2e933b',
                'getTodayPoolInfo': '0xc8aff12f',
                'totalRelayNodes': '0x8f7fb0a2'
            };
            return sigs[name] || '0x';
        }
        
        // Make eth_call
        async function ethCall(to, data) {
            const response = await fetch(RPC_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    jsonrpc: '2.0',
                    id: 1,
                    method: 'eth_call',
                    params: [{ to, data }, 'latest']
                })
            });
            const result = await response.json();
            return result.result;
        }
        
        // Format big number from hex (with 18 decimals) - shows 6 decimal places
        function formatMCT(hexValue) {
            if (!hexValue || hexValue === '0x') return '0.000000';
            const value = BigInt(hexValue);
            const decimals = BigInt(10 ** 18);
            const whole = value / decimals;
            const fraction = (value % decimals) / BigInt(10 ** 12); // 6 decimal places
            return `${whole.toLocaleString()}.${fraction.toString().padStart(6, '0')}`;
        }
        
        // Parse uint256 from hex
        function parseUint256(hexValue) {
            if (!hexValue || hexValue === '0x') return 0n;
            return BigInt(hexValue);
        }
        
        // Load live stats for hero section
        async function loadHeroStats() {
            try {
                // Get fee pool balance
                const feePoolHex = await ethCall(MCT_TOKEN, getFunctionSelector('feePool'));
                const feePoolBalance = formatMCT(feePoolHex);
                const feePoolEl = document.getElementById('feePool');
                if (feePoolEl) feePoolEl.textContent = `${feePoolBalance} MCT`;
                
                // Get total relay nodes
                const totalNodesHex = await ethCall(REGISTRY, getFunctionSelector('totalRelayNodes'));
                const totalNodes = parseUint256(totalNodesHex);
                const nodesEl = document.getElementById('activeNodes');
                if (nodesEl) nodesEl.textContent = totalNodes.toString();
                
                // Get today's pool info
                const poolInfoHex = await ethCall(REGISTRY, getFunctionSelector('getTodayPoolInfo'));
                if (poolInfoHex && poolInfoHex.length > 2) {
                    const cleanHex = poolInfoHex.slice(2);
                    const totalRelays = BigInt('0x' + cleanHex.slice(64, 128));
                    const relaysEl = document.getElementById('todayRelays');
                    if (relaysEl) relaysEl.textContent = totalRelays.toLocaleString();
                }
                
            } catch (error) {
                console.error('Failed to load hero stats:', error);
            }
        }
        
        // Load on page load
        document.addEventListener('DOMContentLoaded', loadHeroStats);
        
        // Refresh every 30 seconds
        setInterval(loadHeroStats, 30000);
    </script>
    
    <!-- Bottom Navigation for Mobile -->
    <nav class="bottom-nav">
        <div class="bottom-nav-container">
            <a href="index.html" class="bottom-nav-item active">
                <span class="bottom-nav-icon">üè†</span>
                <span class="bottom-nav-label">Home</span>
            </a>
            <div class="bottom-nav-item bottom-nav-dropdown" onclick="toggleNetworkMenu(this)">
                <span class="bottom-nav-icon">üì°</span>
                <span class="bottom-nav-label">Network</span>
                <div class="bottom-nav-menu">
                    <a href="relay-nodes.html">üìã Relay Nodes</a>
                    <a href="network-status.html">üì° Network Status</a>
                    <div class="divider"></div>
                    <a href="relay-node.html" style="color: #4bc0c8;">üöÄ Run a Node</a>
                </div>
            </div>
            <a href="conversations.html" class="bottom-nav-item">
                <span class="bottom-nav-icon">üí¨</span>
                <span class="bottom-nav-label">Chat</span>
            </a>
            <a href="token.html" class="bottom-nav-item">
                <span class="bottom-nav-icon">ü™ô</span>
                <span class="bottom-nav-label">Token</span>
            </a>
            <a href="docs.html" class="bottom-nav-item">
                <span class="bottom-nav-icon">üìö</span>
                <span class="bottom-nav-label">Docs</span>
            </a>
        </div>
    </nav>
    
    <script>
        function toggleNetworkMenu(el) {
            el.classList.toggle('open');
        }
        document.addEventListener('click', function(e) {
            // Close menu when clicking a link inside it
            if (e.target.closest('.bottom-nav-menu a')) {
                document.querySelectorAll('.bottom-nav-dropdown').forEach(d => d.classList.remove('open'));
                return;
            }
            if (!e.target.closest('.bottom-nav-dropdown')) {
                document.querySelectorAll('.bottom-nav-dropdown').forEach(d => d.classList.remove('open'));
            }
        });
    </script>
    <script src="js/app.js"></script>
</body>
</html>